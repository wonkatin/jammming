(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{"+L3W":function(e,t,r){e.exports={shareCodeControl:"shareCodeControl__gl4SWqZsjVr-8rdMdmVW4",cta:"cta__2pLsnCKjPWqAxH-0pXuhjW",ctaArrow:"ctaArrow__1ynA_D2qeHyGhZ384zIXs-"}},"/XLt":function(e,t,r){e.exports={headerContainer:"headerContainer__3JVmXaVm26j6lJqP1LMNeB",headerWrapper:"headerWrapper__2-TmY3Axn3SwKfGflwOELx",accordionHeader:"accordionHeader__1OHASAPGQZxQoHirF9glQi",arrowIcon:"arrowIcon__1tkk2ju_EqvPksRNqjePl2",overflowControl:"overflowControl__81ZxSo8Ge-wwTI1EpSzL7"}},"/ar6":function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o);t.a=n.a.createActions(["broadcast","newAdapter"])},"08+1":function(e,t,r){"use strict";var o=r("w/QP"),n=r.n(o),i=r("zdiy"),a=r.n(i),s=r("OFL0"),c=r.n(s),l=r("gB9P"),u=r.n(l);function Controller(){this.initialize.apply(this,arguments)}Controller.extend=function extend(e,t){var r,o=this;return r=e&&c()(e,"constructor")?e.constructor:function child(){return o.apply(this,arguments)},a()(r,o,t),r.prototype=n()(o.prototype,e),r.prototype.constructor=r,r.__super__=o.prototype,r},Controller.prototype=u.a.mixin({}),t.a=Controller},"2OGA":function(e,t,r){e.exports={formInputs:"formInputs__2Ty2beJHive8xHVtK7y-Sx",radio:"radio__1pvBYxQiAcBv3jyi7fqoT2",optionsTitle:"optionsTitle__Q9RQsRPq6FJV9HnjPkIip",reportForm:"reportForm__3OZcAa0yg8hF50aKjxCUax",reportFormText:"reportFormText__2haJQpKZRpmi20hr8B9WyK",reportFormTextDisabled:"reportFormTextDisabled__2gu-n4N4fRV3LHOOFe6BcR",reportFormIntroText:"reportFormIntroText__1OquPQBDdv0J_4OkBT-6MX",reportFormButton:"reportFormButton__3LbuiQyNcdKXjhmf2C2GfB",reportFormButtonDisabled:"reportFormButtonDisabled__5gkEZtt6gJ7vRywDuLuym",formButtonWrapper:"formButtonWrapper__1AG2sXlWJLYkHpJXxxYoIA",formButton:"formButton__1SxY4YSv6JVu8ZZDVuhma-",errorMessage:"errorMessage__19GZMKKN5QsbC6KHD2cpfB",helpText:"helpText__28--J60NXxX8hShm1sooS7"}},"49qb":function(e,t,r){e.exports={container:"container__2vMJxNx57a1Av6qb0gmjpl",topPane:"topPane__1yRr0tuslEdYlbf9nwjEit",bottomPane:"bottomPane__358-ZaQVxlDAPx081ksng"}},"55fy":function(e,t,r){e.exports={heading:"heading__32zZOICnFS_W6-JZlLrX2y",subheading:"subheading__rVwyi7V09bKM8slOtu_0E",description:"description__31qWax7kNh79yVS9bXfg3z",slideInLeft:"slideInLeft__XfUkS6UsI-p9lXaZx5ufM",slideOutLeft:"slideOutLeft__2GisNNKrZe2QLl0m1lkzOO"}},"5BBx":function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o);t.a=n.a.createActions(["checkAssessment","resetProject"])},"64WZ":function(e,t,r){e.exports={wrapper:"wrapper__VaU8gnYAWrCTbceryxcdu",heading:"heading__RIGkW-R8LYfNRgLUXKcAZ",body:"body__2aJUSTGtdsBY1gkdshlOpe",button:"button__3EGKNLNuZFJ33B2zcQ5_l6"}},"6GsT":function(e,t,r){e.exports={fileNameInput:"fileNameInput__19PYtjk5QeJcn813N2zFr_",createItemForm:"createItemForm__3JdfLuO1wrdsDeAXeTbVBO",addItemControlEnabled:"addItemControlEnabled__1tJx07EmNjT2_utM26E7Uu"}},"6WOP":function(e,t,r){e.exports={button:"button__3QyyZ7VfF20gYLvlba4bzy",active:"active__3G23BnUo54b_LohtzReol1",exerciseTitle:"exerciseTitle__DMOI_fKuWDiNeRfuuknlN",burger:"burger__4P7-7iPTdceddCJKQSFUg",close:"close__2pot0AW8lJ8x-K9dxddXaS"}},"7/as":function(e,t,r){e.exports={progressElipse:"progressElipse__6-cA4TxgvlD6pCdvybrKt",dot:"dot__p3lLrqurjxgNO7ftVv-2W",dotActive:"dotActive__3jRGa5KREPxpTIKAEJc8th"}},"7ZgC":function(e,t,r){e.exports={folderItem:"folderItem__8wzkcWBR_-KUCwaNxQXUb",fileItem:"fileItem__1gwYQmlAbiWOwfuljNG3F-",fileTreeTreeBtn:"fileTreeTreeBtn__3HqepSIevz5d4L4xIvoC9P",fileTreeTreeBtnActive:"fileTreeTreeBtnActive__1FKsqZEBM3zZzAHpQVCNWo",fileTreeTreeBtnInactive:"fileTreeTreeBtnInactive__3iQ9gjYQ9tD2iWVZfGfrRf",renameForm:"renameForm__1qrGK2uW4rsYEY9VVq-9QB",renameFormInput:"renameFormInput__32evqTQvBv-Ie1Brs2Bu3E",rightIcons:"rightIcons__3bK0ubpCh5WycmqVgnwh5a",dropdown:"dropdown__2zUvb4C2_VpQXwPVjkHdNR",dropdownOption:"dropdownOption__p9cdcaSeFquleaxgYrlvg",icon:"icon__39zXF4eo8vuMIjXSrO4Mcl"}},"8bxK":function(e,t,r){e.exports={lessonAuthors:"lessonAuthors__3bfcBEwgIFV4CVq4pqmQd6",lessonAuthorLink:"lessonAuthorLink__3KJBstxpIcPDa2u8n-BWs",slideInLeft:"slideInLeft__3PdU5i6SGy1B8xnI8ThUQ8",slideOutLeft:"slideOutLeft__38dvxdeahZSmkeS5TEn1Mg"}},"9SBa":function(e,t,r){e.exports={dialogButton:"dialogButton__3RVPauNAxMm6dvvo4NTdvw"}},BLes:function(e,t,r){e.exports={container:"container__3-N7B_aVtMN_91s82EnDyR",leftPane:"leftPane__wbc0Ui8vtOHIa7kryqxv6",topSmallPane:"topSmallPane__3aF0w2LCaoGS6MOzBWbYz4",bottomSmallPane:"bottomSmallPane__1mpw3ZmtyD9H0J5RWIBDyU",rightPane:"rightPane__FY51sTpRFFBlhT6RP-wMI"}},BeKX:function(e,t,r){e.exports={bugsReport:"bugsReport__1I49PVMRlAmqZfJIzcUXlh",bugsRadio:"bugsRadio__ngxllC2vOCi4OhVUUayii",bugsText:"bugsText__3fUfdVoN-t30a4ZLdJD6rl",headerContainer:"headerContainer__2r4DZ_KW_1sRV089ZhfHum",headerWrapper:"headerWrapper__2NEj0x9F7uFwtrIxcNbK1F",accordionHeader:"accordionHeader__3L25gnzoRiY49SZxULfsF8",arrowIcon:"arrowIcon__rp-wlHPkFX7391duytX6Y",reportButton:"reportButton__22jhMsGnCH7qrk_r2pFHG2",thanking:"thanking__g_fjpwe8NaXpTRCczFCG5",failure:"failure__3mfcefZ4-SzHMrZoUHb1-t",checkIcon:"checkIcon__2R8vO0qx4F5O2Fmfi0AW0A"}},D5xi:function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o),i=r("iJ35");t.a=n.a.createStore({listenables:[i.a],resized:function resized(){this.trigger()},resizing:function resizing(){this.trigger()}})},DLIK:function(e,t,r){e.exports={body:"body__2YAqSw_nsALLlzqgZCt7-f",item:"item__3uOKmIw4s4QfZtP8lM6nmj",centeredCheckbox:"centeredCheckbox__3Bvh4aldiBBK3CertU7Cnq",narrativeMarkdown:"narrativeMarkdown__1pqyNDZ_zljr-gC8Q1pur9"}},FBJ6:function(e,t,r){"use strict";var o=r("/MKj"),n=r("9Csu"),i=r("+IkO"),a=r("T99f"),s=r("T2dD"),c=r("q1tI"),l=r.n(c),u=r("17x9"),p=r.n(u),f=r("USFT"),h=r("rIqd"),d=r("JoHf"),y=r("DsPH"),m=r("X1lt"),_=r("64WZ"),b=r.n(_);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function LakituModal(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LakituModal),_possibleConstructorReturn(this,_getPrototypeOf(LakituModal).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(LakituModal,c["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(LakituModal,[{key:"render",value:function render(){var e=this.props,t=e.isOpen,r=e.keepTrying,o=e.getAnswer;return l.a.createElement(m.a,{isOpen:t,onOutsideClick:r},l.a.createElement("div",{className:b.a.wrapper},l.a.createElement("h3",{className:b.a.heading},Object(f.b)("views.learning_environment.components.lakitu_modal.heading")),l.a.createElement("p",{className:b.a.body},Object(f.b)("views.learning_environment.components.lakitu_modal.body")),l.a.createElement(h.a,{theme:"secondary",className:b.a.button,onClick:r,block:!0},Object(f.b)("views.learning_environment.components.lakitu_modal.keep_trying")),l.a.createElement(h.a,{theme:"secondary",className:b.a.button,onClick:o,block:!0,outline:!0},Object(f.b)("views.learning_environment.components.lakitu_modal.get_code"))))}}]),LakituModal}();g.propTypes={isOpen:p.a.bool.isRequired,keepTrying:p.a.func.isRequired,getAnswer:p.a.func.isRequired};var v=g;function LakituContainer_typeof(e){return(LakituContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LakituContainer_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LakituContainer_possibleConstructorReturn(e,t){return!t||"object"!==LakituContainer_typeof(t)&&"function"!=typeof t?function LakituContainer_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LakituContainer_getPrototypeOf(e){return(LakituContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LakituContainer_setPrototypeOf(e,t){return(LakituContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function LakituContainer(){var e,t;!function LakituContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LakituContainer);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=LakituContainer_possibleConstructorReturn(this,(e=LakituContainer_getPrototypeOf(LakituContainer)).call.apply(e,[this].concat(o)))).state={isModalOpen:!1,isButtonFlashing:!0,shouldOfferHelp:!1,lastOfferedHelp:0},t.trackClick=function(e){var r=t.props,o=r.course,n=r.lesson,i=r.exercise;t.props.trackClick({data:{target:e,lesson:n,exercise:i,skill:o}})},t.onButtonClick=function(){t.trackClick("lakituSolutionButton"),t.setState({isModalOpen:!0,isButtonFlashing:!1})},t.closeModal=function(){"modal"===t.props.type&&d.a.dismissHelp(),t.setState({isModalOpen:!1,shouldOfferHelp:!1})},t.keepTrying=function(){t.trackClick("lakituKeepTrying"),t.closeModal()},t.getAnswer=function(){t.trackClick("lakituGetCode"),t.closeModal(),Object(y.a)("info","Lakitu restoring solution code and force passing checkpoints"),d.a.solution().then(t.props.forcePassClicked)},t}return function LakituContainer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LakituContainer_setPrototypeOf(e,t)}(LakituContainer,c["Component"]),function LakituContainer_createClass(e,t,r){return t&&LakituContainer_defineProperties(e.prototype,t),r&&LakituContainer_defineProperties(e,r),e}(LakituContainer,[{key:"render",value:function render(){var e=this.state,t=e.isModalOpen,r=e.isButtonFlashing,o=e.shouldOfferHelp,n=this.props.type;return o?l.a.createElement("span",null,"button"===n&&l.a.createElement(h.a,{theme:"yellow",go:r,onClick:this.onButtonClick},Object(f.b)("views.learning_environment.components.code_editor.lakitu_button")),l.a.createElement(v,{isOpen:"modal"===n||t,keepTrying:this.keepTrying,getAnswer:this.getAnswer})):null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var r=e.failureCount,o=t.lastOfferedHelp,n={};0===r&&(n.shouldOfferHelp=!1,n.lastOfferedHelp=0);return o<r&&r%2==0&&(n.shouldOfferHelp=!0,n.lastOfferedHelp=r),n}}]),LakituContainer}();C.propTypes={type:p.a.oneOf(["button","modal"]).isRequired,course:p.a.string,lesson:p.a.string,exercise:p.a.string.isRequired,failureCount:p.a.number,forcePassClicked:p.a.func,trackClick:p.a.func};var O=C,P={forcePassClicked:a.g,trackClick:s.d};t.a=Object(o.b)(function mapStateToProps(e){var t=Object(n.b)(e);return{course:t.course,exercise:t.exerciseSlug,lesson:t.contentItemSlug,failureCount:Object(i.c)(e)}},P)(O)},HEIk:function(e,t,r){"use strict";(function(e){var o=r("33yf"),n=r.n(o),i=r("lY48"),a=r.n(i),s=r("Puqe"),c=r.n(s),l=r("lSCD"),u=r.n(l),p=r("gLAU"),f=r.n(p),h=r("sEfC"),d=r.n(h),y=r("RGd0"),m=r.n(y),_=r("4qC0"),b=r.n(_),g=r("TP7S"),v=r.n(g),C=r("17x9"),O=r.n(C),P=r("q1tI"),w=r.n(P),k=r("TSYQ"),S=r.n(k),E=r("zHpA"),T=r("kwB3"),j=r.n(T),x=r("nDn8");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var R=function(t){function CMEditor(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CMEditor);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(CMEditor)).call.apply(e,[this].concat(o)))).setEditorReference=function(e){t.editorParent=e},t.onChange=function(){var e=t.getContent();u()(t.props.onChange)&&(t.props.onChange(e),t.markClean())},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(CMEditor,P["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(CMEditor,[{key:"componentDidMount",value:function componentDidMount(){this.showFile()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props,r=t.file,o=t.readOnly,n=e.file;r&&(r!==n?this.showFile():o&&this.updateFileContent(r))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.destroy()}},{key:"hasEditor",value:function hasEditor(){return this.codeMirror&&this.editorParent}},{key:"refresh",value:function refresh(){this.hasEditor()&&(this.updateHeight(),this.codeMirror.refresh())}},{key:"updateHeight",value:function updateHeight(){if(this.hasEditor()){var e=this.props.height;v()(e)&&(e=this.editorParent.clientHeight),this.codeMirror.getWrapperElement().style.height=b()(e)?e:"".concat(e,"px")}}},{key:"destroy",value:function destroy(){if(this.codeMirror){var e=this.codeMirror.getWrapperElement();e&&e.parentNode.removeChild(e)}}},{key:"getContent",value:function getContent(){return m()(this.codeMirror,"getValue")}},{key:"showFile",value:function showFile(){var t=this,o=this.editorParent;if(o){var i=this.props,s=i.file,c=i.options;if(s){var l;s.name&&!s.name.match(/\.min\./)&&(l=Object(E.c)(s.name));var u=Object.assign({},x.a,c,{value:""});if(this.codeMirror||(this.codeMirror=Object(E.a)(o,u),this.codeMirror.on("change",d()(this.onChange,200))),b()(s.content)){this.codeMirror.setOption("mode",l),this.codeMirror.setOption("readOnly",this.props.readOnly);var p=c.lint;v()(c.lint)&&(p=E.b.indexOf(l)>-1),p?a()({id:"./linters",load:function load(){return Promise.all([Promise.all([r.e(237),r.e(182)]).then(r.bind(null,"ltwa"))]).then(function(e){return e[0]})},path:function path(){return n.a.join(e,"./linters")},resolve:function resolve(){return"ltwa"},chunkName:function chunkName(){return"linters"}}).then(function(){t.codeMirror&&t.codeMirror.setOption("lint",p)}):this.codeMirror.setOption("lint",!1),this.codeMirror.getDoc().setValue(s.content),this.markClean(),this.codeMirror.getDoc().clearHistory()}f()(function(){return t.refresh()})}}}},{key:"updateFileContent",value:function updateFileContent(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getContent();e.content!==t&&this.codeMirror.getDoc().setValue(e.content)}},{key:"markClean",value:function markClean(){this.codeMirror&&this.codeMirror.getDoc().markClean()}},{key:"isClean",value:function isClean(){return!this.codeMirror||this.codeMirror.getDoc().isClean()}},{key:"render",value:function render(){var e,t=c()(this.props,"onChange","disabled","content"),r=S()((_defineProperty(e={},j.a.editor,!0),_defineProperty(e,j.a.disabled,this.props.disabled),_defineProperty(e,E.e.defaults,!0),_defineProperty(e,E.e.cc,!0),e),this.props.className);return w.a.createElement("div",_extends({},t,{className:r,ref:this.setEditorReference}))}}]),CMEditor}();R.propTypes={file:O.a.object,onChange:O.a.func,disabled:O.a.bool,readOnly:O.a.bool,height:O.a.number,options:O.a.object,className:O.a.string,persistingFiles:O.a.bool},R.defaultProps={readOnly:!1,disabled:!1,content:"",options:{}},t.a=R}).call(this,"/")},HpNv:function(e,t,r){"use strict";var o=r("17x9"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("USFT"),c=r("rIqd"),l=r("y1jB"),u=r("X1lt"),p=(r("bXpr"),r("u1ig")),f=r("oNLn"),h=r("CLRR"),d=r("0ALx"),y=r("gf6L"),m=r("/XLt"),_=r.n(m);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function HelpAccordion(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HelpAccordion);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(HelpAccordion)).call.apply(e,[this].concat(o)))).renderHeader=function(e,r){var o=r?"arrow-thin-up":"arrow-thin-down",n=t.props.toggleExpansion;return a.a.createElement("div",{className:_.a.headerWrapper},a.a.createElement("div",{onClick:function onClick(){return n(e)},role:"presentation",className:_.a.headerContainer},a.a.createElement("p",{className:_.a.accordionHeader},e),a.a.createElement(y.a,{name:o,className:_.a.arrowIcon})))},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HelpAccordion,i["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(HelpAccordion,[{key:"render",value:function render(){var e=this.props,t=e.expandedHeader,r=e.header,o=e.children,n=r===t;return a.a.createElement(h.a,{header:this.renderHeader(r,n),expanded:n},a.a.createElement(d.VelocityComponent,function contentAnimation(e){return{animation:{opacity:e?1:0,translateY:e?0:"-10px",easing:"ease"},duration:300}}(n),a.a.createElement("div",{className:_.a.overflowControl},o)))}}]),HelpAccordion}();b.propTypes={toggleExpansion:n.a.func.isRequired,children:n.a.node,header:n.a.string,expandedHeader:n.a.string};var g=b,v=r("/MKj"),C=r("FzGg"),O=r("PWMj"),P=r("xerY"),w=function contentAnimation(e){return{animation:{opacity:e?1:0,translateY:e?0:"-10px",easing:"ease"},duration:300}},k={enter:{animation:{opacity:[1,0],translateY:[0,"-10px"]},easing:"easeInOutQuad",duration:300},leave:{animation:{opacity:[0,1],translateY:["-10px",0]},easing:"easeInOutQuad",duration:300}},S=r("BeKX"),E=r.n(S);function BugsSection_typeof(e){return(BugsSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BugsSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function BugsSection_possibleConstructorReturn(e,t){return!t||"object"!==BugsSection_typeof(t)&&"function"!=typeof t?function BugsSection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BugsSection_getPrototypeOf(e){return(BugsSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BugsSection_setPrototypeOf(e,t){return(BugsSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var T={type:null,expanded:"",value:"",errors:{options:null,description:null},reportingState:""},j=function(e){function BugsSection(){var e,t;!function BugsSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BugsSection);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=BugsSection_possibleConstructorReturn(this,(e=BugsSection_getPrototypeOf(BugsSection)).call.apply(e,[this].concat(o)))).state=_objectSpread({},T),t.toggleExpansion=function(e){return t.setState(function(t){return{expanded:t.expanded===e?"":e,value:""}})},t.renderRadio=function(e,r,o){return a.a.createElement("div",{className:E.a.headerWrapper,onClick:function onClick(){return t.toggleExpansion(o)},role:"presentation"},a.a.createElement(P.f,{checked:r,label:e,className:E.a.bugsRadio}))},t.handleChange=function(e){return t.setState({value:e.target.value})},t.handleSubmit=function(){var e=t.props,r=e.submit,o=e.data;r(_objectSpread({preface:t.state.value,error:{message:""},type:t.state.expanded},o))},t.getReportStatus=function(){var e=t.props.reportOptions,r=t.state,o=r.expanded,n=r.value;switch(r.reportingState){case"success":return a.a.createElement("div",{className:E.a.thanking},a.a.createElement(f.a,{name:"checkmark",className:E.a.checkIcon,size:14}),"Thank you for letting us know! We will review your report soon.");case"failure":return a.a.createElement("div",{className:E.a.failure},"Failed to submit your report. Please try again.");default:return Object.keys(e).map(function(r){return a.a.createElement("div",{className:E.a.bugsReport,key:r},a.a.createElement(h.a,{header:t.renderRadio(e[r],o===r,r),expanded:o===r},a.a.createElement(d.VelocityComponent,w(o===r),a.a.createElement(P.i,{value:n,onChange:t.handleChange,className:E.a.bugsText}),a.a.createElement(c.a,{theme:"blue",type:"index",onClick:t.handleSubmit,disabled:!n.length,className:E.a.reportButton},"Submit"))))})}},t}return function BugsSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BugsSection_setPrototypeOf(e,t)}(BugsSection,i["Component"]),function BugsSection_createClass(e,t,r){return t&&BugsSection_defineProperties(e.prototype,t),r&&BugsSection_defineProperties(e,r),e}(BugsSection,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.submissionStatus;e.submissionStatus!==t&&("success"===t&&this.showConfirmation(!0),"failure"===t&&(console.warn("Failed to submit bug report"),this.showConfirmation(!1)))}},{key:"showConfirmation",value:function showConfirmation(e){var t=this;this.setState({reportingState:e?"success":"failure"}),window.setTimeout(function(){t.setState(T)},8e3),this.props.reset()}},{key:"render",value:function render(){return a.a.createElement(d.VelocityTransitionGroup,k,this.getReportStatus())}}]),BugsSection}();j.propTypes={reportOptions:n.a.object,data:n.a.object,submit:n.a.func,submissionStatus:n.a.string,reset:n.a.func};var x=j,R=Object(v.b)(function mapStateToProps(e){return{submissionStatus:Object(O.a)(e)}},function mapDispatchToProps(e){return{submit:function submit(t){return e(Object(C.b)(t))},reset:function reset(){return e(Object(C.a)({status:""}))}}})(x),N=r("Zm0A"),I=r.n(N);function HelpMenu_typeof(e){return(HelpMenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HelpMenu_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function HelpMenu_possibleConstructorReturn(e,t){return!t||"object"!==HelpMenu_typeof(t)&&"function"!=typeof t?function HelpMenu_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HelpMenu_getPrototypeOf(e){return(HelpMenu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HelpMenu_setPrototypeOf(e,t){return(HelpMenu_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function HelpMenu(){var e,t;!function HelpMenu_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HelpMenu);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=HelpMenu_possibleConstructorReturn(this,(e=HelpMenu_getPrototypeOf(HelpMenu)).call.apply(e,[this].concat(o)))).state={expandedHeader:""},t.toggleExpansion=function(e){return t.setState(function(t){return{expandedHeader:t.expandedHeader===e?"":e}})},t.renderPlaceholder=function(){return a.a.createElement("p",null,"PLACEHOLDER")},t.renderVideoWalkthrough=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"If you get stuck during this project or would like to see an experienced developer work through the project, watch the following project walkthrough video:"),a.a.createElement(p.a,{videoId:t.props.walkthroughYouTubeId,className:I.a.projectWalkthrough,opts:{height:null,width:null}}))},t}return function HelpMenu_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HelpMenu_setPrototypeOf(e,t)}(HelpMenu,a.a.Component),function HelpMenu_createClass(e,t,r){return t&&HelpMenu_defineProperties(e.prototype,t),r&&HelpMenu_defineProperties(e,r),e}(HelpMenu,[{key:"render",value:function render(){var e=this,t=this.props,r=t.isProject,o=t.walkthroughYouTubeId,n=t.menuIsOpen,i=t.onClose,s=t.bugReportData,c=this.state.expandedHeader,p=[{header:"Bugs",children:a.a.createElement(R,{data:s,reportOptions:{interface:"There's a webpage component that appears broken",instructions:"There's an issue with the instructions or the error message",other:"Other"}})},{header:"Feedback",children:this.renderPlaceholder()}];return r&&!o||p.unshift({header:r?"Project Walkthrough":"Lesson Solution",children:r?this.renderVideoWalkthrough():this.renderPlaceholder()}),a.a.createElement(u.a,{isOpen:n,onOutsideClick:i,className:I.a.helpModal},a.a.createElement("div",{className:I.a.getHelp},a.a.createElement(l.a,{className:I.a.getHelpClose,onClick:i},a.a.createElement(f.a,{name:"close",className:I.a.closeIcon,size:14})),a.a.createElement("div",{className:I.a.getHelpContainer},a.a.createElement("div",{className:I.a.menuTitle},"Help Options"),p.map(function(t){return a.a.createElement(g,{header:t.header,toggleExpansion:e.toggleExpansion,expandedHeader:c},t.children)}))))}}]),HelpMenu}();M.propTypes={onClose:n.a.func,menuIsOpen:n.a.bool,isProject:n.a.bool,walkthroughYouTubeId:n.a.string,bugReportData:n.a.object};var F=M,B=r("rjx/"),W=r.n(B);function GetHelpV2_typeof(e){return(GetHelpV2_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GetHelpV2_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function GetHelpV2_possibleConstructorReturn(e,t){return!t||"object"!==GetHelpV2_typeof(t)&&"function"!=typeof t?function GetHelpV2_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GetHelpV2_getPrototypeOf(e){return(GetHelpV2_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GetHelpV2_setPrototypeOf(e,t){return(GetHelpV2_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function GetHelpV2(){var e,t;!function GetHelpV2_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GetHelpV2);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=GetHelpV2_possibleConstructorReturn(this,(e=GetHelpV2_getPrototypeOf(GetHelpV2)).call.apply(e,[this].concat(o)))).state={menuIsOpen:!1},t.toggleHelpMenu=function(){return t.setState(function(e){return{menuIsOpen:!e.menuIsOpen}})},t.handleClose=function(){t.setState({menuIsOpen:!1})},t}return function GetHelpV2_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GetHelpV2_setPrototypeOf(e,t)}(GetHelpV2,i["Component"]),function GetHelpV2_createClass(e,t,r){return t&&GetHelpV2_defineProperties(e.prototype,t),r&&GetHelpV2_defineProperties(e,r),e}(GetHelpV2,[{key:"render",value:function render(){var e=this.props,t=e.bugReportData,r=e.isProject,o=e.walkthroughYouTubeId;return a.a.createElement("div",{className:W.a.getHelpV2},a.a.createElement(c.a,{className:W.a.helpButton,theme:"blue",flat:!0,style:{minWidth:"6rem"},onClick:this.toggleHelpMenu},Object(s.b)("views.learning_environment.components.get_help.get_help")),this.state.menuIsOpen&&a.a.createElement(F,{menuIsOpen:this.state.menuIsOpen,onClose:this.handleClose,isProject:r,walkthroughYouTubeId:o,bugReportData:t}))}}]),GetHelpV2}();L.propTypes={isProject:n.a.bool,walkthroughYouTubeId:n.a.string,bugReportData:n.a.object};t.a=L},"J5+O":function(e,t,r){e.exports={placeholder:"placeholder__KjOh5FOI619Opyu9M61NX",themeDark:"themeDark__Q862VUBqZrHP9hpY2nhL_",componentName:"componentName__2prxvDh1YEvK5mFXRnUBRb"}},J6bT:function(e,t,r){e.exports={fcnCreateFileTool:"fcnCreateFileTool__MxPpqh0M5RkG3YmYgaELj",fileToolMenu:"fileToolMenu__Ynti0ixbhBEdeGYq_eDy9",toolsRight:"toolsRight__2JbGTTPKI7AoTxfjKFjyR1"}},KTF3:function(e,t,r){e.exports={frame:"frame__3Npa1q4ySrHCwd3HoJoTeR",browserChrome:"browserChrome__ql25cfW_rXyHKM-broNuK",urlBarContainer:"urlBarContainer__3oYtw7RRTOMdzcZXRHjIxU",urlBar:"urlBar__2XJptgMxLaw97WpDGRzrLb",urlError:"urlError___rFHnLAdMN44LoO6HEPgL",browserBody:"browserBody__1RMORVw-C6yaBuI18tjqG9"}},LiRT:function(e,t,r){e.exports={list:"list__xfo9KQOXCEM0e1UgsgBrO",listItem:"listItem__12kRnP1UCzQY4BK9laGOjh",text:"text__1ZWkvA4OSZmYP9EzFTOo0",chevron:"chevron__2tOZEsbyhFl-iqoFU9LBHR",hr:"hr__aGwkVLzn2mi9PIc5F02Vq"}},NCda:function(e,t,r){e.exports={videoContainer:"videoContainer__3maX1Zo5Va1CUCkWSVYNd9"}},OE2L:function(e,t,r){},PWMj:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var o=function selectBugReportSubmissionStatus(e){return e.ui.bugs.reportSubmitStatus}},RD3t:function(e,t,r){e.exports={fileTool:"fileTool__388tMaZXqB28QqVUizbshP",fileToolClosed:"fileToolClosed__2sSIhA2qVSlrFxQcVEIwxx",fileToolError:"fileToolError__879FVR8iRZBMeK8GbBoxO",fileToolIsAdding:"fileToolIsAdding__36lOawzSX5ePj3YUDem_6L",fileToolErrorIsDir:"fileToolErrorIsDir__n0Xtr15nUxUjv8kqdy0Xx",fileToolContainer:"fileToolContainer__38L1PVQ6lr4z1q94bVotSE",fileToolErrorShown:"fileToolErrorShown__20oimW4DKr8d3hSR08IIiY"}},SXFS:function(e,t,r){e.exports={modalOverlay:"modalOverlay__1oYEU9wDZbNQvy3XJw7f03",modal:"modal__300H-z8Emtp72To9jo_ZSJ",slideInLeft:"slideInLeft__1PMqp73wsH1ZRu72GglB1I",modalIsClosing:"modalIsClosing__3eo5CpJgBQxq7A0JZfZMFJ",slideOutLeft:"slideOutLeft__1LuhHBNUrAj82FfLtk-ykH"}},U2Y0:function(e,t,r){e.exports={errorWrapper:"errorWrapper__NF378W2iNro9ggsUbZ22P",closeButton:"closeButton__af_gGc54KR4FYZ7bqgylX",pinnedBottom:"pinnedBottom__2AV6Okg7qI3T-B4BYS1trU",error:"error__11yLstx04EDohyOiVV8-P0",errorMessage:"errorMessage__T6kIU4rb31sAYWIs5J6kr",errorFriendly:"errorFriendly__3dMzDH2a8XaZdyXXxyfb3O",errorTool:"errorTool__57bFzV7KNzWEowUXiwowg",errorString:"errorString__Tt_IBWRPCO14_PukLPzEs"}},U82q:function(e,t,r){e.exports={tiny:"tiny__JMIUJYIAn2KNPvnBke6So"}},VBGW:function(e,t,r){e.exports={cmeditor:"cmeditor__2Gxggo8GsvlSZS4rMGa1zE",edFToolLayoutContainer:"edFToolLayoutContainer__bluSQDfautRGFZdw97pdD",mainContainer:"mainContainer__3O-RLBkFmh3eEUCeghKrhE",layoutCollapsed:"layoutCollapsed__3p1JrXw3YdUkz-6Oxzh7JF",noNavigator:"noNavigator__2uXwHyAk6ut119rOs87IUQ",includeFileNavTab:"includeFileNavTab__UIltNY2WrsMk92QbWFgqc",fileTabOpen:"fileTabOpen__tvjc6zVx7Vpx1NG8wmAko",tabsOffSet:"tabsOffSet__1Qw3ZoAvr9hwatPCHvW8i6",editorFooter:"editorFooter__3vMXEva7_RFPU2uMCO-X_H"}},X3kK:function(e,t,r){e.exports={schema:"schema__1SJ9mV8MkndSAkTgSFlPcH",schemaRows:"schemaRows__1G4BnRXUDdODjbSC2293qi",schemaName:"schemaName__RSGlYzKW-e2fX5AiP2rCw",schemaType:"schemaType__2wpZStHUAtV4ucl3VZMnO5",schemaUndef:"schemaUndef__2jDkLrS_ICGYwOVjwsxtyx",schemaResults:"schemaResults__21afr0OaT-MR1gtIGtCy8N",schemaResultsWrapper:"schemaResultsWrapper__1GYK5tk6_s08a8WwgNe-t0"}},XRCR:function(e,t,r){e.exports={mainContainer:"mainContainer__3USOknCfBhYUVmTuG1N5Ov",editorContainer:"editorContainer__3B9IePMQ6ZHYY6rzHKJ7EC",cmeditor:"cmeditor__1Jdq0sC4R02kRSllKxM5Je",readOnlyFooterNote:"readOnlyFooterNote__XS_jdBDHcVfBADS9zIwfi"}},Zi9o:function(e,t,r){e.exports={authorModeTag:"authorModeTag__1M2gJ0sdaI6KTEHvE9V9hO"}},Zm0A:function(e,t,r){e.exports={getHelp:"getHelp__YB9ygSQvbcjrUNU6YQ2I8",getHelpClose:"getHelpClose__37zs6RW-GgHOJXOzZP3dab",closeIcon:"closeIcon__s1ldzx4wKF-rke1NCo5ju",getHelpContainer:"getHelpContainer__3LO4ZgLXNM6ivai6ayR8vP",menuTitle:"menuTitle__2xwrAKukQML8D_jQRak_8g",helpModal:"helpModal__1d3FAxbbZWBmwNVM48Ltdy",projectWalkthrough:"projectWalkthrough__D6_RjVknOMEBcqWRYEWiN"}},a5nv:function(e,t,r){"use strict";var o=r("zdiy"),n=r.n(o),i=r("EVdn"),a=r.n(i),s=r("08+1").a.extend({initialize:function initialize(){},createComponentBroadcastFunction:function createComponentBroadcastFunction(e){return function(){var t=arguments[0],r=["component",e,t].join(":"),o=Array.prototype.slice.call(arguments,1),n=[r].concat(o);this.trigger.apply(this,n)}.bind(this)},_handle:function _handle(e){var t=this;this._handlers[e].forEach(function(e){e.call(t)})},registerComponent:function registerComponent(e,t){this._components[e]=t},destroy:function destroy(){for(var e in this._handle("destroy"),this._events)this.off(e)},inheritCache:function inheritCache(e){this._cache=e._cache},extendCache:function extendCache(){this._handle("extendCache")}}),c=function(e){return function(){var t=a.a.extend(!0,{mixins:[]},e),r={},o=t.mixins,i=[t.events],c={destroy:[],extendCache:[]};function keepHandler(e,t){void 0!==e[t]&&(c[t].push(e[t]),delete e[t])}delete t.events,keepHandler(t,"destroy"),keepHandler(t,"extendCache"),r=n()(r,t),void 0!==o&&o.forEach(function(e){keepHandler(e,"destroy"),keepHandler(e,"extendCache"),i.push(n()({},e.events)),delete e.events,r=n()(r,e)});var l=new(s.extend(r));return l._handlers=c,l._components={},l._state={},l._cache={},i.forEach(function(e){for(var t in e)l.on(t,e[t].bind(l))}),l}},l=r("HOuw"),u={events:{"component:Terminal:input":function componentTerminalInput(e,t){l.a.interface.execute(e).then(function(r){t(e,r.Content,r.Error?1:0)}).catch(function(){t(e,"",1)})}}},p=r("iJ35"),f={events:{"interface:resizing":function interfaceResizing(){p.a.resizing()},"component:Brief:taskItemMounted":function componentBriefTaskItemMounted(){p.a.resized()}}},h=(r("ANGy"),r("JoHf")),d={PersistentCodeEditor:[{events:{"component:PersistentCodeEditor:error":function componentPersistentCodeEditorError(e){this.controller.setState({errors:e})}}}],OutputTerminal:[{}],Terminal:[u],WebBrowser:[],Brief:[{events:{"interface:persist":function interfacePersist(){h.a.persist()},"component:Brief:start":function componentBriefStart(){var e=this;this._components.WebBrowser&&this._components.WebBrowser.home(),this.controller.updateProgress(1,{success:function success(){e.controller.revealComponents(),e.controller.setState({progress:{status:1}})}})}}}]};t.a={forComponents:function forComponents(e){return c({mixins:this._getBaseMixins(e)})()},forProjectsWithComponents:function forProjectsWithComponents(e){return c({mixins:this._getBaseMixins(e)})()},_getComponentMixins:function _getComponentMixins(e,t){var r=[];return Object.keys(e).forEach(function(e){e in t&&(r=r.concat(t[e]))}),r},_getBaseMixins:function _getBaseMixins(e){return[f].concat(this._getComponentMixins(e,d))}}},bA1J:function(e,t,r){e.exports={container:"container__1gnH8AX3SEG1Ao1KhcQMXa"}},bGfR:function(e,t,r){e.exports={container:"container__2UYLmnhZW_ijNP7gESnA9X",topPane:"topPane__1jQ6A8_F08U2p_lWfROpe6",leftSmallPane:"leftSmallPane__GP6qODsyyvTltAwN8CGfE",rightSmallPane:"rightSmallPane__29hyEP9fRV1VH4-IpLD_XY",bottomPane:"bottomPane__19nJlRlqKu0ZgJhQ0Wg7Kz"}},bXpr:function(e,t,r){"use strict";var o=r("/MKj"),n=r("NaN6"),i=r("AHq7"),a=r("T2dD"),s=r("/Cn6"),c=r("E+oP"),l=r.n(c),u=r("q1tI"),p=r.n(u),f=r("17x9"),h=r.n(f),d=r("USFT"),y=r("jdWZ"),m=r("DPuV");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function OutroLink(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutroLink);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(OutroLink)).call.apply(e,[this].concat(o)))).trackClick=function(){var e=t.props,r=e.lessonId,o=e.exerciseId;Object(y.b)("user","click",{target:"le_forum_click",lesson_id:r,exercise_id:o})},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(OutroLink,u["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(OutroLink,[{key:"render",value:function render(){var e=this.props.forumTopicId,t=e?"".concat(m.j,"/t/").concat(e):m.j,r=e?Object(d.b)("views.learning_environment.components.narrative.forum_section.exercise_outro"):Object(d.b)("views.learning_environment.components.narrative.forum_section.home_outro");return p.a.createElement("span",null,r,p.a.createElement("a",{href:t,target:"_blank",onClick:this.trackClick},Object(d.b)("views.learning_environment.components.narrative.forum_section.forum_link_text")))}}]),OutroLink}();_.propTypes={forumTopicId:h.a.string,lessonId:h.a.string,exerciseId:h.a.string};var b=_,g=r("oNLn"),v=r("s4S1"),C=r("LiRT"),O=r.n(C);function QuestionList_typeof(e){return(QuestionList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QuestionList_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function QuestionList_possibleConstructorReturn(e,t){return!t||"object"!==QuestionList_typeof(t)&&"function"!=typeof t?function QuestionList_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QuestionList_getPrototypeOf(e){return(QuestionList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QuestionList_setPrototypeOf(e,t){return(QuestionList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function QuestionList(){var e,t;!function QuestionList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,QuestionList);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=QuestionList_possibleConstructorReturn(this,(e=QuestionList_getPrototypeOf(QuestionList)).call.apply(e,[this].concat(o)))).trackClick=function(e,r){var o=t.props,n=o.lessonId,i=o.exerciseId;(0,o.userClick)({data:{target:"le_faq_q".concat(e+1),question_text:r,lesson_id:n,exercise_id:i}})},t}return function QuestionList_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QuestionList_setPrototypeOf(e,t)}(QuestionList,u["Component"]),function QuestionList_createClass(e,t,r){return t&&QuestionList_defineProperties(e.prototype,t),r&&QuestionList_defineProperties(e,r),e}(QuestionList,[{key:"render",value:function render(){var e=this,t=this.props.topQuestions;return t&&t.length?p.a.createElement("div",null,p.a.createElement("p",null,Object(d.b)("views.learning_environment.components.narrative.forum_section.question_list_intro")),p.a.createElement("ol",{className:O.a.list},t.map(function(r,o){var n=r.text,i=r.href;return p.a.createElement("li",{key:n,className:O.a.listItem},p.a.createElement("a",{href:i,target:"_blank",onClick:function onClick(){e.trackClick(o,n)}},p.a.createElement(v.a,{inline:!0,fit:!0,justify:"spaceBetween",align:"center"},p.a.createElement("span",{className:O.a.text},n),p.a.createElement(g.a,{name:"chevronRight",className:O.a.chevron}))),o!==t.length-1&&p.a.createElement("hr",{className:O.a.hr}))}))):null}}]),QuestionList}();P.propTypes={topQuestions:h.a.arrayOf(h.a.shape({text:h.a.string.isRequired,href:h.a.string.isRequired})),lessonId:h.a.string,exerciseId:h.a.string,userClick:h.a.func};var w=P;function ForumSection_typeof(e){return(ForumSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ForumSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ForumSection_possibleConstructorReturn(e,t){return!t||"object"!==ForumSection_typeof(t)&&"function"!=typeof t?function ForumSection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ForumSection_getPrototypeOf(e){return(ForumSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ForumSection_setPrototypeOf(e,t){return(ForumSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function ForumSection(){return function ForumSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ForumSection),ForumSection_possibleConstructorReturn(this,ForumSection_getPrototypeOf(ForumSection).apply(this,arguments))}return function ForumSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ForumSection_setPrototypeOf(e,t)}(ForumSection,u["Component"]),function ForumSection_createClass(e,t,r){return t&&ForumSection_defineProperties(e.prototype,t),r&&ForumSection_defineProperties(e,r),e}(ForumSection,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.currentExerciseForumData,r=e.readExerciseForumData,o=e.lessonId,n=e.exerciseId;e.forumFaqsEnabled&&l()(t)&&r(o,n)}},{key:"render",value:function render(){var e=this.props,t=e.className,r=e.currentExerciseForumData,o=r.forumTopicId,n=r.topQuestions,i=e.lessonId,a=e.exerciseId,s=e.userClick;return p.a.createElement("div",{className:t},p.a.createElement(w,{topQuestions:n,lessonId:i,exerciseId:a,userClick:s}),p.a.createElement(b,{forumTopicId:o,lessonId:i,exerciseId:a}))}}]),ForumSection}();k.propTypes={className:h.a.string,lessonId:h.a.string,exerciseId:h.a.string,readExerciseForumData:h.a.func,currentExerciseForumData:h.a.object,forumFaqsEnabled:h.a.bool,userClick:h.a.func};var S=k,E={readExerciseForumData:i.a,userClick:a.d};t.a=Object(o.b)(function mapStateToProps(e){var t=Object(n.g)(e),r=Object(n.l)(e),o=Object(n.s)(e);return{lessonId:t.id,exerciseId:r.id,currentExerciseForumData:function selectExerciseForumData(e,t,r){return e.forums.exercises["".concat(t,"--").concat(r)]||{}}(e,t.id,r.id),forumFaqsEnabled:[s.b,s.c].includes(o)}},E)(S)},cCeZ:function(e,t,r){"use strict";var o=r("mwIZ"),n=r.n(o),i=r("/MKj"),a=r("17x9"),s=r.n(a),c=r("q1tI"),l=r.n(c),u=r("fhzG"),p=r.n(u),f=r("+IkO"),h=r("JoHf"),d=r("zfST"),y=r("s4S1"),m=r("bA1J"),_=r.n(m),b={firstPane:s.a.node.isRequired};function OnePane(e){var t=e.firstPane;return l.a.createElement(y.a,{className:_.a.container},t)}OnePane.propTypes=b;var g=r("jAtM"),v=r.n(g),C={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired};function TwoPaneCol(e){var t=e.firstPane,r=e.secondPane;return l.a.createElement(y.a,{className:v.a.container},l.a.createElement("div",{className:v.a.leftPane},t),l.a.createElement("div",{className:v.a.rightPane},r))}TwoPaneCol.propTypes=C;var O=r("49qb"),P=r.n(O),w={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired};function TwoPaneRow(e){var t=e.firstPane,r=e.secondPane;return l.a.createElement(y.a,{column:!0,className:P.a.container},l.a.createElement("div",{className:P.a.topPane},t),l.a.createElement("div",{className:P.a.bottomPane},r))}TwoPaneRow.propTypes=w;var k=r("BLes"),S=r.n(k),E={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired,thirdPane:s.a.node.isRequired};function ThreePaneCol(e){var t=e.firstPane,r=e.secondPane,o=e.thirdPane;return l.a.createElement(y.a,{className:S.a.container},l.a.createElement(y.a,{column:!0,className:S.a.leftPane},l.a.createElement("div",{className:S.a.topSmallPane},t),l.a.createElement("div",{className:S.a.bottomSmallPane},r)),l.a.createElement("div",{className:S.a.rightPane},o))}ThreePaneCol.propTypes=E;var T=r("bGfR"),j=r.n(T),x={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired,thirdPane:s.a.node.isRequired};function ThreePaneRow(e){var t=e.firstPane,r=e.secondPane,o=e.thirdPane;return l.a.createElement(y.a,{column:!0,className:j.a.container},l.a.createElement(y.a,{className:j.a.topPane},l.a.createElement("div",{className:j.a.leftSmallPane},t),l.a.createElement("div",{className:j.a.rightSmallPane},r)),l.a.createElement("div",{className:j.a.bottomPane},o))}ThreePaneRow.propTypes=x;var R=r("p02k"),N=r.n(R),I={gridType:s.a.oneOf(["one_pane","two_pane_col","two_pane_row","three_pane_col","three_pane_row"]),narrativePane:s.a.node.isRequired,firstPane:s.a.node.isRequired,secondPane:s.a.node,thirdPane:s.a.node},M={one_pane:OnePane,two_pane_col:TwoPaneCol,two_pane_row:TwoPaneRow,three_pane_col:ThreePaneCol,three_pane_row:ThreePaneRow};function GridLayout(e){var t=e.gridType,r=e.narrativePane,o=e.firstPane,n=e.secondPane,i=e.thirdPane,a=M[t]||M.two_pane_col;return l.a.createElement(y.a,{className:N.a.container},l.a.createElement("div",{className:N.a.narrativePane},r),l.a.createElement("div",{className:N.a.dynamicLayout},l.a.createElement(a,{firstPane:o,secondPane:n,thirdPane:i})))}GridLayout.propTypes=I,GridLayout.defaultProps={gridType:"one_pane"};var F=r("TSYQ"),B=r.n(F),W=r("esq3");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var L={adapter:s.a.object,availableComponents:s.a.object,presenter:s.a.object,modifiers:s.a.object,user:s.a.object,slot:s.a.object,name:s.a.string,componentShouldBeDisabled:s.a.func,evaluateExercise:s.a.func,hasCheckWork:s.a.bool},D=function(e){function LearningComponentBuilder(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LearningComponentBuilder),_possibleConstructorReturn(this,_getPrototypeOf(LearningComponentBuilder).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(LearningComponentBuilder,c["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(LearningComponentBuilder,[{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.props,t=e.adapter,r=e.name;t.registerComponent&&t.registerComponent(r,this.refs[r])}},{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.adapter,r=e.name;t.registerComponent&&t.registerComponent(r,this.refs[r])}},{key:"selectComponentForError",value:function selectComponentForError(){for(var e=this.props.availableComponents,t=["PersistentCodeEditor","Terminal","WebBrowser"],r=0;r<t.length;r++){var o=t[r];if(e[o])return o}var n=Object.keys(e).filter(function(e){return"Narrative"!==e});return n.length>0?n[0]:null}},{key:"render",value:function render(){var e=this.props,t=e.modifiers,r=e.availableComponents,o=e.presenter,n=e.name,i=e.componentShouldBeDisabled,a=e.evaluateExercise,s=e.user,c=e.adapter,u=e.hasCheckWork,p=r[n];if(!p)return null;var f=W.a[p.type];t.disabled=i(n);var h=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({},p,{evaluateExercise:a,hasCheckWork:u,displayErrors:this.selectComponentForError()===n},o),d=B()({"fcn-component":!0,disabled:t.disabled});return l.a.createElement("div",{className:d},l.a.createElement("div",{className:"overlay"}),l.a.createElement(f,{presenter:h,user:s,broadcast:c.createComponentBroadcastFunction(n),modifiers:t,helpers:{toggleFullscreen:function toggleFullscreen(){}},ref:n}))}}]),LearningComponentBuilder}();function GridManager_typeof(e){return(GridManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GridManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function GridManager_possibleConstructorReturn(e,t){return!t||"object"!==GridManager_typeof(t)&&"function"!=typeof t?function GridManager_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GridManager_getPrototypeOf(e){return(GridManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GridManager_setPrototypeOf(e,t){return(GridManager_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}D.propTypes=L;var H,A={components:s.a.object,presenter:s.a.object,modifiers:s.a.object,user:s.a.object,adapter:s.a.object,evaluateExercise:s.a.func,hasCheckWork:s.a.bool,componentShouldBeDisabled:s.a.func,layoutProps:s.a.object},q=function(e){function GridManager(){return function GridManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GridManager),GridManager_possibleConstructorReturn(this,GridManager_getPrototypeOf(GridManager).apply(this,arguments))}return function GridManager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GridManager_setPrototypeOf(e,t)}(GridManager,c["Component"]),function GridManager_createClass(e,t,r){return t&&GridManager_defineProperties(e.prototype,t),r&&GridManager_defineProperties(e,r),e}(GridManager,[{key:"buildLearningComponent",value:function buildLearningComponent(e){var t=this.props,r=t.components,o=t.componentShouldBeDisabled,n=t.presenter,i=t.hasCheckWork,a=t.evaluateExercise,s=t.modifiers,c=t.adapter,u=t.user;return console.log("AVAIABLE COMPONENTS: ",r),console.log("ATTEMPTING TO BUILD: ",e),l.a.createElement(D,{availableComponents:r,name:e,modifiers:s,presenter:n,adapter:c,user:u,componentShouldBeDisabled:o,hasCheckWork:i,evaluateExercise:a})}},{key:"render",value:function render(){var e=this.props.layoutProps,t=e.gridType,r=e.narrativeComp,o=e.firstComp,n=e.secondComp,i=e.thirdComp;return console.log("LAYOUT PROPS: ",{gridType:t,narrativeComp:r,firstComp:o,secondComp:n,thirdComp:i}),l.a.createElement(GridLayout,{gridType:t,narrativePane:this.buildLearningComponent(r),firstPane:this.buildLearningComponent(o),secondPane:this.buildLearningComponent(n),thirdPane:this.buildLearningComponent(i)})}}]),GridManager}();function configs_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}q.propTypes=A;var Q="one_pane",z="two_pane_col",G="two_pane_row",U="three_pane_col",$="three_pane_row",V="CodeEditor",J="Narrative",K="Preview",Y="ReadOnlyCodeEditor",Z="SQLPreview",X="Terminal",ee="Visual",te="Brief",re="WebBrowser",oe="OutputTerminal",ne="Image",ie="Video",ae=(configs_defineProperty(H={},"PersistentCodeEditor",V),configs_defineProperty(H,te,J),configs_defineProperty(H,re,K),configs_defineProperty(H,oe,X),configs_defineProperty(H,ne,ee),configs_defineProperty(H,ie,ee),H),se={"CodeEditor--Narrative--Preview--ReadOnlyCodeEditor":{layoutType:"grid",layoutProps:{gridType:$,narrativeComp:J,firstComp:V,secondComp:Y,thirdComp:K}},"CodeEditor--Narrative--ReadOnlyCodeEditor--Terminal":{layoutType:"grid",layoutProps:{gridType:$,narrativeComp:J,firstComp:V,secondComp:Y,thirdComp:X}},"CodeEditor--Narrative--Preview--Terminal":{layoutType:"grid",layoutProps:{gridType:U,narrativeComp:J,firstComp:V,secondComp:X,thirdComp:K}},"CodeEditor--Narrative--Terminal--Visual":{layoutType:"grid",layoutProps:{gridType:U,narrativeComp:J,firstComp:V,secondComp:X,thirdComp:ee}},"CodeEditor--Narrative--ReadOnlyCodeEditor":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:J,firstComp:V,secondComp:Y}},"CodeEditor--Narrative--Preview":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:J,firstComp:V,secondComp:K}},"CodeEditor--Narrative--Visual":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:J,firstComp:V,secondComp:ee}},"CodeEditor--Narrative--Terminal":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:J,firstComp:V,secondComp:X}},"CodeEditor--Narrative--SQLPreview":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:J,firstComp:V,secondComp:Z}},"Narrative--Preview--Visual":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:J,firstComp:K,secondComp:ee}},"Narrative--Preview--Terminal":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:J,firstComp:X,secondComp:K}},"Narrative--Terminal--Visual":{layoutType:"grid",layoutProps:{gridType:G,narrativeComp:J,firstComp:ee,secondComp:X}},"CodeEditor--Narrative":{layoutType:"grid",layoutProps:{gridType:Q,narrativeComp:J,firstComp:V}},"Narrative--Preview":{layoutType:"grid",layoutProps:{gridType:Q,narrativeComp:J,firstComp:K}},"Narrative--Terminal":{layoutType:"grid",layoutProps:{gridType:Q,narrativeComp:J,firstComp:X}},"Narrative--Visual":{layoutType:"grid",layoutProps:{gridType:Q,narrativeComp:J,firstComp:ee}},"Narrative--SQLPreview":{layoutType:"grid",layoutProps:{gridType:Q,narrativeComp:J,firstComp:Z}},default:{layoutType:"grid",layoutProps:{gridType:Q,narrativeComp:J,firstComp:null}}};function reverseConfigAliases(e,t){var r=Object.keys(e.layoutProps),o=Object.values(e.layoutProps),n=function configs_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){configs_defineProperty(e,t,r[t])})}return e}({},e);return t.filter(function(e){return!o.includes(e)}).forEach(function(e){var t=ae[e],i=o.indexOf(t),a=r[i];n.layoutProps[a]=e}),n}function mapComponentsToLayoutConfig(e){var t=Object.keys(e),r=function buildCompString(e){return e.map(function(e){return ae[e]||e}).sort().join("--")}(t);return reverseConfigAliases(se[r]||se.default,t)}function LayoutManager_typeof(e){return(LayoutManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LayoutManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LayoutManager_possibleConstructorReturn(e,t){return!t||"object"!==LayoutManager_typeof(t)&&"function"!=typeof t?function LayoutManager_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LayoutManager_getPrototypeOf(e){return(LayoutManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LayoutManager_setPrototypeOf(e,t){return(LayoutManager_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ce={components:s.a.object,presenter:s.a.object,modifiers:s.a.object,user:s.a.object,adapter:s.a.object,evaluateExercise:s.a.func,hasCheckWork:s.a.bool,componentShouldBeDisabled:s.a.func},le=function(e){function LayoutManager(){return function LayoutManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LayoutManager),LayoutManager_possibleConstructorReturn(this,LayoutManager_getPrototypeOf(LayoutManager).apply(this,arguments))}return function LayoutManager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LayoutManager_setPrototypeOf(e,t)}(LayoutManager,c["Component"]),function LayoutManager_createClass(e,t,r){return t&&LayoutManager_defineProperties(e.prototype,t),r&&LayoutManager_defineProperties(e,r),e}(LayoutManager,[{key:"render",value:function render(){var e=this.props,t=e.components,r=e.presenter,o=e.modifiers,n=e.user,i=e.adapter,a=e.evaluateExercise,s=e.hasCheckWork,c=e.componentShouldBeDisabled,u=mapComponentsToLayoutConfig(t),p=u.layoutType,f=u.layoutProps,h="grid"===p?q:null;return l.a.createElement(h,{layoutProps:f,components:t,presenter:r,modifiers:o,user:n,adapter:i,evaluateExercise:a,hasCheckWork:s,componentShouldBeDisabled:c})}}]),LayoutManager}();le.propTypes=ce;var ue=p()({displayName:"LearningEnvironmentMain",propTypes:{components:s.a.object.isRequired,gridSetup:s.a.func,user:s.a.object,adapter:s.a.object.isRequired,helpers:s.a.object.isRequired,modifiers:s.a.object.isRequired,presenter:s.a.object.isRequired,checkpointsRunning:s.a.bool},mixins:[d.a],hasCheckWork:function hasCheckWork(){var e=this.props.components;return!0===n()(e,"Terminal.prevent_checkpoint_run")&&!0===n()(e,"PersistentCodeEditor.no_run_button")},evaluateExercise:function evaluateExercise(){if(!this.props.checkpointsRunning)return this.hasCheckWork()?h.a.checkWork():h.a.saveFilesAndCheckWork()},render:function render(){var e=this.props,t=e.components,r=e.presenter,o=e.modifiers,n=e.user,i=e.adapter,a=e.helpers;return l.a.createElement("div",{className:"fcn-grid"},l.a.createElement(le,{components:t,presenter:r,modifiers:o,user:n,adapter:i,evaluateExercise:this.evaluateExercise,hasCheckWork:this.hasCheckWork(),componentShouldBeDisabled:a.componentShouldBeDisabled}),r.wall)}});t.a=Object(i.b)(function mapStateToProps(e){return{checkpointsRunning:Object(f.f)(e)}})(ue)},deUn:function(e,t,r){"use strict";var o=r("BzM2"),n=r("zSSe"),i=r("17x9"),a=r.n(i),s=r("q1tI"),c=r.n(s),l=r("fhzG"),u=r.n(l),p=r("TSYQ"),f=r.n(p),h=r("hhPA"),d=r.n(h),y=r("iJ35"),m=r("D5xi"),_=u()({displayName:"DiscoveryCue",mixins:[d.a.listenTo(m.a,"onInterfaceChange")],propTypes:{cue:a.a.shape({target:a.a.string.isRequired,orientation_special:a.a.string,content:a.a.string.isRequired})},getInitialState:function getInitialState(){return{hidden:!1,targetLeft:void 0,targetTop:void 0,targetWidth:void 0,MIDDLE_OFFSET:30}},onInterfaceChange:function onInterfaceChange(){this.reposition()},reposition:function reposition(){var e=document.querySelector('[data-cue="'.concat(this.props.cue.target,'"]')),t=document.getElementById("workspace");if(e&&t&&e.clientWidth>0){var r=e.getBoundingClientRect(),o=document.getElementById("workspace").clientWidth,n=document.getElementById("workspace").clientHeight;this.setState({hidden:!1,targetWidth:r.width,targetLeft:r.left-10,targetTop:r.top-10,workspaceWidth:o,workspaceHeight:n})}else this.setState({hidden:!0})},componentDidUpdate:function componentDidUpdate(e){void 0!==this.state.targetLeft||this.state.hidden||this.reposition()},onMouseOver:function onMouseOver(e,t){var r=document.getElementById("workspace").getBoundingClientRect(),o=(e.clientX,r.left,e.clientY,r.top,r.width),n=r.height,i=this.state.targetTop/n>.5?"above":"below",a=this.state.targetLeft/o>.5?"left":"right";this.setState({orientation:"".concat(a,"-").concat(i)})},_cueClick:function _cueClick(){y.a.cueSeen(this.props.cue.target)},render:function render(){var e=f()({"discovery-cue__arrow":!0,"discovery-cue__arrow--bottom-left":"right-above"===this.state.orientation,"discovery-cue__arrow--top-left":"right-below"===this.state.orientation,"discovery-cue__arrow--bottom-right":"left-above"===this.state.orientation,"discovery-cue__arrow--top-right":"left-below"===this.state.orientation}),t=f()({"discovery-cue":!0,"discovery-cue--hidden":this.state.hidden||void 0===this.state.targetLeft||void 0===this.state.targetTop||void 0===this.state.targetWidth}),r=f()({"discovery-cue--content-container":!0,"discovery-cue--top-right":"right-above"===this.state.orientation,"discovery-cue--bottom-left":"left-below"===this.state.orientation,"discovery-cue--bottom-right":"right-below"===this.state.orientation,"discovery-cue--top-left":"left-above"===this.state.orientation}),o=this.state.targetLeft/this.state.workspaceWidth*100,n=this.state.targetTop/this.state.workspaceHeight*100;this.state.targetWidth,this.state.workspaceWidth;"middle-edge"===this.props.cue.orientation_special&&(n+=this.state.MIDDLE_OFFSET);var i={left:"".concat(o,"%"),top:"".concat(n,"%")};return c.a.createElement("div",{className:t,style:i,onClick:this._cueClick,onMouseOver:this.onMouseOver},c.a.createElement("div",{className:r},c.a.createElement("div",{className:e}),c.a.createElement("p",{className:"discovery-cue--content"},this.props.cue.content)),c.a.createElement("div",{className:"pulse"}))}}),b=r("EVdn"),g=r.n(b),v=(r("ANGy"),[{target:"course-navigator",orientation:"right-above",content:"Click here to navigate the course."},{target:"discovery-resize-14",orientation_special:"middle-edge",content:"Drag the edges to resize the window."},{target:"discovery-checklist",content:"In Projects, you can keep track of your progress as you go throught the tasks. Check each item as you complete it!"}]),C=d.a.createStore({init:function init(){this.listenToMany({onCueSeen:y.a.cueSeen}),this._activeCues=[],this._calculateActives()},onCueSeen:function onCueSeen(e){CCDATA&&CCDATA.current_user&&(CCDATA.current_user.ui_tour_elements[e]=!0,g.a.post("/users/ui_tour_elements",{ui_tour_item:e},"json")),this._calculateActives(),this.trigger(this._activeCues)},_calculateActives:function _calculateActives(){var e=v;if(CCDATA&&CCDATA.current_user){for(var t in CCDATA.current_user.ui_tour_elements){var r=e.map(function(e){return e.target}).indexOf(t);e.splice(r,1)}this._activeCues=e}},getActiveCues:function getActiveCues(){return this._activeCues}}),O={mixins:[d.a.connect(C,"activeDiscoveryCues")],getInitialState:function getInitialState(){return{activeDiscoveryCues:[]}},componentDidMount:function componentDidMount(){this.unsubscribe=C.listen(this.onCueChange),this.setState(function(){return{activeDiscoveryCues:C.getActiveCues()}})},componentWillUnmount:function componentWillUnmount(){this.unsubscribe()},onCueChange:function onCueChange(e){this.setState({activeDiscoveryCues:e})},discoveryCues:function discoveryCues(){for(var e=[],t=this.state.activeDiscoveryCues,r=0;r<t.length;r++)e.push(c.a.createElement(_,{key:"cue-".concat(t[r].target),cue:t[r]}));return e}},P={componentShouldBeDisabled:function componentShouldBeDisabled(e){switch(e){case"Terminal":case"OutputTerminal":case"WebBrowser":case"PersistentCodeEditor":case"ReadOnlyCodeEditor":if(!this.state.workspaceReady)return!0;default:if(this.isExerciseLocked&&this.isExerciseLocked()||n.a.isAnon())return!0}return!1}},w=r("R/yR"),k=r("jdWZ");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function OutageWall(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutageWall);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(OutageWall)).call.apply(e,[this].concat(o))))._sendAway=function(){Object(k.b)("user","click",{target:"outageRedirect",skill:t.props.courseSlug}),window.location.replace("/learn")},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(OutageWall,c.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(OutageWall,[{key:"render",value:function render(){return c.a.createElement(w.a,null,c.a.createElement("h2",null,"Sorry about that!"),c.a.createElement("p",null,"There are a lot of people taking this course right now! It might be unavailable until the crowd clears."),c.a.createElement("p",null,"Until then, how about taking one of our other courses?"),c.a.createElement("button",{onClick:this._sendAway,className:"button button--alernative fcn-wall__nav"},"Browse More Courses"))}}]),OutageWall}();S.propTypes={courseSlug:a.a.string.isRequired};var E=S,T=r("2ZvG"),j=d.a.createStore({init:function init(){this.listenToMany(T.a)},onApologize:function onApologize(){this.trigger(!0)}}),x={componentDidMount:function componentDidMount(){j.listen(this.apologizeForOutage)},apologizeForOutage:function apologizeForOutage(){Object(k.b)("visit","outage_apology",{course:this.props.course.slug}),this.setState({wall:c.a.createElement(E,{courseSlug:this.props.course.slug})})}},R=r("rFUm");r.d(t,"a",function(){return N});var N=[o.StateMixin.connect(R.a),O,P,x]},eCi3:function(e,t,r){"use strict";var o=r("17x9"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("TSYQ"),c=r.n(s);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function TaskListCounter(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListCounter);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(TaskListCounter)).call.apply(e,[this].concat(o)))).isComplete=function(){return t.props.complete===t.props.total},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TaskListCounter,a.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(TaskListCounter,[{key:"render",value:function render(){var e=c()({"fcn-task-counter":!0,"fcn-task-counter--complete":this.isComplete()});return a.a.createElement("div",{className:e},a.a.createElement("span",{className:"fcn-task-counter__count",style:{marginRight:3}},this.props.complete,this.props.separator,this.props.total),this.props.text)}}]),TaskListCounter}();l.propTypes={total:n.a.number,complete:n.a.number,separator:n.a.string,text:n.a.string},l.defaultProps={separator:"/",text:"Complete"},t.a=l},esq3:function(e,t,r){"use strict";var o=r("17x9"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("HEIk"),c=r("JoHf"),l=r("D5xi");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function TabsContainer(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TabsContainer),_possibleConstructorReturn(this,_getPrototypeOf(TabsContainer).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TabsContainer,a.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(TabsContainer,[{key:"render",value:function render(){return a.a.createElement("div",{className:"fcn-tabs"},this.props.children)}}]),TabsContainer}(),p=r("Puqe"),f=r.n(p),h=r("gf6L"),d=r("TSYQ"),y=r.n(d);function tab_typeof(e){return(tab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function tab_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function tab_possibleConstructorReturn(e,t){return!t||"object"!==tab_typeof(t)&&"function"!=typeof t?function tab_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tab_getPrototypeOf(e){return(tab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tab_setPrototypeOf(e,t){return(tab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function Tab(){var e,t;!function tab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tab);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=tab_possibleConstructorReturn(this,(e=tab_getPrototypeOf(Tab)).call.apply(e,[this].concat(o)))).state={canClose:t.props.canClose||!1},t.onClick=function(e){t.props.clickHandler(t.props.tabId,e)},t.onClose=function(e){e.stopPropagation(),t.props.isDisabled||t.props.closeHandler(t.props.tabId,e)},t}return function tab_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tab_setPrototypeOf(e,t)}(Tab,a.a.Component),function tab_createClass(e,t,r){return t&&tab_defineProperties(e.prototype,t),r&&tab_defineProperties(e,r),e}(Tab,[{key:"render",value:function render(){var e=f()(this.props,"title"),t={maxWidth:"200px"};this.props.size&&(t.width="".concat(this.props.size,"%"));var r={"fcn-tabs__tab":!0,"fcn-tabs__tab--can-close":this.state.canClose,"fcn-tabs__tab--align-right":"right"===this.props.align,"fcn-tabs__tab--align-left":"left"===this.props.align,"fcn-button":!0,"fcn-button--tab":!0,"fcn-button--tab--active":this.props.isActive,"fcn-button--tab--inactive":!this.props.isActive,"fcn-button--tab--disabled":this.props.isDisabled},o="fcn-control ".concat(r),n=this.state.canClose&&a.a.createElement(h.a,{name:"close",className:o,onClick:this.onClose});return this.props.className&&(r[this.props.className]=!0),r=y()(r),a.a.createElement("span",_extends({},e,{className:r,onClick:this.onClick,style:t}),this.props.children,n,this.props.title)}}]),Tab}();m.propTypes={tabId:n.a.oneOfType([n.a.string,n.a.number]),size:n.a.number,title:n.a.string,clickHandler:n.a.func.isRequired,closeHandler:n.a.func,canClose:n.a.bool,isActive:n.a.bool,isDisabled:n.a.bool,overflow:n.a.bool,align:n.a.string,locked:n.a.bool},m.defaultProps={isActive:!1,overflow:!0};var _=m,b=r("bjhn"),g=r("XRCR"),v=r.n(g);function ReadOnlyCodeEditor_typeof(e){return(ReadOnlyCodeEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReadOnlyCodeEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ReadOnlyCodeEditor_possibleConstructorReturn(e,t){return!t||"object"!==ReadOnlyCodeEditor_typeof(t)&&"function"!=typeof t?function ReadOnlyCodeEditor_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ReadOnlyCodeEditor_getPrototypeOf(e){return(ReadOnlyCodeEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReadOnlyCodeEditor_setPrototypeOf(e,t){return(ReadOnlyCodeEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function ReadOnlyCodeEditor(){var e,t;!function ReadOnlyCodeEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReadOnlyCodeEditor);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ReadOnlyCodeEditor_possibleConstructorReturn(this,(e=ReadOnlyCodeEditor_getPrototypeOf(ReadOnlyCodeEditor)).call.apply(e,[this].concat(o)))).state={file:null},t}return function ReadOnlyCodeEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReadOnlyCodeEditor_setPrototypeOf(e,t)}(ReadOnlyCodeEditor,a.a.Component),function ReadOnlyCodeEditor_createClass(e,t,r){return t&&ReadOnlyCodeEditor_defineProperties(e.prototype,t),r&&ReadOnlyCodeEditor_defineProperties(e,r),e}(ReadOnlyCodeEditor,[{key:"componentDidMount",value:function componentDidMount(){this.unsubscribe=[c.a.getFile.completed.listen(this.onGetFile.bind(this)),c.a.setWorkspace.completed.listen(this.fetchContent.bind(this)),l.a.listen(this.onResize.bind(this))],this.fetchContent()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.unsubscribe.forEach(function(e){return e()})}},{key:"onResize",value:function onResize(){this.refs.editor&&this.refs.editor.refresh()}},{key:"fetchContent",value:function fetchContent(){c.a.getFile(this.props.presenter.file_path)}},{key:"onGetFile",value:function onGetFile(e){e.path===this.props.presenter.file_path&&this.setState({file:e})}},{key:"render",value:function render(){var e=b.a.emptyWithPath(this.props.presenter.file_path).name;return a.a.createElement("div",{className:v.a.mainContainer},a.a.createElement("div",{className:"editor"},a.a.createElement("div",{className:"fcn-component-header"},a.a.createElement(u,null,a.a.createElement(_,{title:e,isActive:!0}))),a.a.createElement("div",{className:v.a.editorContainer},a.a.createElement(s.a,{ref:"editor",className:v.a.cmeditor,onFocus:this.onEditorFocus,onChange:this.onModelChanged,file:this.state.file,readOnly:!0})),a.a.createElement("div",{className:"editor-footer-container"},a.a.createElement("div",{className:"editor-footer__buttons"},a.a.createElement("div",{className:v.a.readOnlyFooterNote},"Read-only")))))}}]),ReadOnlyCodeEditor}();C.propTypes={presenter:n.a.object.isRequired};var O=C,P=r("fhzG"),w=r.n(P),k=r("hhPA"),S=r.n(k),E=r("BzM2"),T=r("/MKj"),j=r("USFT"),x=r("+IkO"),R=r("R/yR"),N=r("rIqd"),I=r("s4S1"),M=r("9SBa"),F=r.n(M);function ConfirmationWall_typeof(e){return(ConfirmationWall_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ConfirmationWall_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ConfirmationWall_possibleConstructorReturn(e,t){return!t||"object"!==ConfirmationWall_typeof(t)&&"function"!=typeof t?function ConfirmationWall_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ConfirmationWall_getPrototypeOf(e){return(ConfirmationWall_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ConfirmationWall_setPrototypeOf(e,t){return(ConfirmationWall_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function ConfirmationWall(){return function ConfirmationWall_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConfirmationWall),ConfirmationWall_possibleConstructorReturn(this,ConfirmationWall_getPrototypeOf(ConfirmationWall).apply(this,arguments))}return function ConfirmationWall_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ConfirmationWall_setPrototypeOf(e,t)}(ConfirmationWall,a.a.Component),function ConfirmationWall_createClass(e,t,r){return t&&ConfirmationWall_defineProperties(e.prototype,t),r&&ConfirmationWall_defineProperties(e,r),e}(ConfirmationWall,[{key:"render",value:function render(){var e=this.props,t=e.isOpen,r=e.wallOverlayType,o=e.children,n=e.action,i=e.actionText,s=e.cancel,c=e.cancelText,l=y()(_defineProperty({},F.a.dialogButton,!0)),u=y()(_defineProperty({},F.a.dialogButton,!0));return a.a.createElement(R.a,{isOpen:t,responseRequired:!0,padding:!0,overlayType:r},a.a.createElement("div",null,o,a.a.createElement(I.a,{center:!0},a.a.createElement(N.a,{theme:"primary",outline:!0,className:l,onClick:n},i),a.a.createElement(N.a,{theme:"platform",outline:!0,className:u,onClick:s},c))))}}]),ConfirmationWall}();B.propTypes={action:n.a.func.isRequired,cancel:n.a.func.isRequired,isOpen:n.a.bool.isRequired,actionText:n.a.string,cancelText:n.a.string,wallOverlayType:n.a.string,children:n.a.node},B.defaultProps={wallOverlayType:"transparent",actionText:Object(j.b)("views.forms.confirm"),cancelText:Object(j.b)("views.forms.cancel")};var W=B,L=r("HOuw"),D=r("FCEL"),H=S.a.createStore({mixins:[E.StateMixin.store],init:function init(){this.workspaceSlug=null,L.a.listen(this.checkWatchedFiles),this.listenTo(D.a.publishFilenames,this.setDefaultFiles),this.listenTo(D.a.loadFiles,this.resetOrphanedFiles)},getInitialState:function getInitialState(){return{orphaned:[],watching:[],notify:[]}},setDefaultFiles:function setDefaultFiles(e){this.setState({watching:e})},resetOrphanedFiles:function resetOrphanedFiles(){this.watching=[],this.setState({orphaned:[],watching:[]})},checkWatchedFiles:function checkWatchedFiles(e){if(e.workspaceObject&&e.workspaceReady){var t=[],r=!0,o=!1,n=void 0;try{for(var i,a=this.state.watching[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;void 0===e.workspaceObject.getFile(s)&&t.push(s)}}catch(e){o=!0,n=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw n}}this.setState({orphaned:t})}}}),A=(r("OE2L"),w()({displayName:"MissingFilesWall",mixins:[E.StateMixin.connect(H,["orphaned"],{onChange:"checkOrphans"})],getInitialState:function getInitialState(){return{phase:"inactive",notify:!0}},checkOrphans:function checkOrphans(){this.state.orphaned.length||this.setState({phase:"inactive"})},showConfirmation:function showConfirmation(){this.setState({phase:"confirmation"})},cancelAndClose:function cancelAndClose(){this.setState({notify:!1,phase:"inactive"})},resetFiles:function resetFiles(){this.setState({notify:!0,phase:"fixing"}),c.a.restore()},resetFilesContent:function resetFilesContent(){var e=this.state.orphaned[0],t=this.state.notify&&this.state.orphaned.length>0&&"confirmation"!==this.state.phase;return a.a.createElement(W,{isOpen:t,cancel:this.cancelAndClose,action:this.showConfirmation,actionText:"Reset Files",cancelText:"Ok"},a.a.createElement("div",null,a.a.createElement("h5",null,"Whoa there!"),a.a.createElement("p",null,"".concat(e," has been moved. This will cause problems with this exercise, please move ").concat(e," back to its original location, or reset your files"))))},resetFilesConfirmationContent:function resetFilesConfirmationContent(){var e=this.state.notify&&this.state.orphaned.length>0&&"confirmation"===this.state.phase;return a.a.createElement(W,{isOpen:e,cancel:this.cancelAndClose,action:this.resetFiles},a.a.createElement("div",null,a.a.createElement("h5",null,"Reset your files?"),a.a.createElement("p",null,"This will overwrite your existing files, and reset your progress to the beginning of this exercise")))},render:function render(){return a.a.createElement("div",null,"inactive"===this.state.phase?this.resetFilesContent():this.resetFilesConfirmationContent())}})),q=r("4qC0"),Q=r.n(q),z=r("+KsJ"),G=r("zfST"),U=r("uM7l"),$=r.n(U),V=r("i8i4"),J=r.n(V),K=r("eHmS"),Y=r("ieBV"),Z=r("7ZgC"),X=r.n(Z);function FileTreeItem_typeof(e){return(FileTreeItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FileTreeItem_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FileTreeItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FileTreeItem_possibleConstructorReturn(e,t){return!t||"object"!==FileTreeItem_typeof(t)&&"function"!=typeof t?function FileTreeItem_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FileTreeItem_getPrototypeOf(e){return(FileTreeItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FileTreeItem_setPrototypeOf(e,t){return(FileTreeItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function FileTreeItem(){var e,t;!function FileTreeItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FileTreeItem);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=FileTreeItem_possibleConstructorReturn(this,(e=FileTreeItem_getPrototypeOf(FileTreeItem)).call.apply(e,[this].concat(o)))).state={name:t.props.name,hover:!1,isRenaming:!1,toggleMenuOption:!1},t._onFileNameChange=function(e){t.setState({name:e.target.value}),t.props.clearError()},t.resetName=function(){t.setState({name:t.props.name})},t._forceFocus=function(){J.a.findDOMNode(t.refs.nameInput).focus(),J.a.findDOMNode(t.refs.nameInput).select(),t.setState({isActive:!0}),t.props.setCurrentFile(t.props.path,!0)},t._handleClick=function(e){if(t.props.clearError(),e.stopPropagation(),!t.state.isRenaming&&!["image","other"].includes(t.props.type)){if(t.props.folder)t.props.handleClick();else{var r={canClose:!0,name:t.state.name,path:t.props.path};K.a.openFile(r)}t.props.setCurrentItem(t.props.path,t.props.folder)}},t._triggerNameChange=function(e){if(e&&e.preventDefault(),t.props.name!==t.state.name){var r=t.props.path,o=$()(r);o=o.replace(t.props.name,t.state.name),c.a.rename(r,o,{overwriteExisting:!1}).catch(function(e){t.props.setError(e)})}t.setState({isRenaming:!1})},t._onMouseEnter=function(){t.disabledItem()||t.setState({hover:!0})},t._onMouseLeave=function(){t.disabledItem()||t.setState({hover:!1})},t.disabledItem=function(){return["image","other"].includes(t.props.type)||t.props.disabled},t.renderItemName=function(){return t.state.isRenaming?a.a.createElement("form",{onSubmit:t._triggerNameChange,className:X.a.renameForm},a.a.createElement("input",{ref:"nameInput",className:X.a.renameFormInput,value:t.state.name,onChange:t._onFileNameChange,onBlur:t._triggerNameChange})):a.a.createElement("span",null,t.props.name)},t.handleEditClick=function(){t.refs.dropdown.close(),t.setState({isRenaming:!0,name:t.props.name},function(){this._forceFocus()})},t.handleDeleteClick=function(){t.refs.dropdown.close(),t.props.getDeleteConfirmation()},t.handleNewFolder=function(){t.refs.dropdown.close(),t.handleNewItem(!0)},t.handleNewFile=function(){t.refs.dropdown.close(),t.handleNewItem()},t.handleNewItem=function(e){t.props.forceAddOpenPath(t.props.path),t.setState({remainOpen:!0},function(){e?this.props.handleNewFolder():this.props.handleNewFile()})},t.handleDropdown=function(e){t.props.setCurrentItem(t.props.path,t.props.folder),e.stopPropagation()},t.renderMenu=function(){var e=t.props.folder?"Delete Folder":"Delete File";return a.a.createElement(I.a,{column:!0,className:X.a.dropdown},t.props.folder?a.a.createElement("span",{className:X.a.dropdownOption,onClick:t.handleNewFile},"New File"):null,t.props.folder?a.a.createElement("span",{className:X.a.dropdownOption,onClick:t.handleNewFolder},"New Folder"):null,t.props.isRoot?null:a.a.createElement("span",{className:X.a.dropdownOption,onClick:t.handleEditClick},"Rename"),t.props.isRoot?null:a.a.createElement("span",{className:X.a.dropdownOption,onClick:t.handleDeleteClick},e))},t.handleDropDownToggle=function(e){t.setState({toggleMenuOption:e})},t}return function FileTreeItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FileTreeItem_setPrototypeOf(e,t)}(FileTreeItem,a.a.Component),function FileTreeItem_createClass(e,t,r){return t&&FileTreeItem_defineProperties(e.prototype,t),r&&FileTreeItem_defineProperties(e,r),e}(FileTreeItem,[{key:"render",value:function render(){var e,t=this.props.isRoot?3:15*this.props.nestCount,r=y()((FileTreeItem_defineProperty(e={},X.a.fileTreeTreeBtn,!0),FileTreeItem_defineProperty(e,X.a.fileTreeTreeBtnActive,this.props.currentItemPath===this.props.path),FileTreeItem_defineProperty(e,X.a.fileTreeTreeBtnInactive,this.disabledItem()),e)),o=this.state.hover&&!this.state.isRenaming&&!this.disabledItem()||this.state.toggleMenuOption,n=this.props.isOpen?"arrow-filled-down":"arrow-filled-right",i=this.props.folder?a.a.createElement(h.a,{className:X.a.folderItem,name:"folder-filled"}):a.a.createElement(h.a,{className:X.a.fileItem,name:"file"}),s=a.a.createElement(h.a,{className:X.a.icon,title:"Options",name:"in-progress"});return a.a.createElement("div",null,a.a.createElement("div",{title:this.props.name,className:r,style:{paddingLeft:t},onClick:this._handleClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.props.folder?a.a.createElement(h.a,{name:n}):null,this.props.isRoot?null:i,this.renderItemName(),this.state.hover||this.state.toggleMenuOption?a.a.createElement("div",{className:X.a.rightIcons,onClick:this.handleDropdown},o?a.a.createElement(Y.a,{ref:"dropdown",clickTarget:s,onToggle:this.handleDropDownToggle},this.renderMenu()):null):null),this.props.children)}}]),FileTreeItem}();ee.propTypes={name:n.a.string.isRequired,type:n.a.string,currentItemPath:n.a.string.isRequired,path:n.a.string,clearError:n.a.func.isRequired,setError:n.a.func.isRequired,setCurrentItem:n.a.func.isRequired,setCurrentFile:n.a.func.isRequired,handleClick:n.a.func,folder:n.a.bool,disabled:n.a.bool,isOpen:n.a.bool,nestCount:n.a.number,children:n.a.node,getDeleteConfirmation:n.a.func,handleNewFile:n.a.func,handleNewFolder:n.a.func,isRoot:n.a.bool,forceAddOpenPath:n.a.func};var te=ee;function FileTreeFolder_extends(){return(FileTreeFolder_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var re=w()({displayName:"FileTreeFolder",mixins:[G.a],propTypes:{path:n.a.string.isRequired,tree:n.a.array,currentItemPath:n.a.string.isRequired,addOrRemoveOpenPath:n.a.func.isRequired,setError:n.a.func.isRequired,clearError:n.a.func.isRequired,setCurrentItem:n.a.func.isRequired,isOpen:n.a.bool,isActive:n.a.bool,children:n.a.node,nestCount:n.a.number,handleNewFile:n.a.func,handleNewFolder:n.a.func,forceAddOpenPath:n.a.func},_toggleFolder:function _toggleFolder(){this.props.addOrRemoveOpenPath(this.props.path)},render:function render(){return a.a.createElement(te,FileTreeFolder_extends({},this.props,{folder:!0,handleClick:this._toggleFolder}),this.props.isOpen?this.props.children:null)}}),oe=function FileTreeFile(e){return a.a.createElement(te,e)},ne=S.a.createActions([]);ne.setPreviewFilepath=S.a.createAction(),ne.previewFile=S.a.createAction(),ne.clearPreviewFile=S.a.createAction();var ie=ne,ae=r("mEin"),se=r.n(ae);function FileTree_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce=w()({displayName:"FileTree",mixins:[G.a],propTypes:{currentItemPath:n.a.string.isRequired,openPaths:n.a.object.isRequired,setError:n.a.func.isRequired,clearError:n.a.func.isRequired,setCurrentItem:n.a.func.isRequired,addOrRemoveOpenPath:n.a.func.isRequired,forceAddOpenPath:n.a.func.isRequired,disabled:n.a.bool,workspaceRoot:n.a.object.isRequired,fileExists:n.a.func.isRequired,getDeleteConfirmation:n.a.func,handleNewFile:n.a.func,handleNewFolder:n.a.func},_writeItem:function _writeItem(e,t){if(!z.d(e.name))return a.a.createElement(oe,{type:e.type,path:e.path,key:e.path,name:e.name,disabled:this.props.disabled||z.c(e.name),fileExists:this.props.fileExists,setError:this.props.setError,clearError:this.props.clearError,setCurrentFile:this._setCurrentFile,setCurrentItem:this.props.setCurrentItem,currentItemPath:this.props.currentItemPath,nestCount:t,getDeleteConfirmation:this.props.getDeleteConfirmation})},handleClick:function handleClick(){this.props.setCurrentItem("")},_setCurrentFile:function _setCurrentFile(e,t){if(this.props.clearError(),this.props.setCurrentItem(e),!t){var r=z.a(z.b(e));ie.setPreviewFilepath(e,r),c.a.getFile(e,r).then(ie.previewFile)}},_writeFolderItem:function _writeFolderItem(e,t){if(!z.d(e.name)){var r=e.name,o=e.path,n=this.props.currentItemPath===o,i=this.props.openPaths.has(o);return a.a.createElement(re,{path:o,key:o,name:r,disabled:this.props.disabled,fileExists:this.props.fileExists,setError:this.props.setError,clearError:this.props.clearError,openPaths:this.props.openPaths,setCurrentItem:this.props.setCurrentItem,setCurrentFile:this._setCurrentFile,addOrRemoveOpenPath:this.props.addOrRemoveOpenPath,currentItemPath:this.props.currentItemPath,isOpen:i,isActive:n,nestCount:t,getDeleteConfirmation:this.props.getDeleteConfirmation,handleNewFolder:this.props.handleNewFolder,handleNewFile:this.props.handleNewFile,forceAddOpenPath:this.props.forceAddOpenPath},this._buildTree(e,t+1))}},_buildTree:function _buildTree(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e.directories[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;r.push(this._writeFolderItem(c,t))}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}var l=!0,u=!1,p=void 0;try{for(var f,h=e.files[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value;r.push(this._writeItem(d,t))}}catch(e){u=!0,p=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw p}}return r},render:function render(){var e=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){FileTree_defineProperty(e,t,r[t])})}return e}({files:[],directories:[]},this.props.workspaceRoot);return a.a.createElement("div",{className:se.a.fileTree,onClick:this.handleClick},a.a.createElement(re,{path:"",key:"",name:"files",isRoot:!0,disabled:this.props.disabled,fileExists:this.props.fileExists,setError:this.props.setError,setCurrentItem:this.props.setCurrentItem,setCurrentFile:this._setCurrentFile,addOrRemoveOpenPath:this.props.addOrRemoveOpenPath,currentItemPath:this.props.currentItemPath,isOpen:this.props.openPaths.has(""),isActive:!0,clearError:this.props.clearError,handleNewFile:this.props.handleNewFile,handleNewFolder:this.props.handleNewFolder,nestCount:0,forceAddOpenPath:this.props.forceAddOpenPath},this._buildTree(e,.75)))}}),le=r("+OIg"),ue=r("6GsT"),pe=r.n(ue);function FileToolInput_typeof(e){return(FileToolInput_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FileToolInput_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FileToolInput_possibleConstructorReturn(e,t){return!t||"object"!==FileToolInput_typeof(t)&&"function"!=typeof t?function FileToolInput_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FileToolInput_getPrototypeOf(e){return(FileToolInput_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FileToolInput_setPrototypeOf(e,t){return(FileToolInput_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function FileToolInput(){var e,t;!function FileToolInput_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FileToolInput);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=FileToolInput_possibleConstructorReturn(this,(e=FileToolInput_getPrototypeOf(FileToolInput)).call.apply(e,[this].concat(o)))).state={value:""},t.setFocus=function(){J.a.findDOMNode(t.refs.filenameinput).focus()},t.clearInput=function(){t.setState({value:""})},t._fileNameKeyDown=function(e){var r=e.target.value;t.setState({value:r}),t.props.fileNameKeyDown(r)},t.canAddItem=function(){return!t.props.hasError()&&""!==t.state.value},t.onAddItemClick=function(e){t.canAddItem()?t.props.onSubmit(e):t.props.toggle()},t}return function FileToolInput_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FileToolInput_setPrototypeOf(e,t)}(FileToolInput,a.a.Component),function FileToolInput_createClass(e,t,r){return t&&FileToolInput_defineProperties(e.prototype,t),r&&FileToolInput_defineProperties(e,r),e}(FileToolInput,[{key:"componentDidMount",value:function componentDidMount(){this.setFocus()}},{key:"render",value:function render(){var e=this.state.value,t=y()(function FileToolInput_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},pe.a.addItemControlEnabled,this.canAddItem())),r=this.canAddItem()?"plus":"close";return a.a.createElement("form",{onSubmit:this.props.onSubmit,className:pe.a.createItemForm},a.a.createElement("input",{type:"text",className:pe.a.fileNameInput,ref:"filenameinput",placeholder:this.props.placeHolder,value:e,onChange:this._fileNameKeyDown}),a.a.createElement("div",{className:t},a.a.createElement(le.a,{className:t,name:r,onClick:this.onAddItemClick})))}}]),FileToolInput}();fe.propTypes={hasError:n.a.func.isRequired,toggle:n.a.func.isRequired,fileNameKeyDown:n.a.func.isRequired,onSubmit:n.a.func.isRequired,placeHolder:n.a.string};var he=fe,de=r("J6bT"),ye=r.n(de),me=w()({displayName:"NewFileTool",mixins:[G.a],propTypes:{toolOpen:n.a.bool,createNewFile:n.a.func.isRequired,error:n.a.string,clearError:n.a.func.isRequired,toggle:n.a.func.isRequired,isAddingItem:n.a.bool.isRequired,reset:n.a.func.isRequired,toggleAddItem:n.a.func,isDir:n.a.bool},getInitialState:function getInitialState(){return{name:""}},onSubmit:function onSubmit(e){e.preventDefault(),this._createNewFile()},_reset:function _reset(){this.props.reset(),this.setState({name:""})},_fileNameKeyDown:function _fileNameKeyDown(e){this.setState({name:e}),this.props.clearError()},_toggleLayout:function _toggleLayout(){this.props.isAddingItem&&this.props.toggleAddItem(),this.props.toggle()},_hasErrors:function _hasErrors(){return Boolean(this.props.error)},_createNewFile:function _createNewFile(){var e=this,t=this.props.isDir;this.props.createNewFile(this.state.name,t).then(function(){e._hasErrors()||(e.props.toggleAddItem(),e._reset())})},render:function render(){var e=this.props.isDir?"Enter Folder Name":"Enter File Name",t=this.props.toolOpen?"close":"folder";return a.a.createElement("div",null,a.a.createElement("div",{className:ye.a.fcnCreateFileTool},a.a.createElement("div",{className:ye.a.fileToolMenu},a.a.createElement(le.a,{name:t,onClick:this._toggleLayout}))),this.props.isAddingItem?a.a.createElement(he,{ref:"fileInput",toggle:this.props.toggleAddItem,hasError:this._hasErrors,placeHolder:e,fileNameKeyDown:this._fileNameKeyDown,onSubmit:this.onSubmit}):void 0)}}),_e=r("tgAw"),be=r("RD3t"),ge=r.n(be);function FileTool_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ve=w()({displayName:"FileTool",mixins:[E.StateMixin.connect(L.a,["workspaceDirectory","workspaceObject"])],propTypes:{open:n.a.bool.isRequired,toggleLayout:n.a.func.isRequired},getInitialState:function getInitialState(){return{openFile:void 0,error:void 0,currentItemPath:"",currentSavePath:void 0,isAddingItem:!1,openPaths:new Set([""]),confirm:!1,isDir:!1}},componentDidMount:function componentDidMount(){c.a.getFileTree()},_fileExists:function _fileExists(e){var t=this.state.currentSavePath?"".concat(this.state.currentSavePath,"/").concat(e):e;return this.state.workspaceObject.exists(t)},_setCurrentItem:function _setCurrentItem(e,t){t?this.setState({currentSavePath:e}):this.setState({currentSavePath:void 0}),this.setState({currentItemPath:e})},_addOrRemoveOpenPath:function _addOrRemoveOpenPath(e){var t=this.state.openPaths;t.has(e)?t.delete(e):t.add(e),this.setState({openPaths:t})},_forceAddOpenPath:function _forceAddOpenPath(e){this.state.openPaths.has(e)||this._addOrRemoveOpenPath(e)},toggleAddFileState:function toggleAddFileState(){this.setState({isAddingItem:!this.state.isAddingItem})},_toggle:function _toggle(){this.props.toggleLayout()},_createNewFile:function _createNewFile(e,t){var r=this;if(!Object(z.c)(e)){this.setState({isAddingItem:!0});var o=this.state.currentSavePath?"".concat(this.state.currentSavePath,"/").concat(e):e,n=function onCreateSuccess(){r._setCurrentItem(e,t),r.state.currentSavePath&&r._forceAddOpenPath(r.state.currentSavePath)};if(t){var i=new _e.a({name:e,path:o,files:[],directories:[]});return c.a.createDirectories([i],{overwriteExisting:!1}).then(n).catch(function(e){r._setError(e)})}var a=new b.a({name:e,path:o,content:""});return c.a.updateFiles([a],{overwriteExisting:!1}).catch(function(e){r._setError(e)}).then(n)}this._setError("Cannot create a file with this name and extension.")},_setError:function _setError(e){Q()(e)&&this.setState({error:e})},_clearError:function _clearError(){this.setState({error:void 0})},getDeleteConfirmation:function getDeleteConfirmation(){this.setState({confirm:!0})},_deleteFile:function _deleteFile(){var e=this.state.currentItemPath;this.setState({confirm:!1}),c.a.deleteFile(e).then(c.a.updateFileTree),this.setState({currentSavePath:"",currentItemPath:""})},_cancelAndClose:function _cancelAndClose(){this.setState({confirm:!1})},_toggleAddFolder:function _toggleAddFolder(){this._toggleAddItem(!0)},_toggleAddFile:function _toggleAddFile(){this._toggleAddItem()},_toggleAddItem:function _toggleAddItem(e){this._clearError(),this.setState({isDir:e}),this.toggleAddFileState()},_reset:function _reset(){this.setState({isDir:!1,name:"",isAddingItem:!1})},render:function render(){var e,t,r=this.state.workspaceDirectory,o=void 0===r?{directories:[],files:[]}:r,n=y()((FileTool_defineProperty(e={},ge.a.fileTool,!0),FileTool_defineProperty(e,ge.a.fileToolIsAdding,this.state.isAddingItem),FileTool_defineProperty(e,ge.a.fileToolClosed,!this.props.open),e)),i=y()((FileTool_defineProperty(t={},ge.a.fileToolError,!0),FileTool_defineProperty(t,ge.a.fileToolErrorShown,this.state.error),FileTool_defineProperty(t,ge.a.fileToolErrorIsDir,!this.state.openFile),t));return a.a.createElement("div",{className:n},a.a.createElement("div",{className:ge.a.fileToolContainer},a.a.createElement("p",{className:i},this.state.error),a.a.createElement(me,{toolOpen:this.props.open,toggle:this._toggle,toggleAddFileState:this.toggleAddFileState,error:this.state.error,clearError:this._clearError,workspaceRoot:o,fileExists:this._fileExists,createNewFile:this._createNewFile,isAddingItem:this.state.isAddingItem,reset:this._reset,toggleAddItem:this._toggleAddItem,isDir:this.state.isDir}),this.props.open?a.a.createElement(ce,{workspaceRoot:o,setCurrentItem:this._setCurrentItem,disabled:this.state.isAddingItem,setError:this._setError,clearError:this._clearError,currentItemPath:this.state.currentItemPath,addOrRemoveOpenPath:this._addOrRemoveOpenPath,forceAddOpenPath:this._forceAddOpenPath,fileExists:this._fileExists,getDeleteConfirmation:this.getDeleteConfirmation,handleNewFile:this._toggleAddFile,handleNewFolder:this._toggleAddFolder,openPaths:this.state.openPaths}):null,a.a.createElement(W,{isOpen:this.state.confirm,action:this._deleteFile,cancel:this._cancelAndClose},a.a.createElement("div",null,a.a.createElement("h5",null,Object(j.b)("views.learning_environment.components.confirmation_wall.delete_item")),a.a.createElement("p",null,Object(j.b)("views.learning_environment.components.confirmation_wall.cannot_undo"))))))}}),Ce=r("T99f"),Oe=r("N4E1"),Pe=r("U2Y0"),we=r.n(Pe);function FriendlyError_typeof(e){return(FriendlyError_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FriendlyError_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FriendlyError_possibleConstructorReturn(e,t){return!t||"object"!==FriendlyError_typeof(t)&&"function"!=typeof t?function FriendlyError_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FriendlyError_getPrototypeOf(e){return(FriendlyError_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FriendlyError_setPrototypeOf(e,t){return(FriendlyError_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ke=function(e){function FriendlyError(){return function FriendlyError_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendlyError),FriendlyError_possibleConstructorReturn(this,FriendlyError_getPrototypeOf(FriendlyError).apply(this,arguments))}return function FriendlyError_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FriendlyError_setPrototypeOf(e,t)}(FriendlyError,a.a.PureComponent),function FriendlyError_createClass(e,t,r){return t&&FriendlyError_defineProperties(e.prototype,t),r&&FriendlyError_defineProperties(e,r),e}(FriendlyError,[{key:"render",value:function render(){return a.a.createElement(Oe.a,{text:this.props.error,theme:"tight",className:we.a.errorString,inline:!0,sanitize:!0})}}]),FriendlyError}();ke.propTypes={error:n.a.string.isRequired};var Se=ke;function view_more_typeof(e){return(view_more_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function view_more_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function view_more_possibleConstructorReturn(e,t){return!t||"object"!==view_more_typeof(t)&&"function"!=typeof t?function view_more_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function view_more_getPrototypeOf(e){return(view_more_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function view_more_setPrototypeOf(e,t){return(view_more_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function _default(){var e,t;!function view_more_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_default);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=view_more_possibleConstructorReturn(this,(e=view_more_getPrototypeOf(_default)).call.apply(e,[this].concat(o)))).state={expanded:!!t.props.defaultExpanded},t.toggle=function(){t.setState({expanded:!t.state.expanded})},t.getIcon=function(){return t.state.expanded?a.a.createElement("span",{className:"fcn-icon fcn-icon-arrowDropdownUp"}):a.a.createElement("span",{className:"fcn-icon fcn-icon-arrowDropdown"})},t.getControlText=function(){return t.state.expanded?t.props.closeText:t.props.expandText},t}return function view_more_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&view_more_setPrototypeOf(e,t)}(_default,a.a.PureComponent),function view_more_createClass(e,t,r){return t&&view_more_defineProperties(e.prototype,t),r&&view_more_defineProperties(e,r),e}(_default,[{key:"render",value:function render(){return a.a.createElement("span",{className:"view-more"},a.a.createElement("span",{onClick:this.toggle,className:"view-more__text"}," ",this.getControlText()),a.a.createElement("span",{onClick:this.toggle,className:"view-more__toggle"},this.getIcon()),this.state.expanded?this.props.children:null)}}]),_default}();function ToolError_typeof(e){return(ToolError_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ToolError_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ToolError_possibleConstructorReturn(e,t){return!t||"object"!==ToolError_typeof(t)&&"function"!=typeof t?function ToolError_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ToolError_getPrototypeOf(e){return(ToolError_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ToolError_setPrototypeOf(e,t){return(ToolError_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}Ee.propTypes={defaultExpanded:n.a.bool,expandText:n.a.string,closeText:n.a.string,children:n.a.node},Ee.defaultProps={defaultExpanded:!1,expandText:"",closeText:""};var Te=function(e){function ToolError(){return function ToolError_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToolError),ToolError_possibleConstructorReturn(this,ToolError_getPrototypeOf(ToolError).apply(this,arguments))}return function ToolError_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ToolError_setPrototypeOf(e,t)}(ToolError,a.a.PureComponent),function ToolError_createClass(e,t,r){return t&&ToolError_defineProperties(e.prototype,t),r&&ToolError_defineProperties(e,r),e}(ToolError,[{key:"render",value:function render(){return a.a.createElement("div",null,"Oops! The test returned an error. Maybe you have a syntax error, or a typo.",a.a.createElement(Ee,{ref:"showTrace",expandText:"See full error.",closeText:"Hide error."},a.a.createElement("pre",{className:we.a.errorString,style:{fontStyle:"italic"}},this.props.error)))}}]),ToolError}();Te.propTypes={error:n.a.string.isRequired};var je=Te;function ComponentErrorDisplay_typeof(e){return(ComponentErrorDisplay_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ComponentErrorDisplay_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ComponentErrorDisplay_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ComponentErrorDisplay_possibleConstructorReturn(e,t){return!t||"object"!==ComponentErrorDisplay_typeof(t)&&"function"!=typeof t?function ComponentErrorDisplay_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ComponentErrorDisplay_getPrototypeOf(e){return(ComponentErrorDisplay_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ComponentErrorDisplay_setPrototypeOf(e,t){return(ComponentErrorDisplay_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xe={clearCheckpointErrorsClicked:Ce.e},Re=function(e){function ComponentErrorDisplay(){var e,t;!function ComponentErrorDisplay_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ComponentErrorDisplay);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ComponentErrorDisplay_possibleConstructorReturn(this,(e=ComponentErrorDisplay_getPrototypeOf(ComponentErrorDisplay)).call.apply(e,[this].concat(o)))).close=function(){t.props.clearCheckpointErrorsClicked()},t.renderError=function(e,r){var o,n="friendly"===r?a.a.createElement(Se,{error:e}):a.a.createElement(je,{error:e}),i=y()(we.a.error,(ComponentErrorDisplay_defineProperty(o={},we.a.errorFriendly,"friendly"===r),ComponentErrorDisplay_defineProperty(o,we.a.errorTool,"tool"===r),o));return a.a.createElement("div",{className:i},a.a.createElement("div",{className:we.a.errorMessage},n),a.a.createElement(h.a,{name:"close",className:we.a.closeButton,onClick:t.close}))},t}return function ComponentErrorDisplay_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ComponentErrorDisplay_setPrototypeOf(e,t)}(ComponentErrorDisplay,a.a.PureComponent),function ComponentErrorDisplay_createClass(e,t,r){return t&&ComponentErrorDisplay_defineProperties(e.prototype,t),r&&ComponentErrorDisplay_defineProperties(e,r),e}(ComponentErrorDisplay,[{key:"componentDidUpdate",value:function componentDidUpdate(e){!this.props.hasErrors&&e.hasErrors&&this.props.onVisibilityToggle()}},{key:"hasError",value:function hasError(){var e=this.props,t=e.componentOnly,r=e.componentError,o=e.hasErrors;return!e.passive&&(!(t&&!r)&&o)}},{key:"friendlyError",value:function friendlyError(){var e=this.props,t=e.componentOnly,r=e.componentError,o=e.errors;return t?r:(void 0===o?{}:o).friendly}},{key:"render",value:function render(){var e=this.props.errors,t=void 0===e?{}:e;if(!this.hasError())return!1;var r=y()(we.a.errorWrapper,ComponentErrorDisplay_defineProperty({},we.a.pinnedBottom,this.props.pinnedBottom),this.props.className),o=this.friendlyError(),n=null;return t.tool?n=this.renderError(t.tool,"tool"):o&&(n=this.renderError(o,"friendly")),a.a.createElement("div",{className:r},n)}}]),ComponentErrorDisplay}();Re.propTypes={timestamp:n.a.number,errors:n.a.object,hasErrors:n.a.bool,pinnedBottom:n.a.bool,onVisibilityToggle:n.a.func,clearCheckpointErrorsClicked:n.a.func,className:n.a.string,componentError:n.a.string,componentOnly:n.a.bool,passive:n.a.bool},Re.defaultProps={onVisibilityToggle:function onVisibilityToggle(){}};var Ne=Object(T.b)(function mapStateToProps(e){return{errors:Object(x.a)(e),hasErrors:Object(x.d)(e),passive:Object(x.e)(e)}},xe)(Re),Ie=r("wevG"),Me=r.n(Ie);function ResetWorkspaceControl_typeof(e){return(ResetWorkspaceControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ResetWorkspaceControl_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ResetWorkspaceControl_possibleConstructorReturn(e,t){return!t||"object"!==ResetWorkspaceControl_typeof(t)&&"function"!=typeof t?function ResetWorkspaceControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ResetWorkspaceControl_getPrototypeOf(e){return(ResetWorkspaceControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ResetWorkspaceControl_setPrototypeOf(e,t){return(ResetWorkspaceControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Fe=function(e){function ResetWorkspaceControl(){var e,t;!function ResetWorkspaceControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResetWorkspaceControl);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ResetWorkspaceControl_possibleConstructorReturn(this,(e=ResetWorkspaceControl_getPrototypeOf(ResetWorkspaceControl)).call.apply(e,[this].concat(o)))).resetWorkspace=function(){t.props.onClick()},t}return function ResetWorkspaceControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ResetWorkspaceControl_setPrototypeOf(e,t)}(ResetWorkspaceControl,a.a.Component),function ResetWorkspaceControl_createClass(e,t,r){return t&&ResetWorkspaceControl_defineProperties(e.prototype,t),r&&ResetWorkspaceControl_defineProperties(e,r),e}(ResetWorkspaceControl,[{key:"render",value:function render(){return a.a.createElement("div",{className:Me.a.ResetWorkspaceControl},a.a.createElement("span",{className:Me.a.cta},Object(j.b)("views.learning_environment.components.reset_workspace_button",{noun:this.props.noun})),a.a.createElement("div",{className:Me.a.ctaArrow}),a.a.createElement(_,{className:"fcn-control",clickHandler:this.resetWorkspace,overflow:!1},a.a.createElement(h.a,{name:"reset"})))}}]),ResetWorkspaceControl}();Fe.propTypes={noun:n.a.string,onClick:n.a.func.isRequired};var Be=Fe,We=r("+L3W"),Le=r.n(We);function ShareCodeControl_typeof(e){return(ShareCodeControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ShareCodeControl_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ShareCodeControl_possibleConstructorReturn(e,t){return!t||"object"!==ShareCodeControl_typeof(t)&&"function"!=typeof t?function ShareCodeControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ShareCodeControl_getPrototypeOf(e){return(ShareCodeControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ShareCodeControl_setPrototypeOf(e,t){return(ShareCodeControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var De=function(e){function ShareCodeControl(){var e,t;!function ShareCodeControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShareCodeControl);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ShareCodeControl_possibleConstructorReturn(this,(e=ShareCodeControl_getPrototypeOf(ShareCodeControl)).call.apply(e,[this].concat(o)))).state={clicked:!1},t.inviteAdvisor=function(){t.setState({clicked:!0}),t.props.onClick()},t}return function ShareCodeControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ShareCodeControl_setPrototypeOf(e,t)}(ShareCodeControl,a.a.Component),function ShareCodeControl_createClass(e,t,r){return t&&ShareCodeControl_defineProperties(e.prototype,t),r&&ShareCodeControl_defineProperties(e,r),e}(ShareCodeControl,[{key:"render",value:function render(){return a.a.createElement("div",{className:Le.a.shareCodeControl},a.a.createElement("span",{className:Le.a.cta},"Share Code"),a.a.createElement("div",{className:Le.a.ctaArrow}),a.a.createElement(_,{className:"fcn-control",clickHandler:this.inviteAdvisor,overflow:!1},a.a.createElement(h.a,{name:"share"})))}}]),ShareCodeControl}();De.propTypes={intercomOpen:n.a.bool,onClick:n.a.func.isRequired};var He=De,Ae=r("zSSe"),qe=r("8/ig"),Qe=r("/HwS"),ze=(r("AiEq"),r("ska2")),Ge=r("0ALx"),Ue=r("xkGU"),$e=r.n(Ue),Ve=r("qdMG"),Je=r("7/as"),Ke=r.n(Je);function dot_typeof(e){return(dot_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dot_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dot_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dot_possibleConstructorReturn(e,t){return!t||"object"!==dot_typeof(t)&&"function"!=typeof t?function dot_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dot_getPrototypeOf(e){return(dot_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dot_setPrototypeOf(e,t){return(dot_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(e){function ProgressDot(){return function dot_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressDot),dot_possibleConstructorReturn(this,dot_getPrototypeOf(ProgressDot).apply(this,arguments))}return function dot_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dot_setPrototypeOf(e,t)}(ProgressDot,a.a.Component),function dot_createClass(e,t,r){return t&&dot_defineProperties(e.prototype,t),r&&dot_defineProperties(e,r),e}(ProgressDot,[{key:"render",value:function render(){var e,t=y()((dot_defineProperty(e={},Ke.a.dot,!0),dot_defineProperty(e,Ke.a.dotActive,this.props.active),e));return a.a.createElement("div",{className:t})}}]),ProgressDot}();Ye.propTypes={active:n.a.bool};var Ze,Xe=Ye;function ProgressElipse_typeof(e){return(ProgressElipse_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ProgressElipse_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ProgressElipse_possibleConstructorReturn(e,t){return!t||"object"!==ProgressElipse_typeof(t)&&"function"!=typeof t?function ProgressElipse_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ProgressElipse_getPrototypeOf(e){return(ProgressElipse_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ProgressElipse_setPrototypeOf(e,t){return(ProgressElipse_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var et=function(e){function ProgressElipse(){var e,t;!function ProgressElipse_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressElipse);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ProgressElipse_possibleConstructorReturn(this,(e=ProgressElipse_getPrototypeOf(ProgressElipse)).call.apply(e,[this].concat(o)))).state={activeDot:0},t.changeDot=function(){var e=t.state.activeDot;2===e?t.setState({activeDot:0}):(e++,t.setState({activeDot:e}))},t}return function ProgressElipse_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ProgressElipse_setPrototypeOf(e,t)}(ProgressElipse,a.a.Component),function ProgressElipse_createClass(e,t,r){return t&&ProgressElipse_defineProperties(e.prototype,t),r&&ProgressElipse_defineProperties(e,r),e}(ProgressElipse,[{key:"componentDidMount",value:function componentDidMount(){Ze=setInterval(this.changeDot,300)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(Ze)}},{key:"render",value:function render(){return a.a.createElement("div",{className:Ke.a.progressElipse},a.a.createElement(Xe,{active:0===this.state.activeDot}),a.a.createElement(Xe,{active:1===this.state.activeDot}),a.a.createElement(Xe,{active:2===this.state.activeDot}))}}]),ProgressElipse}(),tt=r("zmXR"),rt=r.n(tt),ot=r("Y+p1"),nt=r.n(ot),it=r("24Ii"),at=r.n(it),st=null,ct=null;var lt=function createGist(e){return new Promise(function(t,r){nt()(st,e)&&ct?t(ct):(st=e,at.a.post("/gist").send(e).end(function(o,n){if(o)ct=null,r(o);else{st=e;var i=JSON.parse(n.text).url;ct=i,t(i)}}))})};function CollaborationWallContent_typeof(e){return(CollaborationWallContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CollaborationWallContent_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CollaborationWallContent_possibleConstructorReturn(e,t){return!t||"object"!==CollaborationWallContent_typeof(t)&&"function"!=typeof t?function CollaborationWallContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CollaborationWallContent_getPrototypeOf(e){return(CollaborationWallContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CollaborationWallContent_setPrototypeOf(e,t){return(CollaborationWallContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function CollaborationWall(){var e,t;!function CollaborationWallContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CollaborationWall);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=CollaborationWallContent_possibleConstructorReturn(this,(e=CollaborationWallContent_getPrototypeOf(CollaborationWall)).call.apply(e,[this].concat(o)))).state={responseMsg:null,url:""},t}return function CollaborationWallContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CollaborationWallContent_setPrototypeOf(e,t)}(CollaborationWall,i["Component"]),function CollaborationWallContent_createClass(e,t,r){return t&&CollaborationWallContent_defineProperties(e.prototype,t),r&&CollaborationWallContent_defineProperties(e,r),e}(CollaborationWall,[{key:"createGistUrl",value:function createGistUrl(){var e=this,t={};$e()(this.props.files,function(e){t[e.name]={content:e.content}}),lt({description:"Codecademy export",public:!1,files:t}).then(function(t){e.setState({url:t})})}},{key:"createCollaborationUrl",value:function createCollaborationUrl(){var e="".concat(window.location.origin+window.location.pathname,"?user_id=").concat(Ae.a.id()),t="?user_id=".concat(Ae.a.id());return window.history.pushState({userId:Ae.a.id()},window.location.pathname,t),Object(ze.c)("project-collaboration-invite",{share_url:e}),e}},{key:"componentDidMount",value:function componentDidMount(){var e=this,t=function safeClipboard(){return r("Ddwv")}();this.clipboard=new t(Object(V.findDOMNode)(this.refs.collabButton)),this.clipboard.on("success",function(){e.setState({responseMsg:"Link copied!",error:!1})}),this.clipboard.on("error",function(){e.setState({responseMsg:"uh oh! there was a problem copying the url!",error:!0})}),this.state.url||(this.props.gist?this.createGistUrl():this.setState({url:this.createCollaborationUrl()}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.clipboard&&(this.clipboard.destroy(),this.clipboard=null)}},{key:"render",value:function render(){var e=y()(function CollaborationWallContent_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},rt.a.errorMsg,this.state.error));return a.a.createElement(I.a,{column:!0},a.a.createElement("h5",null,"Copy the path below to share your code"),a.a.createElement(I.a,null,a.a.createElement("div",{className:rt.a.copyField},a.a.createElement(Ve.a,{className:rt.a.copyInputField,id:"collInput",value:this.state.url}),this.state.url?null:a.a.createElement(I.a,{flex:!0,center:!0,className:rt.a.loadingContainer},a.a.createElement(et,null))),a.a.createElement("div",{ref:"collabButton","data-clipboard-action":"copy","data-clipboard-target":"#collInput"},a.a.createElement(N.a,{disabled:!this.state.url},"Copy"))),a.a.createElement(I.a,{center:!0,flex:!0,className:rt.a.responseMsgContainer},a.a.createElement("span",{className:e},this.state.responseMsg)))}}]),CollaborationWall}();ut.propTypes={files:n.a.array,gist:n.a.bool};var pt=ut,ft=r("FBJ6"),ht=r("rFUm"),dt=r("T2dD"),yt=r("E9dL"),mt=r("xerY"),_t=r("l+xW"),bt=r.n(_t);function WorkspaceNameChooser_typeof(e){return(WorkspaceNameChooser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WorkspaceNameChooser_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function WorkspaceNameChooser_possibleConstructorReturn(e,t){return!t||"object"!==WorkspaceNameChooser_typeof(t)&&"function"!=typeof t?function WorkspaceNameChooser_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WorkspaceNameChooser_getPrototypeOf(e){return(WorkspaceNameChooser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WorkspaceNameChooser_setPrototypeOf(e,t){return(WorkspaceNameChooser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var gt={saveWorkspace:n.a.func,workspaceSlug:n.a.string,generatedWorkspaceName:n.a.string},vt="blank-workspace",Ct=function(e){function WorkspaceNameChooser(){var e,t;!function WorkspaceNameChooser_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WorkspaceNameChooser);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=WorkspaceNameChooser_possibleConstructorReturn(this,(e=WorkspaceNameChooser_getPrototypeOf(WorkspaceNameChooser)).call.apply(e,[this].concat(o)))).state={customSlug:t.props.workspaceSlug===vt?"":t.props.workspaceSlug},t.handleChange=function(e){t.setState({customSlug:e.target.value.replace(/\s/g,"-")})},t}return function WorkspaceNameChooser_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WorkspaceNameChooser_setPrototypeOf(e,t)}(WorkspaceNameChooser,i["Component"]),function WorkspaceNameChooser_createClass(e,t,r){return t&&WorkspaceNameChooser_defineProperties(e.prototype,t),r&&WorkspaceNameChooser_defineProperties(e,r),e}(WorkspaceNameChooser,[{key:"render",value:function render(){var e=this.props,t=e.saveWorkspace,r=e.workspaceSlug,o=e.generatedWorkspaceName;return a.a.createElement(mt.b,{className:bt.a.workspaceNaming,onSubmit:t},a.a.createElement(mt.d,null,"Workspace Name"),r&&r!==vt?a.a.createElement(mt.f,{htmlFor:"currentWorkspaceSlug",label:a.a.createElement("div",null,a.a.createElement(mt.d,null,"Current Name"),a.a.createElement("p",null,r)),name:"chooseWorkspaceSlug",className:bt.a.slugRadioButtons,value:r}):null,o!==r?a.a.createElement(mt.f,{htmlFor:"generatedWorkspaceSlug",label:a.a.createElement("div",null,a.a.createElement(mt.d,null,"Generated Name"),a.a.createElement("p",null,o)),name:"chooseWorkspaceSlug",className:bt.a.slugRadioButtons,value:o}):null,a.a.createElement(mt.f,{htmlFor:"customWorkspaceSlug",label:a.a.createElement("div",{className:bt.a.customWorkspaceName},a.a.createElement(mt.d,null,"Custom Name"),a.a.createElement(mt.e,{onChange:this.handleChange,value:this.state.customSlug})),name:"chooseWorkspaceSlug",className:bt.a.slugRadioButtons,value:this.state.customSlug}),a.a.createElement(yt.a,{theme:"secondary",className:bt.a.saveWorkspaceButton,type:"submit"},"Save Workspace"))}}]),WorkspaceNameChooser}();Ct.propTypes=gt;var Ot=Ct,Pt=r("VBGW"),wt=r.n(Pt);function CodeEditor_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kt={trackClick:dt.d},St=w()({displayName:"CodeEditor",propTypes:{presenter:n.a.object.isRequired,geometry:n.a.object.isRequired,modifiers:n.a.object.isRequired,helpers:n.a.object.isRequired,broadcast:n.a.func.isRequired,trackClick:n.a.func.isRequired,user:n.a.object,checkpointsRunning:n.a.bool},mixins:[E.StateMixin.connect(qe.a,["files","active","hasReceivedCurrentFiles"]),E.StateMixin.connect(ht.a),E.StateMixin.connect(L.a),S.a.listenTo(l.a,"onResize")],getInitialState:function getInitialState(){var e;return this.props.geometry&&(e={width:this.props.geometry.width(),height:this.props.geometry.height()}),{openResetWorkspaceWall:!1,openShareWall:!1,fileToolOpen:!1,hasTyped:!1,collapsed:!0,orphans:[],dimensions:e}},toggleLayout:function toggleLayout(){this.setState({collapsed:!this.state.collapsed,fileToolOpen:!this.state.fileToolOpen})},toggleAuthoringMode:function toggleAuthoringMode(){Qe.a.adminChange("toggleWorkspaceNaming",!this.state.toggleWorkspaceNaming)},componentDidMount:function componentDidMount(){var e=this;ze.b&&(Object(ze.b)("onShow",function(){e.setState({intercomOpen:!0})}),Object(ze.b)("onHide",function(){e.setState({intercomOpen:!1})}))},normalizeFileKeys:function normalizeFileKeys(e){var t=[];return e.forEach(function(e){var r={};r.name=e.filename,r.type=e.type,t.push(r)}),t},setOrphans:function setOrphans(e){e.length>this.state.orphans.length&&(this.setState({orphans:e}),this.setState({hasNewOrphan:!0}))},onResize:function onResize(){this.refs.editor&&this.refs.editor.refresh()},onClick:function onClick(){this.refs.editor&&this.refs.editor.codeMirror.focus()},processFiles:function processFiles(){var e=this;return new Promise(function(t){e.props.presenter.hasCheckWork?c.a.autoSaveFiles().then(t):t()})},onModelChanged:function onModelChanged(e){var t=this,r=this.state.files[this.state.active];r&&r.content!==e&&(this.setState({persistingFiles:!0}),K.a.updateFile(r,e).then(function(){t.processFiles().then(function(){t.setState({persistingFiles:!1})})}),this.state.hasTyped||this.setState({hasTyped:!0}))},submitClick:function submitClick(){var e=this;this.state.offerAnswer&&this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1,hasTyped:!1}),this.setState({persistingFiles:!0}),this.props.presenter.evaluateExercise().then(function(){e.setState({persistingFiles:!1})}).catch(function(t){600===t.code&&e.props.broadcast("error",{visible:!0,timestamp:(new Date).valueOf(),friendly:t.message,component:"PersistentCodeEditor"}),e.setState({persistingFiles:!1})})},saveWorkspace:function saveWorkspace(e){e.preventDefault();var t,r=e.target.elements,o=r.currentWorkspaceSlug,n=r.generatedWorkspaceSlug,i=r.customWorkspaceSlug;o&&o.checked?t=o.value:i.checked?t=i.value:n.checked&&(t=n.value),""!==t&&c.a.saveFilesAndCheckWork().then(function(){return c.a.getFetchUrl(t)}).then(function(e){return c.a.persist(e,t)}).then(this.toggleAuthoringMode)},onEditorFocus:function onEditorFocus(){this.state.offerAnswer&&(this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1}))},updateTree:function updateTree(){this.props.broadcast("getFileTree")},offerAnswer:function offerAnswer(){this.setState({offerAnswer:!0})},resetWorkspace:function resetWorkspace(){var e=function noop(){};return this.props.trackClick({data:{target:"platformResetWorkspace"}}),"project"===this.props.presenter.contentItemType?c.a.reset().then(this._closeResetWorkspaceWall,e):c.a.restore().then(this._closeResetWorkspaceWall,e)},_renderHeader:function _renderHeader(){return a.a.createElement("div",{className:"fcn-component-header"},this._renderTabs())},_renderEditor:function _renderEditor(){var e=this.props.modifiers,t={};return(void 0===e?{}:e).disableLinting&&(t.lint=!1),a.a.createElement(s.a,{ref:"editor",file:this.activeFile(),className:wt.a.cmeditor,onFocus:this.onEditorFocus,onChange:this.onModelChanged,options:t,persistingFiles:this.state.persistingFiles})},_ignoreOrphan:function _ignoreOrphan(){this.setState({hasNewOrphan:!1})},_keepTrying:function _keepTrying(){this.setState({offerAnswer:!1}),this.props.broadcast("keepTrying")},_showAnswer:function _showAnswer(){this.setState({offerAnswer:!1}),this.props.broadcast("showAnswer")},_openCollaborationWall:function _openCollaborationWall(){this.setState({openShareWall:!0})},_openResetWorkspaceWall:function _openResetWorkspaceWall(){this.props.trackClick({data:{target:"platformResetWorkspaceDialog"}}),this.setState({openResetWorkspaceWall:!0})},_closeCollaborationWall:function _closeCollaborationWall(){this.setState({openShareWall:!1})},_closeResetWorkspaceWall:function _closeResetWorkspaceWall(){this.setState({openResetWorkspaceWall:!1})},_renderFooter:function _renderFooter(){var e=this.props.presenter,t=this.state,r=t.authoringMode,o=t.toggleWorkspaceNaming;return a.a.createElement("div",{className:"editor-footer-container"},e.displayErrors&&a.a.createElement(Ne,{onVisibilityToggle:this.onResize}),a.a.createElement("div",{className:"fcn-tabs-container"},r&&o?a.a.createElement(Ot,{saveWorkspace:this.saveWorkspace,workspaceSlug:L.a.state.workspaceSlug,generatedWorkspaceName:this.props.presenter.generatedWorkspaceName}):null,this._renderFooterButtons()))},_renderFooterButtons:function _renderFooterButtons(){var e=this.state.persistingFiles||this.props.checkpointsRunning,t=e||0===this.state.files.length,r=this.props.modifiers.isProject?Object(j.b)("views.learning_environment.components.code_editor.save"):Object(j.b)("views.learning_environment.components.code_editor.run"),o={opacity:[1,0],marginTop:[0,30]},n=this.props.modifiers.isProject?Object(j.b)("views.learning_environment.components.code_editor.project"):Object(j.b)("views.learning_environment.components.code_editor.exercise");return a.a.createElement("div",{className:"editor-footer__buttons"},a.a.createElement("div",{className:wt.a.editorFooter},!this.props.presenter.hasCheckWork&&a.a.createElement(N.a,{square:!0,theme:"royalblue",go:!t&&this.state.hasTyped,disabled:t,onClick:e?null:this.submitClick,style:{minWidth:80},id:"run-button"},e?a.a.createElement("div",{className:"fcn-spinner"}):r),a.a.createElement(Ge.VelocityComponent,{animation:o,leave:o,duration:500,runOnMount:!0},a.a.createElement(Be,{noun:n,onClick:this._openResetWorkspaceWall})),Ae.a.isPro()?a.a.createElement("div",{className:"peer-controls"},a.a.createElement(Ge.VelocityComponent,{animation:o,leave:o,duration:500,runOnMount:!0},a.a.createElement(He,{intercomOpen:this.state.intercomOpen,onClick:this._openCollaborationWall}))):null),a.a.createElement(ft.a,{type:"button"}),this.state.authoringMode?a.a.createElement(N.a,{theme:"lantern",onClick:this.toggleAuthoringMode,style:{minWidth:"9rem"}},this.state.toggleWorkspaceNaming?"Back":"Save Workspace"):null)},_renderTabs:function _renderTabs(){var e=this,t=[];this.state.files&&this.state.files.length>0&&this.state.files.forEach(function(r,o){if(!r.isDir){var n=e.state.active===o,i="100.0"/e.state.files.length,s=r.name.split("/"),c=s[s.length-1],l=r.path;t.push(a.a.createElement(_,{title:c,key:"codeEditorTab-".concat(l),isActive:n,tabId:o,locked:e.state.locked,size:i,canClose:!e.props.presenter.navigator_disabled||e.state.authoringMode,clickHandler:K.a.setCurrentOpenFile,closeHandler:K.a.closeFile}))}});var r=y()(CodeEditor_defineProperty({},wt.a.tabsOffSet,this.state.collapsed));return a.a.createElement("div",{className:r},a.a.createElement(u,null,t,a.a.createElement(_,{className:"fcn-control",key:"codeEditorTab-fullscreen","data-cue":"discovery-fullscreen",clickHandler:this.props.helpers.toggleFullscreen,canClose:!1,overflow:!1,isControl:!0,align:"right"},a.a.createElement(h.a,{name:"fullscreen"}))))},_renderPlaceholder:function _renderPlaceholder(){return a.a.createElement("div",{className:"fcn-code-editor__placeholder"},a.a.createElement("div",{className:"fcn-code-editor__placeholder__icon",style:{paddingRight:12}},a.a.createElement(h.a,{name:"file-alt",size:3})),a.a.createElement("div",{style:{marginTop:15}},"Code Editor"),this.state.hasReceivedCurrentFiles&&!this.state.fileToolOpen?a.a.createElement(N.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.toggleLayout},"Open file"):null)},activeFile:function activeFile(){if(null!==this.state.active)return this.state.files[this.state.active]},reloadFile:function reloadFile(e){if(this.state.files&&this.state.files.map(function(e){return e.path}).indexOf(e)>-1){var t=z.a(z.b(e));K.a.reloadFile(e,t)}},render:function render(){var e,t=y()((CodeEditor_defineProperty(e={editor:!0,"editor--empty":-1===!this.state.active},wt.a.layoutCollapsed,this.state.collapsed),CodeEditor_defineProperty(e,wt.a.noNavigator,this.props.presenter.navigator_disabled),CodeEditor_defineProperty(e,wt.a.includeFileNavTab,this.state.authoringMode),CodeEditor_defineProperty(e,wt.a.fileTabOpen,!this.state.collapsed),e)),r=y()(CodeEditor_defineProperty({},wt.a.mainContainer,!0));return a.a.createElement("div",{onKeyUp:this.onKeyUp,className:r},a.a.createElement(A,null),a.a.createElement(W,{isOpen:this.state.openResetWorkspaceWall,cancel:this._closeResetWorkspaceWall,action:this.resetWorkspace,actionText:"Reset",cancelText:"Cancel",wallOverlayType:"screen"},a.a.createElement("h2",null,Object(j.b)("views.learning_environment.components.code_editor.reset_workspace_confirmation_title")),a.a.createElement("p",null,Object(j.b)("views.learning_environment.components.code_editor.reset_workspace_confirmation_content"))),a.a.createElement(R.a,{isOpen:this.state.openShareWall,dismiss:this._closeCollaborationWall},a.a.createElement(pt,{gist:!0,files:this.state.files})),a.a.createElement("div",{className:wt.a.edFToolLayoutContainer},!this.props.presenter.navigator_disabled||this.state.authoringMode?a.a.createElement(ve,{ref:"fileTool",open:this.state.fileToolOpen,toggleLayout:this.toggleLayout}):null,a.a.createElement("div",{className:t},this._renderHeader(),a.a.createElement("div",{onClick:this.onClick,className:y()({"editor-container":"true"})},this.state.files.length>0?this._renderEditor():this._renderPlaceholder()),this._renderFooter())))}}),Et=Object(T.b)(function mapStateToProps(e){return{checkpointsRunning:Object(x.f)(e)}},kt)(St);function Image(e){var t=e.presenter;return a.a.createElement("div",{className:"francine-image__container"},a.a.createElement("img",{src:t.image_url,className:"fit-full francine-image"}))}Image.propTypes={presenter:n.a.object.isRequired};var Tt=Image,jt=r("NCda"),xt=r.n(jt);function Video_typeof(e){return(Video_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Video_extends(){return(Video_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Video_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Video_possibleConstructorReturn(e,t){return!t||"object"!==Video_typeof(t)&&"function"!=typeof t?function Video_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Video_getPrototypeOf(e){return(Video_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Video_setPrototypeOf(e,t){return(Video_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function Video(){var e,t;!function Video_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Video);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Video_possibleConstructorReturn(this,(e=Video_getPrototypeOf(Video)).call.apply(e,[this].concat(o)))).state={failedToCaptureRatioCount:0},t}return function Video_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Video_setPrototypeOf(e,t)}(Video,a.a.Component),function Video_createClass(e,t,r){return t&&Video_defineProperties(e.prototype,t),r&&Video_defineProperties(e,r),e}(Video,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.refs.video;e&&(e.pause(),e.src="",e.onloadstart=function(){},e.load())}},{key:"render",value:function render(){var e={};return this.props.presenter.autoplay&&(e.autoPlay=!0),this.props.presenter.loop&&(e.loop=!0),this.props.presenter.muted&&(e.muted=!0),this.props.presenter.show_controls&&(e.controls=!0),a.a.createElement("div",{className:xt.a.videoContainer,ref:"container"},a.a.createElement("video",Video_extends({ref:"video"},e),this.props.presenter.video_urls.map(function(e){return a.a.createElement("source",{src:e})})))}}]),Video}();Rt.propTypes={presenter:n.a.object.isRequired};var Nt=r("oNLn"),It=function matchesSelector(e,t){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)},Mt=r("Yr7M");function browserLinkListener_typeof(e){return(browserLinkListener_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function browserLinkListener_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function browserLinkListener_possibleConstructorReturn(e,t){return!t||"object"!==browserLinkListener_typeof(t)&&"function"!=typeof t?function browserLinkListener_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function browserLinkListener_getPrototypeOf(e){return(browserLinkListener_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function browserLinkListener_setPrototypeOf(e,t){return(browserLinkListener_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ft,Bt=/^file\:\/\/.*/,Wt="file://";function NarrativeMarkdown_typeof(e){return(NarrativeMarkdown_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NarrativeMarkdown_extends(){return(NarrativeMarkdown_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r,o,n=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NarrativeMarkdown_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function NarrativeMarkdown_possibleConstructorReturn(e,t){return!t||"object"!==NarrativeMarkdown_typeof(t)&&"function"!=typeof t?function NarrativeMarkdown_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NarrativeMarkdown_getPrototypeOf(e){return(NarrativeMarkdown_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NarrativeMarkdown_setPrototypeOf(e,t){return(NarrativeMarkdown_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Lt=function browserLinkListener(e){return function wrapWithComponent(t){return function(r){function BrowserLinkListener(){var t,r;!function browserLinkListener_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BrowserLinkListener);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=browserLinkListener_possibleConstructorReturn(this,(t=browserLinkListener_getPrototypeOf(BrowserLinkListener)).call.apply(t,[this].concat(n)))).handleElementClick=function(t){if(It(t.target,e)){var r=t.target,o=r.getAttribute("target"),n=r.getAttribute("href");if(o){if(Bt.test(n)){t.preventDefault();var i=n.substring(Wt.length);c.a.getFile(i),K.a.openFile(b.a.emptyWithPath(i))}}else t.preventDefault(),Mt.a.load(n);t.stopPropagation()}},r}return function browserLinkListener_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&browserLinkListener_setPrototypeOf(e,t)}(BrowserLinkListener,i.Component),function browserLinkListener_createClass(e,t,r){return t&&browserLinkListener_defineProperties(e.prototype,t),r&&browserLinkListener_defineProperties(e,r),e}(BrowserLinkListener,[{key:"componentDidMount",value:function componentDidMount(){var e=Object(V.findDOMNode)(this);e&&e.addEventListener("click",this.handleElementClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=Object(V.findDOMNode)(this);e&&e.removeEventListener("click",this.handleElementClick)}},{key:"render",value:function render(){return a.a.createElement(t,this.props)}}]),BrowserLinkListener}()}}("a")(Ft=function(e){function NarrativeMarkdown(){return function NarrativeMarkdown_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NarrativeMarkdown),NarrativeMarkdown_possibleConstructorReturn(this,NarrativeMarkdown_getPrototypeOf(NarrativeMarkdown).apply(this,arguments))}return function NarrativeMarkdown_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NarrativeMarkdown_setPrototypeOf(e,t)}(NarrativeMarkdown,i["Component"]),function NarrativeMarkdown_createClass(e,t,r){return t&&NarrativeMarkdown_defineProperties(e.prototype,t),r&&NarrativeMarkdown_defineProperties(e,r),e}(NarrativeMarkdown,[{key:"render",value:function render(){var e=this.props,t=e.text,r=_objectWithoutProperties(e,["text"]);return a.a.createElement(Oe.a,NarrativeMarkdown_extends({},r,{theme:"tight",text:t}))}}]),NarrativeMarkdown}())||Ft;Lt.propTypes={text:n.a.string.isRequired,className:n.a.string.isRequired};var Dt=Lt,Ht=r("iF0z"),At=r.n(Ht);function Hint_typeof(e){return(Hint_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hint_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hint_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Hint_possibleConstructorReturn(e,t){return!t||"object"!==Hint_typeof(t)&&"function"!=typeof t?function Hint_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hint_getPrototypeOf(e){return(Hint_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hint_setPrototypeOf(e,t){return(Hint_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var qt={trackClick:dt.d},Qt=function(e){function Hint(){var e,t;!function Hint_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Hint);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Hint_possibleConstructorReturn(this,(e=Hint_getPrototypeOf(Hint)).call.apply(e,[this].concat(o)))).state={showHint:!1},t.toggleHint=function(){t.props.trackClick({data:{target:"platformHint"}}),t.setState({showHint:!t.state.showHint})},t}return function Hint_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hint_setPrototypeOf(e,t)}(Hint,i["PureComponent"]),function Hint_createClass(e,t,r){return t&&Hint_defineProperties(e.prototype,t),r&&Hint_defineProperties(e,r),e}(Hint,[{key:"render",value:function render(){var e=this.state.showHint,t=y()(At.a.hint,Hint_defineProperty({},At.a.hintOpen,e)),r=y()(At.a.toggleArrow,Hint_defineProperty({},At.a.toggleArrowOpen,e));return a.a.createElement("div",{className:t},a.a.createElement("div",{tabIndex:0,role:"button",className:At.a.hintHeader,onClick:this.toggleHint},a.a.createElement("span",{className:At.a.hintHeaderText},this.state.showHint?"Hint":"Stuck? Get a hint"),a.a.createElement(Nt.a,{className:r,name:"chevronDown"})),e&&a.a.createElement(Dt,{className:At.a.hintBody,text:this.props.hint}))}}]),Hint}();Qt.propTypes={hint:n.a.string.isRequired,trackClick:n.a.func.isRequired};var zt=Object(T.b)(null,qt)(Qt);function checkpoint_typeof(e){return(checkpoint_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function checkpoint_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function checkpoint_possibleConstructorReturn(e,t){return!t||"object"!==checkpoint_typeof(t)&&"function"!=typeof t?function checkpoint_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function checkpoint_getPrototypeOf(e){return(checkpoint_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function checkpoint_setPrototypeOf(e,t){return(checkpoint_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Gt=function(e){function Checkpoint(){return function checkpoint_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Checkpoint),checkpoint_possibleConstructorReturn(this,checkpoint_getPrototypeOf(Checkpoint).apply(this,arguments))}return function checkpoint_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&checkpoint_setPrototypeOf(e,t)}(Checkpoint,a.a.PureComponent),function checkpoint_createClass(e,t,r){return t&&checkpoint_defineProperties(e.prototype,t),r&&checkpoint_defineProperties(e,r),e}(Checkpoint,[{key:"render",value:function render(){var e,t=this.props,r=t.status,o=t.disabled,n=t.index,i=t.instructions,s=t.hint,c=t.passive,l=y()({"fcn-checkpoint":!0,"fcn-checkpoint--satisfied":"satisfied"===r,"fcn-checkpoint--unsatisfied":"unsatisfied"===r&&!c,"fcn-checkpoint--pending":"pending"===r,"fcn-checkpoint--disabled":o&&"default"===r}),u=y()({"fcn-checkpoint__checkbox":!0,"fcn-checkpoint__checkbox--satisfied":"satisfied"===r,"fcn-checkpoint__checkbox--unsatisfied":"unsatisfied"===r&&!c,"fcn-checkpoint__checkbox--pending":"pending"===r});return"satisfied"===r?e=a.a.createElement(h.a,{name:"check"}):"unsatisfied"===r&&(e=a.a.createElement(h.a,{name:"close"})),a.a.createElement("div",null,a.a.createElement("div",{className:l},a.a.createElement("b",{className:"fcn-checkpoint__number"},n,"."),a.a.createElement("div",{className:"fcn-checkpoint__body"},a.a.createElement(Dt,{text:i})),a.a.createElement("div",{className:u},"pending"===r?a.a.createElement("div",{className:"fcn-spinner"}):e)),s?a.a.createElement(zt,{hint:s}):null)}}]),Checkpoint}();Gt.propTypes={disabled:n.a.bool.isRequired,status:n.a.string.isRequired,instructions:n.a.string.isRequired,hint:n.a.string.isRequired,index:n.a.number.isRequired,passive:n.a.bool.isRequired},Gt.defaultProps={disabled:!1,status:"default"};var Ut=Gt,$t=r("E+oP"),Vt=r.n($t),Jt=r("Pen/"),Kt=r("UbMB"),Yt=r.n(Kt),Zt=r("FzGg"),Xt=r("PWMj"),er=r("2OGA"),tr=r.n(er);var rr={errorOptions:n.a.string,errorDescription:n.a.string,type:n.a.string,report:n.a.string,handleReportChange:n.a.func,selectType:n.a.func,canSubmit:n.a.bool,cancel:n.a.func,submit:n.a.func};function ReportForm(e){var t=e.errorOptions,r=e.errorDescription,o=e.type,n=e.report,i=e.handleReportChange,s=e.selectType,c=e.canSubmit,l=e.cancel,u=e.submit,p=y()(function ReportForm_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},tr.a.reportFormDisabled,!c),tr.a.formButton,tr.a.reportFormButton),f={errormsg:"I don't understand this error message",interface:"There's a problem with the interface",instructions:"There's something wrong with the instructions",other:"Other"};return a.a.createElement("div",{key:"report",className:tr.a.formInputs},a.a.createElement("span",{className:tr.a.optionsTitle},"Please select one:"),a.a.createElement(mt.g,{name:"bugtype",onChange:s},Object.keys(f).map(function(e){return a.a.createElement(mt.f,{key:e,className:tr.a.radio,value:e,checked:o===e,label:f[e]})})),a.a.createElement("span",{className:tr.a.errorMessage},t),a.a.createElement("textarea",{value:n,className:tr.a.reportFormText,placeholder:"Please describe the issue",onChange:i}),a.a.createElement("span",{className:tr.a.errorMessage},r),a.a.createElement("p",{className:tr.a.helpText},"Please be as descriptive as possible. The more detail you provide, the better we can solve the issue."),a.a.createElement("div",{className:tr.a.formButtonWrapper},a.a.createElement(N.a,{className:tr.a.formButton,theme:"primary",onClick:l},"Cancel"),a.a.createElement(N.a,{theme:"secondary",className:p,type:"index",onClick:u},"Submit Bug Report")))}ReportForm.propTypes=rr;var or=ReportForm;function ReportBug_typeof(e){return(ReportBug_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReportBug_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){ReportBug_defineProperty(e,t,r[t])})}return e}function ReportBug_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ReportBug_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ReportBug_possibleConstructorReturn(e,t){return!t||"object"!==ReportBug_typeof(t)&&"function"!=typeof t?function ReportBug_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ReportBug_getPrototypeOf(e){return(ReportBug_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReportBug_setPrototypeOf(e,t){return(ReportBug_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var nr=Yt.a.bind(tr.a),ir={CLICKABLE:0,SUBMITTABLE:1,SUBMITTING:2,THANKING:3,FAILED:4},ar={enter:{animation:{opacity:[1,0],translateY:[0,"-10px"]},easing:"easeInOutQuad",duration:250},leave:{animation:{opacity:[0,1],translateY:["-10px",0]},easing:"easeInOutQuad",duration:250}},sr="Required: Please select one of the options above",cr="Required: Please provide a description of the issue",lr={type:null,value:"",errors:{options:null,description:null},reportingState:ir.CLICKABLE},ur=function(e){function ReportBug(){var e,t;!function ReportBug_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReportBug);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ReportBug_possibleConstructorReturn(this,(e=ReportBug_getPrototypeOf(ReportBug)).call.apply(e,[this].concat(o)))).state=ReportBug_objectSpread({},lr),t.handleReportChange=function(e){var r=$()(t.state.errors);e.target.value&&(r.description=null),t.setState({value:e.target.value,errors:r})},t.submit=function(){t.validate()&&(t.setState({reportingState:ir.SUBMITTING}),Object(Jt.a)("tagRecording",["Reported Bug"]),t.props.submit(ReportBug_objectSpread({preface:t.state.value,error:{message:""},type:t.state.type},t.props.data)))},t.cancel=function(){t.setState({reportingState:ir.CLICKABLE})},t.selectType=function(e){var r=$()(t.state.errors);r.options=null,t.setState({type:e.target.value,errors:r})},t.showForm=function(e){e.preventDefault(),t.setState({reportingState:ir.SUBMITTABLE})},t}return function ReportBug_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReportBug_setPrototypeOf(e,t)}(ReportBug,i["Component"]),function ReportBug_createClass(e,t,r){return t&&ReportBug_defineProperties(e.prototype,t),r&&ReportBug_defineProperties(e,r),e}(ReportBug,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.submissionStatus;e.submissionStatus!==t&&("success"===t&&this.showConfirmation(!0),"failure"===t&&(console.warn("Failed to submit bug report"),this.showConfirmation(!1)))}},{key:"showConfirmation",value:function showConfirmation(e){var t=this;this.setState({reportingState:e?ir.THANKING:ir.FAILED}),window.setTimeout(function(){t.setState(lr)},3e3),this.props.reset()}},{key:"validate",value:function validate(){var e={};return this.canSubmit()||(this.state.type||(e.options=sr),this.state.value.length||(e.description=cr),this.setState({errors:e})),Vt()(e)}},{key:"canSubmit",value:function canSubmit(){return null!==this.state.type&&0!==this.state.value.length&&this.state.reportingState===ir.SUBMITTABLE}},{key:"render",value:function render(){var e=nr({"accordion-section-body__no-bg":!0,"accordion-section-body__padded":!0,reportForm:!0}),t=null;switch(this.state.reportingState){case ir.SUBMITTABLE:t=a.a.createElement(or,{errorOptions:this.state.errors.options,errorDescription:this.state.errors.description,type:this.state.type,report:this.state.value,handleReportChange:this.handleReportChange,selectType:this.selectType,canSubmit:this.canSubmit(),cancel:this.cancel,submit:this.submit});break;case ir.CLICKABLE:t=a.a.createElement("div",{className:nr("reportFormIntroText")},"If you see a bug or any other issue with this page, please report it"," ",a.a.createElement("a",{href:"#",onClick:this.showForm},"here"),".");break;case ir.THANKING:t=a.a.createElement("div",{className:nr("reportFormIntroText")},"Thank you for letting us know! We will review your report soon.");break;case ir.FAILED:t=a.a.createElement("div",{className:nr("reportFormIntroText")},"Failed to submit your report. Please try again.");break;default:t=null}return a.a.createElement("div",{className:e},a.a.createElement(Ge.VelocityTransitionGroup,ar,t))}}]),ReportBug}();ur.propTypes={submissionStatus:n.a.string,data:n.a.object,submit:n.a.func,reset:n.a.func},ur.defaultProps={data:{}};var pr=Object(T.b)(function mapStateToProps(e){return{submissionStatus:Object(Xt.a)(e)}},function mapDispatchToProps(e){return{submit:function submit(t){return e(Object(Zt.b)(t))},reset:function reset(){return e(Object(Zt.a)({status:""}))}}})(ur),fr=r("NaN6"),hr=r("kmE8"),dr=r("zj2G"),yr=r.n(dr);function NarrativeHeader_extends(){return(NarrativeHeader_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function NarrativeHeader_objectWithoutProperties(e,t){if(null==e)return{};var r,o,n=function NarrativeHeader_objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var mr=function NarrativeHeader(e){var t=e.iconName,r=NarrativeHeader_objectWithoutProperties(e,["iconName"]);return a.a.createElement(I.a,NarrativeHeader_extends({align:"center"},r),a.a.createElement(h.a,{className:yr.a.headerIcon,name:t}),e.children)};mr.propTypes={iconName:n.a.string,children:n.a.node};var _r=mr,br=r("gLAU"),gr=r.n(br),vr=r("EVdn"),Cr=r.n(vr);function NarrativeContent_typeof(e){return(NarrativeContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NarrativeContent_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function NarrativeContent_possibleConstructorReturn(e,t){return!t||"object"!==NarrativeContent_typeof(t)&&"function"!=typeof t?function NarrativeContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NarrativeContent_getPrototypeOf(e){return(NarrativeContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NarrativeContent_setPrototypeOf(e,t){return(NarrativeContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Or=function(e){function Accordion(e){var t;!function NarrativeContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Accordion),(t=NarrativeContent_possibleConstructorReturn(this,NarrativeContent_getPrototypeOf(Accordion).call(this,e))).checkOffsets=function(){if(t.refs.accordionScroller){var e=[],r=[],o=J.a.findDOMNode(t.refs.accordionScroller).offsetHeight,n=[!0,!0,!0,!0],i=0;t.props.content.forEach(function(e,r){var o=J.a.findDOMNode(t.refs["accordionSection".concat(r)]).offsetHeight;i+=o}),t.props.content.forEach(function(i,a){var s=J.a.findDOMNode(t.refs["accordionSection".concat(a)]).offsetTop-41*a;e.push(s),r.push(e[a]-(o-120)),e[a]>o&&(n[a]=!1)});var a=t.props.content.length-1,s=J.a.findDOMNode(t.refs["accordionSection".concat(a)]).offsetHeight;s<o&&(i+=o-s-41*a),J.a.findDOMNode(t.refs.accordionContent).style.height="".concat(i,"px"),t.setState({thresholdsTop:e,thresholdsBottom:r,bottomStickies:n}),t.hideOrShowStickies()}},t.hideOrShowStickies=function(){var e=J.a.findDOMNode(t.refs.accordionScroller),r=e?e.scrollTop:0,o=t.state.thresholdsBottom,n=t.state.thresholdsTop,i=[!0,!0,!0,!0],a=[!0,!0,!0,!0];a.forEach(function(e,t){void 0!==o&&r<o[t]&&(a[t]=!1)}),a[0]=!0,i.forEach(function(e,t){void 0!==n&&r>n[t]&&(i[t]=!1)}),t.setState({topStickies:i,bottomStickies:a})},t.handleScroll=function(){gr()(function(){t.hideOrShowStickies()})},t.openSection=function(e){for(var r=0;r<t.props.content.length;r+=1){if(t.props.content[r].key===e&&t.refs["accordionSection".concat(r)]){t.handleClick(r);break}}},t.handleClick=function(e){var r=e.target.dataset.index,o=J.a.findDOMNode(t.refs.accordionScroller);o.style.overflow="auto",Cr()(o).animate({scrollTop:t.state.thresholdsTop[r]+3},300),t.hideOrShowStickies()};var r=[!0,!0,!0,!0];return t.state={topStickies:r,bottomStickies:r},t}return function NarrativeContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NarrativeContent_setPrototypeOf(e,t)}(Accordion,a.a.Component),function NarrativeContent_createClass(e,t,r){return t&&NarrativeContent_defineProperties(e.prototype,t),r&&NarrativeContent_defineProperties(e,r),e}(Accordion,[{key:"componentDidMount",value:function componentDidMount(){var e=this;gr()(function(){e.checkOffsets(),e.hideOrShowStickies()}),window.addEventListener("resize",this.checkOffsets)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.content===e.content&&this.state.thresholdsTop||this.checkOffsets()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.checkOffsets)}},{key:"render",value:function render(){var e=this,t=[],r=[],o=[];return this.props.content.forEach(function(n,i){var s=y()({"accordion-section-heading":!0,invisible:e.state.topStickies[i]}),c=y()({"accordion-section-heading":!0,invisible:!e.state.topStickies[i]}),l=y()({"accordion-section-heading":!0,invisible:e.state.bottomStickies[i]}),u=a.a.createElement("div",{className:s,onClick:e.handleClick,"data-index":i},n.heading),p=a.a.createElement("div",{className:l,onClick:e.handleClick,"data-index":i},n.heading);r.push(u),o.push(p);var f=a.a.createElement("div",{className:"accordion-section",ref:"accordionSection".concat(i),key:"accordion".concat(i)},a.a.createElement("div",{onClick:e.handleClick,"data-index":i,className:c},n.heading),a.a.createElement("div",{className:"accordion-section-body"},n.content));t.push(f)}),a.a.createElement("div",null,a.a.createElement("div",{className:"accordion-container",ref:"accordionScroller",onScroll:this.handleScroll,onWheel:this.handleScroll},a.a.createElement("div",{className:"accordion",ref:"accordionContent"},t)),a.a.createElement("div",{className:"sticky-bottom"},o),a.a.createElement("div",{className:"sticky-top"},r))}}]),Accordion}();Or.propTypes={content:n.a.array.isRequired};var Pr=Or,wr=r("bXpr");function Narrative_typeof(e){return(Narrative_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Narrative_extends(){return(Narrative_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Narrative_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Narrative_possibleConstructorReturn(e,t){return!t||"object"!==Narrative_typeof(t)&&"function"!=typeof t?function Narrative_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Narrative_getPrototypeOf(e){return(Narrative_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Narrative_setPrototypeOf(e,t){return(Narrative_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var kr=function(e){function Narrative(){return function Narrative_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Narrative),Narrative_possibleConstructorReturn(this,Narrative_getPrototypeOf(Narrative).apply(this,arguments))}return function Narrative_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Narrative_setPrototypeOf(e,t)}(Narrative,i["Component"]),function Narrative_createClass(e,t,r){return t&&Narrative_defineProperties(e.prototype,t),r&&Narrative_defineProperties(e,r),e}(Narrative,[{key:"render",value:function render(){var e,t,r=this.props,o=r.presenter,n=r.checkpoints,i=r.currentCheckpointIndex,s=r.checkpointRunning,c=r.checkpointFailed,l=r.checkpointPassive,u=r.inGetHelpV2Feature;!o.instructions||n&&0!==n.length||(e=a.a.createElement(Dt,{className:yr.a.body,text:this.props.presenter.instructions})),n&&n.length>0&&(t=n.map(function(e,t){var r=t>i,o="default";return t<i&&(o="satisfied"),t===i&&(c&&(o="unsatisfied"),s&&(o="pending")),a.a.createElement(Ut,Narrative_extends({key:e.id,index:t+1,disabled:r,status:o,passive:l},e))}));var p=[{heading:a.a.createElement(_r,{className:"learn-header",iconName:"learn"},Object(j.b)("views.learning_environment.components.narrative.learn")),content:a.a.createElement("div",{className:yr.a.body},a.a.createElement("div",{className:yr.a.bodyParentHeading},this.props.presenter.contentParentTitle),a.a.createElement("h1",{className:yr.a.bodyHeading},this.props.presenter.contentItemTitle),a.a.createElement(Dt,{text:this.props.presenter.content})),key:"learn"}];return(e||t)&&p.push({heading:a.a.createElement(_r,{iconName:"instructions"},Object(j.b)("views.learning_environment.components.narrative.instructions")),content:a.a.createElement("div",null,t,e),key:"instructions"}),p.push({heading:a.a.createElement(_r,{iconName:"comments"},Object(j.b)("views.learning_environment.components.narrative.forums")),content:a.a.createElement(wr.a,{className:yr.a.body}),key:"forum"}),o.bugReportData.course&&!u&&p.push({heading:a.a.createElement(_r,{className:"support-header",iconName:"support"},Object(j.b)("views.learning_environment.components.narrative.report_a_bug")),content:a.a.createElement(pr,{data:o.bugReportData}),key:"support"}),a.a.createElement(Pr,{content:p})}}]),Narrative}();kr.propTypes={presenter:n.a.object,checkpoints:n.a.array,currentCheckpointIndex:n.a.number,checkpointRunning:n.a.bool,checkpointFailed:n.a.bool,checkpointPassive:n.a.bool,inGetHelpV2Feature:n.a.bool};var Sr=Object(T.b)(function mapStateToProps(e){return{checkpoints:Object(fr.l)(e).checkpoints,currentCheckpointIndex:Object(x.h)(e),checkpointRunning:Object(x.f)(e),checkpointFailed:Object(x.b)(e),checkpointPassive:Object(x.e)(e),inGetHelpV2Feature:Object(hr.a)(e).includes("get_help_v2")}})(kr),Er=r("5BBx"),Tr=r("DLIK"),jr=r.n(Tr);function TaskCheckBox_typeof(e){return(TaskCheckBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskCheckBox_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskCheckBox_possibleConstructorReturn(e,t){return!t||"object"!==TaskCheckBox_typeof(t)&&"function"!=typeof t?function TaskCheckBox_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskCheckBox_getPrototypeOf(e){return(TaskCheckBox_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskCheckBox_setPrototypeOf(e,t){return(TaskCheckBox_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xr=function(e){function TaskCheckBox(){return function TaskCheckBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskCheckBox),TaskCheckBox_possibleConstructorReturn(this,TaskCheckBox_getPrototypeOf(TaskCheckBox).apply(this,arguments))}return function TaskCheckBox_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskCheckBox_setPrototypeOf(e,t)}(TaskCheckBox,a.a.PureComponent),function TaskCheckBox_createClass(e,t,r){return t&&TaskCheckBox_defineProperties(e.prototype,t),r&&TaskCheckBox_defineProperties(e,r),e}(TaskCheckBox,[{key:"componentDidMount",value:function componentDidMount(){this.props.broadcast("taskItemMounted")}},{key:"render",value:function render(){var e=y()(function TaskCheckBox_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({"fcn-task__check":!0,"fcn-task__check--checked":this.props.checked},jr.a.centeredCheckbox,!0));return a.a.createElement("div",{"data-cue":"discovery-checklist",className:e},this.props.checked&&a.a.createElement(h.a,{name:"check"}))}}]),TaskCheckBox}();xr.propTypes={checked:n.a.bool.isRequired,broadcast:n.a.func.isRequired};var Rr=xr;function TaskItem_typeof(e){return(TaskItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskItem_possibleConstructorReturn(e,t){return!t||"object"!==TaskItem_typeof(t)&&"function"!=typeof t?function TaskItem_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskItem_getPrototypeOf(e){return(TaskItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskItem_setPrototypeOf(e,t){return(TaskItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Nr=function(e){function TaskItem(){var e,t;!function TaskItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskItem);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=TaskItem_possibleConstructorReturn(this,(e=TaskItem_getPrototypeOf(TaskItem)).call.apply(e,[this].concat(o)))).handleClick=function(){t.props.setTask(!t.props.done)},t}return function TaskItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskItem_setPrototypeOf(e,t)}(TaskItem,i["PureComponent"]),function TaskItem_createClass(e,t,r){return t&&TaskItem_defineProperties(e.prototype,t),r&&TaskItem_defineProperties(e,r),e}(TaskItem,[{key:"render",value:function render(){var e=y()({"fit-full":!0,"fcn-task":!0,"fcn-task--complete":this.props.done});return a.a.createElement("article",{className:e},a.a.createElement(I.a,{className:jr.a.body,onClick:this.handleClick},a.a.createElement(I.b,null,a.a.createElement(Rr,{broadcast:this.props.broadcast,checked:this.props.done})),a.a.createElement(I.b,{className:jr.a.item},a.a.createElement("span",{className:"fcn-task__number","data-testid":"task-".concat(this.props.number)},this.props.number,".")),a.a.createElement(Dt,{text:this.props.text,className:jr.a.narrativeMarkdown})),this.props.hint?a.a.createElement(zt,{hint:this.props.hint}):null)}}]),TaskItem}();Nr.propTypes={done:n.a.bool.isRequired,text:n.a.string.isRequired,number:n.a.number.isRequired,setTask:n.a.func.isRequired,broadcast:n.a.func.isRequired,hint:n.a.string};var Ir=Nr;function TaskListHeader_typeof(e){return(TaskListHeader_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskListHeader_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskListHeader_possibleConstructorReturn(e,t){return!t||"object"!==TaskListHeader_typeof(t)&&"function"!=typeof t?function TaskListHeader_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskListHeader_getPrototypeOf(e){return(TaskListHeader_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskListHeader_setPrototypeOf(e,t){return(TaskListHeader_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(e){function TaskListHeader(){return function TaskListHeader_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListHeader),TaskListHeader_possibleConstructorReturn(this,TaskListHeader_getPrototypeOf(TaskListHeader).apply(this,arguments))}return function TaskListHeader_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskListHeader_setPrototypeOf(e,t)}(TaskListHeader,a.a.PureComponent),function TaskListHeader_createClass(e,t,r){return t&&TaskListHeader_defineProperties(e.prototype,t),r&&TaskListHeader_defineProperties(e,r),e}(TaskListHeader,[{key:"render",value:function render(){return a.a.createElement("h3",{className:"fit-full fcn-task-header"},this.props.heading)}}]),TaskListHeader}();Mr.propTypes={heading:n.a.string.isRequired,broadcast:n.a.func.isRequired};var Fr=Mr;function TaskList_typeof(e){return(TaskList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskList_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskList_possibleConstructorReturn(e,t){return!t||"object"!==TaskList_typeof(t)&&"function"!=typeof t?function TaskList_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskList_getPrototypeOf(e){return(TaskList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskList_setPrototypeOf(e,t){return(TaskList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Br=function(e){function TaskList(){var e,t;!function TaskList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskList);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=TaskList_possibleConstructorReturn(this,(e=TaskList_getPrototypeOf(TaskList)).call.apply(e,[this].concat(o)))).makeTaskItems=function(e,r,o){var n=[];return e.forEach(function(e,i){n.push(a.a.createElement(Ir,{text:e.text,number:i+1+r,key:"task-".concat(e.task_key),hint:e.hint,done:e.done,broadcast:t.props.broadcast,setTask:function setTask(e){t.props.setTask(o,i,e)}}))}),a.a.createElement("div",null,n)},t}return function TaskList_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskList_setPrototypeOf(e,t)}(TaskList,a.a.Component),function TaskList_createClass(e,t,r){return t&&TaskList_defineProperties(e.prototype,t),r&&TaskList_defineProperties(e,r),e}(TaskList,[{key:"render",value:function render(){var e=this,t=[],r=0;return this.props.tasks.forEach(function(o,n){o.heading&&o.heading.length>0&&t.push(a.a.createElement(Fr,{key:"task-heading-".concat(n),heading:o.heading})),t.push(e.makeTaskItems(o.tasks,r,n)),r+=o.tasks.length}),a.a.createElement("div",{className:"fcn-tasks"},a.a.createElement("span",{className:"fcn-tasks__help"},"Mark the tasks as complete by checking them off"),t)}}]),TaskList}();Br.propTypes={broadcast:n.a.func.isRequired,tasks:n.a.array.isRequired,setTask:n.a.func.isRequired};var Wr=Br,Lr=r("eCi3");function Brief_typeof(e){return(Brief_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Brief_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Brief_possibleConstructorReturn(e,t){return!t||"object"!==Brief_typeof(t)&&"function"!=typeof t?function Brief_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Brief_getPrototypeOf(e){return(Brief_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Brief_setPrototypeOf(e,t){return(Brief_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Dr=function(e){function Brief(){var e,t;!function Brief_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Brief);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Brief_possibleConstructorReturn(this,(e=Brief_getPrototypeOf(Brief)).call.apply(e,[this].concat(o)))).state={hideReportForm:!0,showReportConfirmation:!1},t.setTask=function(e,r,o){var n=t.props.modifiers.assessments[e].tasks[r];Er.a.checkAssessment(n.task_key,o)},t._onStart=function(){t.props.broadcast("start")},t}return function Brief_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Brief_setPrototypeOf(e,t)}(Brief,i["Component"]),function Brief_createClass(e,t,r){return t&&Brief_defineProperties(e.prototype,t),r&&Brief_defineProperties(e,r),e}(Brief,[{key:"render",value:function render(){var e=this.props,t=e.presenter,r=e.inGetHelpV2Feature,o=[{heading:a.a.createElement(_r,{className:"learn-header",iconName:"objective"},Object(j.b)("views.learning_environment.components.brief.objective")),content:a.a.createElement("div",{className:yr.a.body},a.a.createElement("div",{className:yr.a.bodyParentHeading},this.props.presenter.contentParentTitle),a.a.createElement("h1",{className:yr.a.bodyHeading},this.props.presenter.contentItemTitle),a.a.createElement(Dt,{text:t.objective}),t.progress.status<1?a.a.createElement("div",{className:"accordion-section-control-container"},a.a.createElement(N.a,{theme:"yellow",onClick:this._onStart,className:yr.a.fullWidthBtn,"data-testid":"start-btn"},"Start")):null),key:"objective"}];if(t.progress.status){var n=this.props.modifiers.assessments.map(function(e){return e.tasks}).reduce(function(e,t){return e.concat(t)},[]);o.push({heading:a.a.createElement(_r,{className:"fcn-task-section__header",iconName:"instructions"},Object(j.b)("views.learning_environment.components.brief.tasks"),a.a.createElement(Lr.a,{total:n.length,complete:n.filter(function(e){return e.done}).length})),content:a.a.createElement(Wr,{tasks:this.props.modifiers.assessments,setTask:this.setTask,broadcast:this.props.broadcast}),key:"selfAssessments"}),t.bugReportData.course&&!r&&o.push({heading:a.a.createElement(_r,{className:"support-header",iconName:"support"},Object(j.b)("views.learning_environment.components.narrative.report_a_bug")),content:a.a.createElement(pr,{data:t.bugReportData}),key:"support"})}return a.a.createElement(Pr,{content:o})}}]),Brief}();Dr.propTypes={broadcast:n.a.func.isRequired,user:n.a.object.isRequired,modifiers:n.a.object.isRequired,presenter:n.a.object.isRequired,inGetHelpV2Feature:n.a.bool};var Hr=Object(T.b)(function mapStateToProps(e){return{inGetHelpV2Feature:Object(hr.a)(e).includes("get_help_v2")}})(Dr),Ar=r("sEfC"),qr=r.n(Ar),Qr=r("Q92V"),zr=r.n(Qr);r("UzKb");zr.a.brokenBold=!0,zr.a.prototype.asText=function(){return this.lines.map(function(e){return e.map(function(e){return e[1]}).join("")}).join("")},zr.a.prototype.asOutputsByCommands=function(){var e={},t="";return this.lines.forEach(function(r){var o=r.map(function(e){return e[1]}).join("");"$"===o[0]?e[t=o]||(e[t]=[]):t&&e[t].push(o)}),e};var Gr=zr.a,Ur=r("EC2Z"),$r=r("4YJZ");function trypoller_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Vr=function(){function TryPoller(e){!function trypoller_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TryPoller),this.func=e}return function trypoller_createClass(e,t,r){return t&&trypoller_defineProperties(e.prototype,t),r&&trypoller_defineProperties(e,r),e}(TryPoller,[{key:"tryForEvery",value:function tryForEvery(e,t){var r=this,o=0,n=setInterval(function(){try{r.func()}catch(r){return void((o+=t)>=e&&clearInterval(n))}clearInterval(n)},t)}}]),TryPoller}(),Jr=r("Nd0X"),Kr=w()({displayName:"RealTerminal",mixins:[E.StateMixin.connect(Ur.a,"hasFocus")],propTypes:{id:n.a.string.isRequired,index:n.a.number,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired,onFocus:n.a.func,onBlur:n.a.func,session:n.a.object,onFgProcChange:n.a.func.isRequired,hasCheckWork:n.a.bool},getInitialState:function getInitialState(){return{queuedWrites:[]}},componentDidMount:function componentDidMount(){var e=this;(this._resize=qr()(this.resize,100),L.a.state.workspaceReady)?new Vr(function(){if(void 0===e.refs.terminal)throw new Error("Terminal ref is not available yet");e.setupTerm()}).tryForEvery(5e3,250):this.unsubSetWorkspace=c.a.setWorkspace.completed.listen(this.setupTerm)},componentDidUpdate:function componentDidUpdate(e){e.session!==this.props.session&&this.bindStream()},componentWillUnmount:function componentWillUnmount(){this.unsubSetWorkspace&&this.unsubSetWorkspace()},setupTerm:function setupTerm(){if(!this.state.term){var e=this.getRowsCols();if(e.cols<0||e.rows<0||e.cols===1/0||e.rows===1/0)throw new Error("Invalid number of rows & cols: ".concat(e.rows,", ").concat(e.cols));var t=new Gr({cols:e.cols,rows:e.rows,cursorBlink:!1,useFocus:!1});this.setState({term:t});var r=J.a.findDOMNode(this.refs.terminal);t.open(r),t.on("keydown",this.onKeydown),this.bindStream()}},resize:function resize(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getRowsCols();t.cols<=0||t.rows<=0||this.state.term&&this.props.session.stream.resize(t.cols,t.rows,function(){e.state.term&&(e.state.term.resize(t.cols,t.rows),e.state.term.refresh(0,t.rows-1))})},text:function text(){return this.state.term.asText()},outputsByCommands:function outputsByCommands(){return this.state.term.asOutputsByCommands()},getRowsCols:function getRowsCols(){var e=J.a.findDOMNode(this.refs.terminal);if(!e)throw new Error("terminal DOM element not found");var t,r=e.offsetWidth,o=e.offsetHeight;if(0===r||0===o)return{rows:1,cols:1};Ur.a.state.fontSize?t=Ur.a.state.fontSize:(t=function getSize(e){var t=document.createElement("div"),r="NOBODYEXPECTSTHESPANISHINQUISITION";t.appendChild(document.createTextNode(r)),t.style.position="absolute",t.style.visibility="hidden",e.appendChild(t);var o={width:t.offsetWidth/r.length,height:t.offsetHeight};return e.removeChild(t),o}(e),$r.a.setFontSize(t));var n=Math.floor((r-20)/t.width),i=Math.floor((o-20)/t.height);return(n<1||n===1/0)&&(n=1),(i<1||i===1/0)&&(i=1),{rows:i,cols:n}},onEnter:function onEnter(){var e=this;this.props.session.stream.getFgProcName(function(t,r){if(t);else{var o=r.Content;e.props.onFgProcChange(o)}}),this.props.hasCheckWork||Jr.a.run()},onKeydown:function onKeydown(e){Gr.focus&&13===e.keyCode&&this.onEnter()},focus:function focus(){this.state.term&&(this.state.term.focus(),this.props.onFocus&&this.props.onFocus())},blur:function blur(){this.state.term.blur(),J.a.findDOMNode(this.refs.terminal).blur(),this.props.onBlur&&this.props.onBlur()},bindStream:function bindStream(){var e=this;if(void 0!==this.props.session.stream){var t=this.props.session.stream,r=this.state.term,o=!0,n=!1,i=void 0;try{for(var a,s=this.props.session.writes[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;this.state.term.write(c)}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}delete this.props.session.stream._events.data,t.on("data",this._handleStreamData),delete this.props.session.stream._events.end,t.on("end",function(){r.destroy(),e.state.term=null,$r.a.closeSession(e.props.id)}),r.on("data",function(e){t.write(e)}),this.state.hasFocus&&this.focus()}},_handleStreamData:function _handleStreamData(e){if(!this.state.term)throw new Error("Received stream data when term is not defined");this.state.term.write(e),this.props.session.writes.push(e),this._resize&&this._resize(this.getRowsCols())},render:function render(){return a.a.createElement("div",{className:"fcn-real-container"},a.a.createElement("div",{className:"real-terminal",tabIndex:"0",ref:"terminal",onClick:this.focus,onBlur:this.props.onBlur}))}});function FakeTerminal_typeof(e){return(FakeTerminal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FakeTerminal_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FakeTerminal_getPrototypeOf(e){return(FakeTerminal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FakeTerminal_setPrototypeOf(e,t){return(FakeTerminal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function FakeTerminal_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}!function(e,t,r){var o={};function migrateWarn(r){o[r]||(o[r]=!0,e.migrateWarnings.push(r),t.console&&console.warn&&!e.migrateMute&&console.warn("JQMIGRATE: "+r))}function migrateWarnProp(t,r,o,n){if(Object.defineProperty)try{return void Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function get(){return migrateWarn(n),o},set:function set(e){migrateWarn(n),o=e}})}catch(e){}e._definePropertyBroken=!0,t[r]=o}e.migrateWarnings=[],e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&migrateWarn("jQuery is not compatible with Quirks Mode");var n=e.attr,i=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},a=e.attrHooks.value&&e.attrHooks.value.set||function(){},s=/^(?:input|button)$/i,c=/^[238]$/,l=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,u=/^(?:checked|selected)$/i;migrateWarnProp(e,"attrFn",{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,o,i){var a=r.toLowerCase(),p=t&&t.nodeType;return i&&(migrateWarn("jQuery.fn.attr( props, pass ) is deprecated"),t&&!c.test(p)&&e.isFunction(e.fn[r]))?e(t)[r](o):("type"===r&&void 0!==o&&s.test(t.nodeName)&&migrateWarn("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[a]&&l.test(a)&&(e.attrHooks[a]={get:function get(t,r){var o,n=e.prop(t,r);return!0===n||"boolean"!=typeof n&&(o=t.getAttributeNode(r))&&!1!==o.nodeValue?r.toLowerCase():void 0},set:function set(t,r,o){var n;return!1===r?e.removeAttr(t,o):((n=e.propFix[o]||o)in t&&(t[n]=!0),t.setAttribute(o,o.toLowerCase())),o}},u.test(a)&&migrateWarn("jQuery.fn.attr("+a+") may use property instead of attribute")),n.call(e,t,r,o))},e.attrHooks.value={get:function get(e,t){var r=(e.nodeName||"").toLowerCase();return"button"===r?i.apply(this,arguments):("input"!==r&&"option"!==r&&migrateWarn("property-based jQuery.fn.attr('value') is deprecated"),t in e?e.value:null)},set:function set(e,t){var r=(e.nodeName||"").toLowerCase();if("button"===r)return a.apply(this,arguments);"input"!==r&&"option"!==r&&migrateWarn("property-based jQuery.fn.attr('value', val) is deprecated"),e.value=t}};var p,f,h=e.fn.init,d=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,r,o){var n;return t&&"string"==typeof t&&!e.isPlainObject(r)&&(n=d.exec(t))&&n[1]&&("<"!==t.charAt(0)&&migrateWarn("$(html) HTML strings must start with '<' character"),r&&r.context&&(r=r.context),e.parseHTML)?h.call(this,e.parseHTML(e.trim(t),r,!0),r,o):h.apply(this,arguments)},e.fn.init.prototype=e.fn,e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},f={},(p=e.uaMatch(navigator.userAgent)).browser&&(f[p.browser]=!0,f.version=p.version),f.chrome?f.webkit=!0:f.webkit&&(f.safari=!0),e.browser=f,migrateWarnProp(e,"browser",f,"jQuery.browser is deprecated"),e.sub=function(){function jQuerySub(e,t){return new jQuerySub.fn.init(e,t)}e.extend(!0,jQuerySub,this),jQuerySub.superclass=this,jQuerySub.fn=jQuerySub.prototype=this(),jQuerySub.fn.constructor=jQuerySub,jQuerySub.sub=this.sub,jQuerySub.fn.init=function init(r,o){return o&&o instanceof e&&!(o instanceof jQuerySub)&&(o=jQuerySub(o)),e.fn.init.call(this,r,o,t)},jQuerySub.fn.init.prototype=jQuerySub.fn;var t=jQuerySub(document);return migrateWarn("jQuery.sub() is deprecated"),jQuerySub};var y=e.fn.data;e.fn.data=function(t){var r,o,n=this[0];return!n||"events"!==t||1!==arguments.length||(r=e.data(n,t),o=e._data(n,t),void 0!==r&&r!==o||void 0===o)?y.apply(this,arguments):(migrateWarn("Use of jQuery.fn.data('events') is deprecated"),o)};var m=/\/(java|ecma)script/i,_=e.fn.andSelf||e.fn.addBack,b=e.buildFragment;e.fn.andSelf=function(){return migrateWarn("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),_.apply(this,arguments)},e.clean||(e.clean=function(t,r,o,n){r=(r=!(r=r||document).nodeType&&r[0]||r).ownerDocument||r,migrateWarn("jQuery.clean() is deprecated");var i,a,s,c,l=[];if(e.merge(l,e.buildFragment(t,r).childNodes),o)for(s=function handleScript(e){if(!e.type||m.test(e.type))return n?n.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e)},i=0;null!=(a=l[i]);i++)e.nodeName(a,"script")&&s(a)||(o.appendChild(a),void 0!==a.getElementsByTagName&&(c=e.grep(e.merge([],a.getElementsByTagName("script")),s),l.splice.apply(l,[i+1,0].concat(c)),i+=c.length));return l}),e.buildFragment=function(t,r,o,n){var i,a="jQuery.buildFragment() is deprecated";r=(r=!(r=r||document).nodeType&&r[0]||r).ownerDocument||r;try{i=b.call(e,t,r,o,n)}catch(s){i=b.call(e,t,r.nodeType?[r]:r[0],o,n),migrateWarn(a)}return i.fragment||(migrateWarnProp(i,"fragment",i,a),migrateWarnProp(i,"cacheable",!1,a)),i};var g=e.event.add,v=e.event.remove,C=e.event.trigger,O=e.fn.toggle,P=e.fn.live,w=e.fn.die,k="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",S=new RegExp("\\b(?:"+k+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,T=function hoverHack(t){return"string"!=typeof t||e.event.special.hover?t:(E.test(t)&&migrateWarn("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(E,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),migrateWarnProp(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,r,o,n){e!==document&&S.test(t)&&migrateWarn("AJAX events should be attached to document: "+t),g.call(this,e,T(t||""),r,o,n)},e.event.remove=function(e,t,r,o,n){v.call(this,e,T(t)||"",r,o,n)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return migrateWarn("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,r){if(!e.isFunction(t)||!e.isFunction(r))return O.apply(this,arguments);migrateWarn("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,n=t.guid||e.guid++,i=0,a=function toggler(r){var n=(e._data(this,"lastToggle"+t.guid)||0)%i;return e._data(this,"lastToggle"+t.guid,n+1),r.preventDefault(),o[n].apply(this,arguments)||!1};for(a.guid=n;i<o.length;)o[i++].guid=n;return this.click(a)},e.fn.live=function(t,r,o){return migrateWarn("jQuery.fn.live() is deprecated"),P?P.apply(this,arguments):(e(this.context).on(t,this.selector,r,o),this)},e.fn.die=function(t,r){return migrateWarn("jQuery.fn.die() is deprecated"),w?w.apply(this,arguments):(e(this.context).off(t,this.selector||"**",r),this)},e.event.trigger=function(e,t,r,o){return!r&!S.test(e)&&migrateWarn("Global events are undocumented and deprecated"),C.call(this,e,t,r||document,o)},e.each(k.split("|"),function(t,r){e.event.special[r]={setup:function setup(){var t=this;return t!==document&&(e.event.add(document,r+"."+e.guid,function(){e.event.trigger(r,null,t,!0)}),e._data(this,r,e.guid++)),!1},teardown:function teardown(){return this!==document&&e.event.remove(document,r+"."+e._data(this,r)),!1}}})}(Cr.a,window),function(){var e,t,r,o,n,i,a,s,c,l,u,p,f,h,d,y,m,_=function __bind(e,t){return function(){return e.apply(t,arguments)}},b=[].slice;y=1,o=(s="jqconsole-")+"cursor",n=s+"header",c=s+"prompt",a=s+"old-prompt",i=s+"input",r=s+"blurred",f="<div/>",p=">>> ",u="... ",l=2,t=s+"ansi-",h=/\[(\d*)(?:;(\d*))*m/,e=function(){function Ansi(){this.stylize=_(this.stylize,this),this._closeSpan=_(this._closeSpan,this),this._openSpan=_(this._openSpan,this),this.getClasses=_(this.getClasses,this),this._style=_(this._style,this),this._color=_(this._color,this),this._remove=_(this._remove,this),this._append=_(this._append,this),this.klasses=[]}return Ansi.prototype.COLORS=["black","red","green","yellow","blue","magenta","cyan","white"],Ansi.prototype._append=function(e){if(e=""+t+e,-1===this.klasses.indexOf(e))return this.klasses.push(e)},Ansi.prototype._remove=function(){var e,r,o,n,i,a;for(a=[],n=0,i=(o=1<=arguments.length?b.call(arguments,0):[]).length;n<i;n++)"fonts"===(r=o[n])||"color"===r||"background-color"===r?a.push(this.klasses=function(){var o,n,i,a;for(a=[],o=0,n=(i=this.klasses).length;o<n;o++)(e=i[o]).indexOf(r)!==t.length&&a.push(e);return a}.call(this)):(r=""+t+r,a.push(this.klasses=function(){var t,o,n,i;for(i=[],t=0,o=(n=this.klasses).length;t<o;t++)(e=n[t])!==r&&i.push(e);return i}.call(this)));return a},Ansi.prototype._color=function(e){return this.COLORS[e]},Ansi.prototype._style=function(e){if(""===e&&(e=0),e=parseInt(e),!isNaN(e))switch(e){case 0:return this.klasses=[];case 1:return this._append("bold");case 2:return this._append("lighter");case 3:return this._append("italic");case 4:return this._append("underline");case 5:return this._append("blink");case 6:return this._append("blink-rapid");case 8:return this._append("hidden");case 9:return this._append("line-through");case 10:return this._remove("fonts");case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:return this._remove("fonts"),this._append("fonts-"+(e-10));case 20:return this._append("fraktur");case 21:case 22:return this._remove("bold","lighter");case 23:return this._remove("italic","fraktur");case 24:return this._remove("underline");case 25:return this._remove("blink","blink-rapid");case 28:return this._remove("hidden");case 29:return this._remove("line-through");case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return this._remove("color"),this._append("color-"+this._color(e-30));case 39:return this._remove("color");case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return this._remove("background-color"),this._append("background-color-"+this._color(e-40));case 49:return this._remove("background-color");case 51:return this._append("framed");case 53:return this._append("overline");case 54:return this._remove("framed");case 55:return this._remove("overline")}},Ansi.prototype.getClasses=function(){return this.klasses.join(" ")},Ansi.prototype._openSpan=function(e){return'<span class="'+this.getClasses()+'">'+e},Ansi.prototype._closeSpan=function(e){return e+"</span>"},Ansi.prototype.stylize=function(e){var t,r,o,n,i,a;for(e=this._openSpan(e),o=0;(o=e.indexOf("",o))&&-1!==o;)if(r=e.slice(o).match(h)){for(n=0,i=(a=r.slice(1)).length;n<i;n++)t=a[n],this._style(t);e=this._closeSpan(e.slice(0,o))+this._openSpan(e.slice(o+1+r[0].length))}else o++;return this._closeSpan(e)},Ansi}(),m=function spanHtml(e,t){return'<span class="'+e+'">'+(t||"")+"</span>"},d=function(){function JQConsole(t,r,o,i){this.container=t,this._HideComposition=_(this._HideComposition,this),this._ShowComposition=_(this._ShowComposition,this),this._UpdateComposition=_(this._UpdateComposition,this),this._EndComposition=_(this._EndComposition,this),this._StartComposition=_(this._StartComposition,this),this._CheckComposition=_(this._CheckComposition,this),this._ProcessMatch=_(this._ProcessMatch,this),this._HandleKey=_(this._HandleKey,this),this._HandleChar=_(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.$window=Cr()(window),this.header=r||"",this.prompt_label_main="string"==typeof o?o:p,this.prompt_label_continue=i||u,this.indent_width=l,this.state=y,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$console=Cr()('<pre class="jqconsole"/>').appendTo(this.container),this.$console.css({position:"absolute",top:0,bottom:0,right:0,left:0,margin:0,overflow:"auto"}),this.$console_focused=!0,this.$input_container=Cr()(f).appendTo(this.container),this.$input_container.css({position:"relative",width:1,height:0,top:-999999,overflow:"hidden"}),this.$input_source=Cr()("<textarea/>"),this.$input_source.attr({wrap:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",autocomplete:"off"}),this.$input_source.css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=Cr()(f),this.$composition.addClass(s+"composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this.ansi=new e,this._InitPrompt(),this._SetupEvents(),this.Write(this.header,n),Cr()(this.container).data("jqconsole",this)}return JQConsole.prototype.ResetHistory=function(){return this.SetHistory([])},JQConsole.prototype.ResetShortcuts=function(){return this.shortcuts={}},JQConsole.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},JQConsole.prototype.Reset=function(){this.state!==y&&this.ClearPromptText(!0),this.state=y,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.container),this.Write(this.header,n)},JQConsole.prototype.GetHistory=function(){return this.history},JQConsole.prototype.SetHistory=function(e){return this.history=e.slice(),this.history_index=this.history.length},JQConsole.prototype._CheckKeyCode=function(e){if(!(0<(e=isNaN(e)?e.charCodeAt(0):parseInt(e,10))&&e<256)||isNaN(e))throw new Error("Key code must be a number between 0 and 256 exclusive.");return e},JQConsole.prototype._LetterCaseHelper=function(e,t){if(t(e),65<=e&&e<=90&&t(e+32),97<=e&&e<=122)return t(e-32)},JQConsole.prototype.RegisterShortcut=function(e,t){var r,o=this;if(e=this._CheckKeyCode(e),"function"!=typeof t)throw new Error("Callback must be a function, not "+t+".");r=function addShortcut(e){return e in o.shortcuts||(o.shortcuts[e]=[]),o.shortcuts[e].push(t)},this._LetterCaseHelper(e,r)},JQConsole.prototype.UnRegisterShortcut=function(e,t){var r,o=this;e=this._CheckKeyCode(e),r=function removeShortcut(e){if(e in o.shortcuts)return t?o.shortcuts[e].splice(o.shortcuts[e].indexOf(t),1):delete o.shortcuts[e]},this._LetterCaseHelper(e,r)},JQConsole.prototype.GetColumn=function(){var e;return this.$prompt_cursor.text(""),e=this.$console.text().split("\n"),this.$prompt_cursor.html("&nbsp;"),e[e.length-1].length},JQConsole.prototype.GetLine=function(){return this.$console.text().split("\n").length-1},JQConsole.prototype.ClearPromptText=function(e){if(this.state===y)throw new Error("ClearPromptText() is not allowed in output state.");this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(e?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),this.$prompt_right.text("")},JQConsole.prototype.GetPromptText=function(e){var t,r,o,n,i;if(this.state===y)throw new Error("GetPromptText() is not allowed in output state.");return e?(this.$prompt_cursor.text(""),i=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),i):((r=(n=function getPromptLines(e){var t;return t=[],e.children().each(function(){return t.push(Cr()(this).children().last().text())}),t.join("\n")})(this.$prompt_before))&&(r+="\n"),o=this.$prompt_left.text()+this.$prompt_right.text(),(t=n(this.$prompt_after))&&(t="\n"+t),r+o+t)},JQConsole.prototype.SetPromptText=function(e){if(this.state===y)throw new Error("SetPromptText() is not allowed in output state.");this.ClearPromptText(!1),this._AppendPromptText(e),this._ScrollToEnd()},JQConsole.prototype.SetPromptLabel=function(e,t){this.prompt_label_main=e,null!=t&&(this.prompt_label_continue=t)},JQConsole.prototype.Write=function(e,t,r){var o;return null==r&&(r=!0),r&&(e=this.ansi.stylize(Cr()("<span/>").text(e).html())),o=Cr()("<span/>").html(e),null!=t&&o.addClass(t),this.Append(o)},JQConsole.prototype.Append=function(e){var t;return t=Cr()(e).insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left),t},JQConsole.prototype.Input=function(e){var t,r,o,n,a=this;if(2===this.state)o=this.input_callback,n=this.multiline_callback,r=this.history_active,t=this.async_multiline,this.AbortPrompt(),this.input_queue.unshift(function(){return a.Prompt(r,o,n,t)});else if(this.state!==y)return void this.input_queue.push(function(){return a.Input(e)});this.history_active=!1,this.input_callback=e,this.multiline_callback=null,this.state=0,this.$prompt.attr("class",i),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},JQConsole.prototype.Prompt=function(e,t,r,o){var n=this;this.state===y?(this.history_active=e,this.input_callback=t,this.multiline_callback=r,this.async_multiline=o,this.state=2,this.$prompt.attr("class",c+" "+this.ansi.getClasses()),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()):this.input_queue.push(function(){return n.Prompt(e,t,r,o)})},JQConsole.prototype.AbortPrompt=function(){if(2!==this.state)throw new Error("Cannot abort prompt when not in prompt state.");this.Write(this.GetPromptText(!0)+"\n",a),this.ClearPromptText(!0),this.state=y,this.input_callback=this.multiline_callback=null,this._CheckInputQueue()},JQConsole.prototype.Focus=function(){this.IsDisabled()||this.$input_source.focus()},JQConsole.prototype.SetIndentWidth=function(e){return this.indent_width=e},JQConsole.prototype.GetIndentWidth=function(){return this.indent_width},JQConsole.prototype.RegisterMatching=function(e,t,r){var o;return o={opening_char:e,closing_char:t,cls:r},this.matchings.clss.push(r),this.matchings.openings[e]=o,this.matchings.closings[t]=o},JQConsole.prototype.UnRegisterMatching=function(e,t){var r;return r=this.matchings.openings[e].cls,delete this.matchings.openings[e],delete this.matchings.closings[t],this.matchings.clss.splice(this.matchings.clss.indexOf(r),1)},JQConsole.prototype.Dump=function(){var e,t;return e=this.$console.find("."+n).nextUntil("."+c),function(){var r,o,n;for(n=[],r=0,o=e.length;r<o;r++)t=e[r],Cr()(t).is("."+a)?n.push(Cr()(t).text().replace(/^\s+/,">>> ")):n.push(Cr()(t).text());return n}().join(" ")},JQConsole.prototype.GetState=function(){return 0===this.state?"input":this.state===y?"output":"prompt"},JQConsole.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},JQConsole.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},JQConsole.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},JQConsole.prototype.MoveToStart=function(e){this._MoveTo(e,!0)},JQConsole.prototype.MoveToEnd=function(e){this._MoveTo(e,!1)},JQConsole.prototype._CheckInputQueue=function(){if(this.input_queue.length)return this.input_queue.shift()()},JQConsole.prototype._InitPrompt=function(){if(this.$prompt=Cr()(m(i)).appendTo(this.$console),this.$prompt_before=Cr()("<span/>").appendTo(this.$prompt),this.$prompt_current=Cr()("<span/>").appendTo(this.$prompt),this.$prompt_after=Cr()("<span/>").appendTo(this.$prompt),this.$prompt_label=Cr()("<span/>").appendTo(this.$prompt_current),this.$prompt_left=Cr()("<span/>").appendTo(this.$prompt_current),this.$prompt_right=Cr()("<span/>").appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_cursor=Cr()(m(o,"&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0}),!this.isMobile)return this.$prompt_cursor.css("position","absolute")},JQConsole.prototype._SetupEvents=function(){var e,t=this;if(this.isMobile?this.$console.click(function(e){return e.preventDefault(),t.Focus()}):this.$console.mouseup(function(e){return 2===e.which?t.Focus():setTimeout(function fn(){if(!window.getSelection().toString())return e.preventDefault(),t.Focus()},0)}),this.$input_source.focus(function(){return t._ScrollToEnd(),t.$console_focused=!0,t.$console.removeClass(r),setTimeout(function removeClass(){if(t.$console_focused)return t.$console.removeClass(r)},100),setTimeout(function hideTextInput(){if(t.isIos&&t.$console_focused)return t.$input_source.hide()},500)}),this.$input_source.blur(function(){return t.$console_focused=!1,t.isIos&&t.$input_source.show(),setTimeout(function addClass(){if(!t.$console_focused)return t.$console.addClass(r)},100)}),e=Cr.a.browser.opera?"input":"paste",this.$input_source.bind(e,function(){return setTimeout(function handlePaste(){if(!t.in_composition)return t._AppendPromptText(t.$input_source.val()),t.$input_source.val(""),t.Focus()},0)}),this.$input_source.keypress(this._HandleChar),this.$input_source.keydown(this._HandleKey),this.$input_source.keydown(this._CheckComposition),null!=Cr.a.browser.mozilla&&(this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",this._EndCommposition),this.$input_source.bind("text",this._UpdateComposition)),null!=Cr.a.browser.opera)return setInterval(function cb(){if(!t.in_composition)return t.$input_source.val().length?t._StartComposition():void 0},200)},JQConsole.prototype._HandleChar=function(e){var t,r;return!(this.state!==y&&!e.metaKey&&!e.ctrlKey)||8!==(t=e.which)&&9!==t&&13!==t&&(0===(r=String.fromCharCode(t)).length||(this.$prompt_left.text(this.$prompt_left.text()+r),this._ScrollToEnd(),!1))},JQConsole.prototype._HandleKey=function(e){var t;if(this.state===y)return!0;if(t=e.keyCode||e.which,setTimeout(Cr.a.proxy(this._CheckMatchings,this),0),e.altKey)return!0;if(e.ctrlKey||e.metaKey)return this._HandleCtrlShortcut(t);if(e.shiftKey){switch(t){case 13:this._HandleEnter(!0);break;case 9:this._Unindent();break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 33:this._ScrollUp();break;case 34:this._ScrollDown();break;default:return!0}return!1}switch(t){case 13:this._HandleEnter(!1);break;case 9:this._Indent();break;case 46:this._Delete(!1);break;case 8:this._Backspace(!1);break;case 37:this._MoveLeft(!1);break;case 39:this._MoveRight(!1);break;case 38:this._HistoryPrevious();break;case 40:this._HistoryNext();break;case 36:this.MoveToStart(!1);break;case 35:this.MoveToEnd(!1);break;case 33:this._ScrollUp();break;case 34:this._ScrollDown();break;default:return!0}return!1},JQConsole.prototype._HandleCtrlShortcut=function(e){var t,r,o;switch(e){case 46:this._Delete(!0);break;case 8:this._Backspace(!0);break;case 37:this._MoveLeft(!0);break;case 39:this._MoveRight(!0);break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 35:this.MoveToEnd(!0);break;case 36:this.MoveToStart(!0);break;default:if(e in this.shortcuts){for(t=0,r=(o=this.shortcuts[e]).length;t<r;t++)o[t].call(this);return!1}return!0}return!1},JQConsole.prototype._HandleEnter=function(e){var t,r,o=this;return e?this._InsertNewLine(!0):(r=this.GetPromptText(),t=function continuation(e){var t,n,i,a,c;if(!1!==e){for(o.MoveToEnd(!0),o._InsertNewLine(!0),c=[],i=0,a=Math.abs(e);0<=a?i<a:i>a;0<=a?++i:--i)e>0?c.push(o._Indent()):c.push(o._Unindent());return c}return n=0===o.state?"input":"prompt",o.Write(o.GetPromptText(!0)+"\n",s+"old-"+n),o.ClearPromptText(!0),o.history_active&&(o.history.length&&o.history[o.history.length-1]===r||o.history.push(r),o.history_index=o.history.length),o.state=y,t=o.input_callback,o.input_callback=null,t&&t(r),o._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(r,t):t(this.multiline_callback(r)):t(!1))},JQConsole.prototype._GetDirectionals=function(e){return{$prompt_which:e?this.$prompt_left:this.$prompt_right,$prompt_opposite:e?this.$prompt_right:this.$prompt_left,$prompt_relative:e?this.$prompt_before:this.$prompt_after,$prompt_rel_opposite:e?this.$prompt_after:this.$prompt_before,MoveToLimit:e?Cr.a.proxy(this.MoveToStart,this):Cr.a.proxy(this.MoveToEnd,this),MoveDirection:e?Cr.a.proxy(this._MoveLeft,this):Cr.a.proxy(this._MoveRight,this),which_end:e?"last":"first",where_append:e?"prependTo":"appendTo"}},JQConsole.prototype._VerticalMove=function(e){var t,r,o,n,i,a,s,c;if(o=(c=this._GetDirectionals(e)).$prompt_which,t=c.$prompt_opposite,r=c.$prompt_relative,i=c.MoveToLimit,n=c.MoveDirection,!r.is(":empty"))return a=this.$prompt_left.text().length,i(),n(),s=o.text(),t.text(e?s.slice(a):s.slice(0,a)),o.text(e?s.slice(0,a):s.slice(a))},JQConsole.prototype._MoveUp=function(){return this._VerticalMove(!0)},JQConsole.prototype._MoveDown=function(){return this._VerticalMove()},JQConsole.prototype._HorizontalMove=function(e,t){var r,o,n,i,a,s,c,l,u,p,f,h,d,y;if(a=(y=this._GetDirectionals(t)).$prompt_which,o=y.$prompt_opposite,i=y.$prompt_relative,n=y.$prompt_rel_opposite,h=y.which_end,f=y.where_append,l=t?/\w*\W*$/:/^\w*\W*/,u=a.text()){if(e){if(!(d=u.match(l)))return;return d=d[0],p=o.text(),o.text(t?d+p:p+d),c=d.length,a.text(t?u.slice(0,-c):u.slice(c))}return p=o.text(),o.text(t?u.slice(-1)+p:p+u[0]),a.text(t?u.slice(0,-1):u.slice(1))}if(!i.is(":empty"))return(s=Cr()("<span/>")[f](n)).append(Cr()("<span/>").text(this.$prompt_label.text())),s.append(Cr()("<span/>").text(o.text())),r=i.children()[h]().detach(),this.$prompt_label.text(r.children().first().text()),a.text(r.children().last().text()),o.text("")},JQConsole.prototype._MoveLeft=function(e){return this._HorizontalMove(e,!0)},JQConsole.prototype._MoveRight=function(e){return this._HorizontalMove(e)},JQConsole.prototype._MoveTo=function(e,t){var r,o,n,i,a,s,c;if(n=(s=this._GetDirectionals(t)).$prompt_which,r=s.$prompt_opposite,o=s.$prompt_relative,a=s.MoveToLimit,i=s.MoveDirection,e){for(c=[];!o.is(":empty")||""!==n.text();)a(!1),c.push(i(!1));return c}return r.text(this.$prompt_left.text()+this.$prompt_right.text()),n.text("")},JQConsole.prototype._Delete=function(e){var t,r,o;if(r=this.$prompt_right.text()){if(e){if(!(o=r.match(/^\w*\W*/)))return;return o=o[0],this.$prompt_right.text(r.slice(o.length))}return this.$prompt_right.text(r.slice(1))}if(!this.$prompt_after.is(":empty"))return t=this.$prompt_after.children().first().detach(),this.$prompt_right.text(t.children().last().text())},JQConsole.prototype._Backspace=function(e){var t,r,o;if(setTimeout(Cr.a.proxy(this._ScrollToEnd,this),0),r=this.$prompt_left.text()){if(e){if(!(o=r.match(/\w*\W*$/)))return;return o=o[0],this.$prompt_left.text(r.slice(0,-o.length))}return this.$prompt_left.text(r.slice(0,-1))}if(!this.$prompt_before.is(":empty"))return t=this.$prompt_before.children().last().detach(),this.$prompt_label.text(t.children().first().text()),this.$prompt_left.text(t.children().last().text())},JQConsole.prototype._Indent=function(){return this.$prompt_left.prepend(function(){var e,t,r;for(r=[],e=1,t=this.indent_width;1<=t?e<=t:e>=t;1<=t?++e:--e)r.push(" ");return r}.call(this).join(""))},JQConsole.prototype._Unindent=function(){var e,t,r,o;for(e=this.$prompt_left.text()+this.$prompt_right.text(),o=[],t=1,r=this.indent_width;(1<=r?t<=r:t>=r)&&/^ /.test(e);1<=r?++t:--t)this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),o.push(e=e.slice(1));return o},JQConsole.prototype._InsertNewLine=function(e){var t,r,o;return null==e&&(e=!1),o=this._SelectPromptLabel(!this.$prompt_before.is(":empty")),(t=Cr()("<span/>").appendTo(this.$prompt_before)).append(Cr()("<span/>").text(o)),t.append(Cr()("<span/>").text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),e&&(r=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(r[0]):this.$prompt_left.text(""),this._ScrollToEnd()},JQConsole.prototype._AppendPromptText=function(e){var t,r,o,n,i,a;for(r=e.split("\n"),this.$prompt_left.text(this.$prompt_left.text()+r[0]),a=[],o=0,n=(i=r.slice(1)).length;o<n;o++)t=i[o],this._InsertNewLine(),a.push(this.$prompt_left.text(t));return a},JQConsole.prototype._ScrollUp=function(){var e;return e=this.$console[0].scrollTop-this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},JQConsole.prototype._ScrollDown=function(){var e;return e=this.$console[0].scrollTop+this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},JQConsole.prototype._ScrollToEnd=function(){var e=this;return this.$console.scrollTop(this.$console[0].scrollHeight),setTimeout(function cont(){var t,r,o,n,i,a;if(r=e.$prompt_cursor.height(),a=e.$window.scrollTop(),e.$window.scrollLeft(),t=document.documentElement.clientHeight,n=e.$prompt_cursor.offset(),i=e.$prompt_cursor.position(),e.$input_container.css({left:i.left,top:i.top-999999}),o=n.top-2*r,e.isMobile&&"undefined"!=typeof orientation&&null!==orientation){if(a<n.top||a>n.top)return e.$window.scrollTop(o)}else{if(a+t<n.top)return e.$window.scrollTop(n.top-t+r);if(a>o)return e.$window.scrollTop(n.top)}},0)},JQConsole.prototype._SelectPromptLabel=function(e){return 2===this.state?e?" \n"+this.prompt_label_continue:this.prompt_label_main:e?"\n ":" "},JQConsole.prototype._outerHTML=function(e){return document.body.outerHTML?e.get(0).outerHTML:Cr()(f).append(e.eq(0).clone()).html()},JQConsole.prototype._Wrap=function(e,t,r){var o,n;return o=(n=e.html()).slice(0,t)+m(r,n[t])+n.slice(t+1),e.html(o)},JQConsole.prototype._WalkCharacters=function(e,t,r,o,n){var i,a,s;for(a=n?e.length:0,e=e.split(""),s=function read_char(){var t,r,o,i;return n?(e=2<=(o=e).length?b.call(o,0,r=o.length-1):(r=0,[]),t=o[r++]):(t=(i=e)[0],e=2<=i.length?b.call(i,1):[]),t&&(a+=n?-1:1),t};i=s();)if(i===t?o++:i===r&&o--,0===o)return{index:a,current_count:o};return{index:-1,current_count:o}},JQConsole.prototype._ProcessMatch=function(e,t,r){var o,n,i,a,s,c,l,u,p,f,h,d,y=this;return f=t?[e.closing_char,e.opening_char]:[e.opening_char,e.closing_char],a=f[0],u=f[1],i=(h=this._GetDirectionals(t)).$prompt_which,n=h.$prompt_relative,s=1,c=!1,p=i.html(),t||(p=p.slice(1)),r&&t&&(p=p.slice(0,-1)),d=this._WalkCharacters(p,a,u,s,t),l=d.index,s=d.current_count,l>-1?(this._Wrap(i,l,e.cls),c=!0):(o=n.children(),(o=t?Array.prototype.reverse.call(o):o).each(function(r,o){var n,i;if(n=Cr()(o).children().last(),p=n.html(),i=y._WalkCharacters(p,a,u,s,t),l=i.index,s=i.current_count,l>-1)return t||l--,y._Wrap(n,l,e.cls),c=!0,!1})),c},JQConsole.prototype._CheckMatchings=function(e){var t,r,o,n,i,a,s;for(o=e?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],i=0,a=(s=this.matchings.clss).length;i<a;i++)t=s[i],Cr()("."+t,this.$console).contents().unwrap();if((r=this.matchings.closings[o])?n=this._ProcessMatch(r,!0,e):(r=this.matchings.openings[o])?n=this._ProcessMatch(r,!1,e):e||this._CheckMatchings(!0),e){if(n)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,r.cls)}else if(n)return this._Wrap(this.$prompt_right,0,r.cls)},JQConsole.prototype._HistoryPrevious=function(){if(this.history_active&&!(this.history_index<=0))return this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index])},JQConsole.prototype._HistoryNext=function(){if(this.history_active&&!(this.history_index>=this.history.length))return this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index])},JQConsole.prototype._CheckComposition=function(e){var t;if(t=e.keyCode||e.which,null!=Cr.a.browser.opera&&this.in_composition&&this._UpdateComposition(),229===t)return this.in_composition?this._UpdateComposition():this._StartComposition()},JQConsole.prototype._StartComposition=function(){return this.$input_source.bind("keypress",this._EndComposition),this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},JQConsole.prototype._EndComposition=function(){return this.$input_source.unbind("keypress",this._EndComposition),this.in_composition=!1,this._HideComposition(),this.$input_source.val("")},JQConsole.prototype._UpdateComposition=function(e){var t=this;return setTimeout(function cb(){if(t.in_composition)return t.$composition.text(t.$input_source.val())},0)},JQConsole.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},JQConsole.prototype._HideComposition=function(){return this.$composition.detach()},JQConsole}(),Cr.a.fn.jqconsole=function(e,t,r){return new d(this,e,t,r)},Cr.a.fn.jqconsole.JQConsole=d,Cr.a.fn.jqconsole.Ansi=e}.call(void 0);var Yr={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},Zr={shortcuts:{},matchings:{"{}":"brace","[]":"bracket","()":"paren"},continueLabel:".. ",promptLabel:"$ ",header:"",multilineCallback:function DEFAULT_MULTILINE_CALLBACK(e,t){t(!1)},evaluator:Cr.a.noop},Xr=function(e){function FakeTerminal(e){var t;!function FakeTerminal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FakeTerminal),(t=function FakeTerminal_possibleConstructorReturn(e,t){return!t||"object"!==FakeTerminal_typeof(t)&&"function"!=typeof t?FakeTerminal_assertThisInitialized(e):t}(this,FakeTerminal_getPrototypeOf(FakeTerminal).call(this,e)))._startPrompt=function(e){e.Prompt(!0,t._handleInput)},t._handleInput=function(e){var r=t.props.presenter.fake_responses;if(Vt()(r))t.props.broadcast("input",e,t._handleResult);else{var o=r.find(function(t){return new RegExp(t.match_pattern).test(e)});if(o){var n={type:o.output_type,output:o.output_content,delay:o.delay};o.output_content?t._handleFakeResponse(e,n):t.props.broadcast("input",e,t._handleResult)}else/^\ *$/.test(e)?t._handleResult(e,"",1):(t._handleResult(e,"command not recognized",1),t.props.broadcast("result"))}return FakeTerminal_assertThisInitialized(FakeTerminal_assertThisInitialized(t))},t._handleResult=function(e,r,o){r&&t.println(r,"stdout"),t._recordHistoryItem(e,r,o),t._startPrompt(t.state.console),t.props.broadcast("result")},t._handleFakeResponse=function(e,r,o){t._recordHistoryItem(e,r.output,o),t._printFakeResultOutput(r)},t._printFakeResultOutput=function(e){var r=e.delay||0;setTimeout(function(){t.println(e.output,e.type),t._startPrompt(t.state.console),t.props.broadcast("result")},r)},t._recordHistoryItem=function(e,r,o){var n={input:e,output:r,exitCode:o};t.state.history.push(n),t.setState({history:t.state.history}),gr()(Jr.a.run)},t.focus=function(){t.state.console.Focus()},t.println=function(e,r){"\n"!==e[e.length-1]&&(e+="\n"),t.print(e,r)},t.print=function(e,r){void 0===r&&(r="stdout"),t.state.console.Write(e,Yr[r])};var r=e.history||[];return t.state={history:r},t}return function FakeTerminal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FakeTerminal_setPrototypeOf(e,t)}(FakeTerminal,a.a.Component),function FakeTerminal_createClass(e,t,r){return t&&FakeTerminal_defineProperties(e.prototype,t),r&&FakeTerminal_defineProperties(e,r),e}(FakeTerminal,[{key:"componentDidMount",value:function componentDidMount(){if(!this.props.modifiers.readonly){var e=J.a.findDOMNode(this.refs.terminal),t=Zr,r=Cr()(e).jqconsole(t.header,t.promptLabel,t.continueLabel);r.SetHistory(this.state.history.map(function(e){return e.input})),this.setState({console:r}),this._startPrompt(r)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.console.$input_source.off()}},{key:"render",value:function render(){return a.a.createElement("div",{className:"fcn-fake-container","data-readonly":this.props.modifiers.readonly},a.a.createElement("div",{id:"terminalComponent",className:"jqconsole jqconsole-cursor--blink",ref:"terminal"},this.props.modifiers.readonly?a.a.createElement("div",{className:"jqconsole"},a.a.createElement("div",{className:"jqconsole-stdout"}," Terminal disabled ")):null))}}]),FakeTerminal}();Xr.propTypes={presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired,ptyStream:n.a.object,history:n.a.array};var eo=Xr,to={didRunOneOf:function didRunOneOf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;if(this.didRunCommand(c,t,r))return!0}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}return!1},didRunCommand:function didRunCommand(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.state.fake)return this.state.history.some(function(o){var n=!t||o.exitCode===t,i=!0;return"string"==typeof r&&(i=o.output.search(r)>=0),e instanceof RegExp?e.test(o.input)&&n&&i:o.input===e&&n&&i});if(r){var o=this.realTerminalOutputsByCommands();return Object.keys(o).some(function(t){return t.search(e)>=0&&o[t].some(function(e){return e.search(r)>=0})})}return this.realTerminalText().search(e)>=0},ranWithExitCode:function ranWithExitCode(e,t){return this.didRunCommand(e,t)},ranOneOfWithExitCode:function ranOneOfWithExitCode(e,t){return this.didRunOneOf(e,t)},ranWithOutput:function ranWithOutput(e,t){return this.didRunCommand(e,null,t)},ranOneOfWithOutput:function ranOneOfWithOutput(e,t){return this.didRunOneOf(e,null,t)},ranWithExitCodeAndOutput:function ranWithExitCodeAndOutput(e,t,r){return this.didRunCommand(e,t,r)},ranOneOfWithExitCodeAndOutput:function ranOneOfWithExitCodeAndOutput(e,t,r){return this.didRunOneOf(e,t,r)}},ro=w()({displayName:"Terminal",mixins:[to],propTypes:{index:n.a.number,presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,session:n.a.object.isRequired,broadcast:n.a.func.isRequired,isActive:n.a.bool,onFocus:n.a.func,onBlur:n.a.func,terminalId:n.a.oneOfType([n.a.string,n.a.number]),stream:n.a.object,hasCheckWork:n.a.bool},getDefaultProps:function getDefaultProps(){return{isActive:!1}},getInitialState:function getInitialState(){return{fake:!Vt()(this.props.presenter.fake_responses),title:"bash",history:[]}},realTerminalText:function realTerminalText(){if(this.refs.RealTerminal)return this.refs.RealTerminal.text()},realTerminalOutputsByCommands:function realTerminalOutputsByCommands(){if(this.refs.RealTerminal)return this.refs.RealTerminal.outputsByCommands()},resize:function resize(e){this.refs.RealTerminal&&this.refs.RealTerminal.resize(e)},onFgProcChange:function onFgProcChange(e){this.props.onFgProcChange(this.props.terminalId,e)},getTerminalChild:function getTerminalChild(){return this.refs.RealTerminal||this.refs.FakeTerminal},getInitialShell:function getInitialShell(){return this.props.presenter.shell||"bash"},focus:function focus(){var e=this.getTerminalChild();e&&e.focus(),this.props.onFocus&&this.props.onFocus()},blur:function blur(){var e=this.getTerminalChild();e&&e.blur(),this.props.onBlur&&this.props.onBlur()},render:function render(){var e,t=y()({"fcn-terminal":!0,"fcn-terminal--active":this.props.isActive});return e=L.a.state.workspaceReady?this.state.fake?a.a.createElement(eo,{ref:"FakeTerminal",history:this.state.history,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast}):a.a.createElement(Kr,{ref:"RealTerminal",index:this.props.index,id:this.props.terminalId,initialShell:this.getInitialShell(),isActive:this.props.isActive,session:this.props.session,onFgProcChange:this.onFgProcChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,modifiers:this.props.modifiers,broadcast:this.props.broadcast,hasCheckWork:this.props.hasCheckWork}):null,a.a.createElement("div",{className:t},e)}}),oo=r("iJ35"),no=w()({displayName:"TerminalContainer",mixins:[S.a.listenTo(oo.a.resized,"onResize"),S.a.listenTo(c.a.restore.completed,"resetTerminals"),E.StateMixin.connect(L.a,"workspaceReady"),E.StateMixin.connect(Ur.a,["sessions","busy","currentSession","hasCreatedSessionBefore","hasFocus"])],propTypes:{presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,helpers:n.a.object.isRequired,broadcast:n.a.func.isRequired,onReady:n.a.func.isRequired},componentDidMount:function componentDidMount(){this.state.workspaceReady&&this.createInitialTerminal(),Jr.a.saveTerminalReference(this)},createInitialTerminal:function createInitialTerminal(){var e=this;0===this.state.sessions.length&&$r.a.createSession("bash").then(function(){e.props.onReady&&e.props.onReady()})},componentDidUpdate:function componentDidUpdate(e,t){var r=this;t.currentSession!==this.state.currentSession&&this.state.hasFocus&&this.getActiveTerminal()&&gr()(function(){r.getActiveTerminal().focus()}),t.workspaceReady&&!this.state.workspaceReady&&$r.a.closeAllSessions(),!t.workspaceReady&&this.state.workspaceReady&&this.createInitialTerminal()},getActiveTerminal:function getActiveTerminal(){var e=Ur.a.currentSession();return e?this.refs[e.id]:null},getAllTerminals:function getAllTerminals(){var e=this;return this.state.sessions.map(function(t){return e.refs[t.id]})},onResize:function onResize(){var e=this.getAllTerminals();if(e&&e.length){var t=this.getActiveTerminal();if(t&&!t.state.fake&&t.refs.RealTerminal){var r=t.refs.RealTerminal.getRowsCols(),o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){a.value.resize(r)}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}}}},resetTerminals:function resetTerminals(){this.replaceState(Object.assign({},this.getInitialState(),{workspaceReady:this.state.workspaceReady})),this.createInitialTerminal()},setActiveTerminal:function setActiveTerminal(e){this.setState({activeTerminal:e})},onTerminalFgProcChange:function onTerminalFgProcChange(){},renderTerminal:function renderTerminal(e,t){return a.a.createElement(ro,{key:t.id,ref:t.id,index:e,session:t,terminalId:t.id,onFgProcChange:this.onTerminalFgProcChange,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast,onFocus:$r.a.focus,onBlur:$r.a.blur,isActive:e===this.state.currentSession,hasCheckWork:this.props.presenter.hasCheckWork})},renderTerminalTab:function renderTerminalTab(e,t){return a.a.createElement(_,{key:"terminalTab".concat(t.id),tabId:t.id,title:t.title,clickHandler:function clickHandler(){$r.a.selectSession(e)},canClose:!0,closeHandler:function closeHandler(){$r.a.closeSession(t.id)},isActive:this.state.currentSession===e,stream:t.stream})},createNewTerminal:function createNewTerminal(){$r.a.createSession("bash")},render:function render(){var e,t,r=this.props.presenter,o=r.hasCheckWork,n=r.displayErrors,i=r.whitelist,s=[],c=[];if(this.state.sessions&&this.state.sessions.length>0)for(var l=0;l<this.state.sessions.length;l++){var p=this.state.sessions[l];s.push(this.renderTerminalTab(l,p)),c.push(this.renderTerminal(l,p))}else c=a.a.createElement("div",{className:"fcn-terminal-container__placeholder"},a.a.createElement("div",{className:"fcn-terminal-container__placeholder__body"},a.a.createElement("div",{className:"fcn-terminal-container__placeholder__icon fcn-icon fcn-icon-terminal"}),a.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Terminal"),this.state.hasCreatedSessionBefore&&!this.state.busy?a.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},a.a.createElement(N.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:function onClick(){$r.a.createSession("bash")}},"New session")):null));e=i?a.a.createElement(_,{className:"fcn-icon fcn-icon-plus fcn-control",key:"terminalTabNew",clickHandler:this.createNewTerminal,isDisabled:!0,overflow:!1}):this.state.busy?a.a.createElement("div",{style:{width:48},className:"fcn-control"},a.a.createElement("div",{className:"fcn-spinner"})):a.a.createElement(_,{className:"fcn-icon fcn-icon-plus fcn-control",key:"terminalTabNew",clickHandler:this.createNewTerminal,isDisabled:!Ur.a.canCreateSession(),overflow:!1}),t=a.a.createElement("div",{className:"fcn-component-header fcn-component-header--tabs"},a.a.createElement(u,null,e,a.a.createElement("div",{className:"fcn-tabs-container__inner"},s),a.a.createElement(_,{className:"fcn-control fcn-icon fcn-icon-fullscreen",key:"terminalTabFullscreen",clickHandler:this.props.helpers.toggleFullscreen,overflow:!1,align:"right"})));var f=a.a.createElement("div",{className:"fcn-component-footer"},a.a.createElement(u,null,a.a.createElement(N.a,{square:!0,theme:"lantern",onClick:this.props.presenter.evaluateExercise,block:!0},"project"===this.props.presenter.contentItemType?Object(j.b)("views.learning_environment.components.terminal.refresh_browser"):Object(j.b)("views.learning_environment.components.terminal.run_checkpoints")))),h=y()({"fcn-terminal-container":!0,"fcn-terminal-container--with-header":!0});return a.a.createElement("div",{className:h},t,c,n&&a.a.createElement(Ne,{onVisibilityToggle:this.onResize}),o?f:null)}}),io=r("zqxM"),ao=r.n(io),so=r("qGa5"),co=r("EZBs"),lo={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},uo=w()({displayName:"OutputTerminal",mixins:[E.StateMixin.connect(so.a,["output","awaitingInput"])],componentDidMount:function componentDidMount(){var e=J.a.findDOMNode(this.refs.terminal);this.jqc=Cr()(e).jqconsole("","","")},componentDidUpdate:function componentDidUpdate(e,t){var r=this,o=this.state.output,n=void 0===o?[]:o;n!==t.output&&n.length&&ao()(n,t.output).forEach(function(e){r.jqc.Write(e.text,lo[e.type])}),0===n.length&&this.jqc.Reset(),!t.awaitingInput&&this.state.awaitingInput&&this.jqc.Prompt(!0,this.handleInput)},componentWillUnmount:function componentWillUnmount(){this.jqc.$input_source.off()},handleInput:function handleInput(e){co.a.input(e)},render:function render(){var e=y()({"fcn-terminal":!0,"fcn-terminal--active":!0,jqconsole:!0,"jqconsole-cursor--blink":this.state.awaitingInput});return a.a.createElement("div",{style:{height:"100%"}},a.a.createElement("div",{className:"fcn-terminal-container"},a.a.createElement("div",{ref:"terminal",className:e})))}}),po=r("ILMH"),fo=r("J5+O"),ho=r.n(fo);function PlaceHolder_typeof(e){return(PlaceHolder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PlaceHolder_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PlaceHolder_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function PlaceHolder_possibleConstructorReturn(e,t){return!t||"object"!==PlaceHolder_typeof(t)&&"function"!=typeof t?function PlaceHolder_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PlaceHolder_getPrototypeOf(e){return(PlaceHolder_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PlaceHolder_setPrototypeOf(e,t){return(PlaceHolder_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var yo=function(e){function PlaceHolder(){return function PlaceHolder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlaceHolder),PlaceHolder_possibleConstructorReturn(this,PlaceHolder_getPrototypeOf(PlaceHolder).apply(this,arguments))}return function PlaceHolder_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PlaceHolder_setPrototypeOf(e,t)}(PlaceHolder,i["Component"]),function PlaceHolder_createClass(e,t,r){return t&&PlaceHolder_defineProperties(e.prototype,t),r&&PlaceHolder_defineProperties(e,r),e}(PlaceHolder,[{key:"render",value:function render(){var e,t=this.props.theme,r=y()((PlaceHolder_defineProperty(e={},ho.a.placeholder,!0),PlaceHolder_defineProperty(e,ho.a.themeDark,"dark"===t),e));return a.a.createElement(I.a,{grow:1,center:!0,column:!0,className:r},a.a.createElement(h.a,{name:this.props.icon,size:3}),a.a.createElement("div",{className:ho.a.componentName},this.props.componentName),this.props.actionCallBack?a.a.createElement(N.a,{disabled:!this.props.actionButtonEnabled,theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.props.actionCallBack},this.props.action):null)}}]),PlaceHolder}();yo.propTypes={action:n.a.string,actionCallBack:n.a.func,icon:n.a.string,componentName:n.a.string,actionButtonEnabled:n.a.bool,theme:n.a.string},yo.defaultProps={theme:"light"};var mo=yo,_o=r("KTF3"),bo=r.n(_o);function RemoteWebBrowser_typeof(e){return(RemoteWebBrowser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RemoteWebBrowser_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function RemoteWebBrowser_possibleConstructorReturn(e,t){return!t||"object"!==RemoteWebBrowser_typeof(t)&&"function"!=typeof t?function RemoteWebBrowser_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function RemoteWebBrowser_getPrototypeOf(e){return(RemoteWebBrowser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RemoteWebBrowser_setPrototypeOf(e,t){return(RemoteWebBrowser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var go=function(e){function RemoteWebBrowser(){var e,t;!function RemoteWebBrowser_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RemoteWebBrowser);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=RemoteWebBrowser_possibleConstructorReturn(this,(e=RemoteWebBrowser_getPrototypeOf(RemoteWebBrowser)).call.apply(e,[this].concat(o)))).iframeRef=a.a.createRef(),t.handleIframeMessage=function(e){var t=e.data;t.location&&Mt.a.push(t.location),Mt.a.receiveMessage(t)},t.handleSendIframeMessage=function(e){t.getIframe().contentWindow.postMessage(e,"*")},t.handleIframeLoad=function(){po.a.state.onLoadCallback()},t.getIframe=function(){return t.iframeRef.current},t}return function RemoteWebBrowser_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RemoteWebBrowser_setPrototypeOf(e,t)}(RemoteWebBrowser,i["Component"]),function RemoteWebBrowser_createClass(e,t,r){return t&&RemoteWebBrowser_defineProperties(e.prototype,t),r&&RemoteWebBrowser_defineProperties(e,r),e}(RemoteWebBrowser,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("message",this.handleIframeMessage,!1),this.removeMessageListener=Mt.a.sendMessage.listen(this.handleSendIframeMessage)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.handleIframeMessage),this.removeMessageListener()}},{key:"render",value:function render(){var e=this.props,t=e.nonce,r=e.src,o={pointerEvents:this.props.modifiers.dragging?"none":"auto"};return a.a.createElement("iframe",{title:"Codecademy Web Browser",ref:this.iframeRef,style:{iFrameStyles:o},onLoad:this.handleIframeLoad,key:t,allowFullScreen:!0,className:bo.a.frame,allow:"geolocation; microphone; camera",src:r})}}]),RemoteWebBrowser}();go.propTypes={src:n.a.string.isRequired,nonce:n.a.number.isRequired,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired};var vo=go;function WebBrowser_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Co=w()({displayName:"WebBrowser",mixins:[E.StateMixin.connect(po.a),E.StateMixin.connect(L.a,"workspaceReady")],propTypes:{presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired,helpers:n.a.shape({toggleFullscreen:n.a.func})},getInitialState:function getInitialState(){return{urlBarValue:""}},setUrlBar:function setUrlBar(e){this.urlBar=e},setBrowser:function setBrowser(e){this.browser=e},getBrowser:function getBrowser(){return this.browser},_onURLBarKeyDown:function _onURLBarKeyDown(e){13===e.keyCode&&Mt.a.load(this.state.urlBarValue)},_onURLBarChange:function _onURLBarChange(e){this.setState({urlBarValue:e.target.value})},onUrlFieldBlur:function onUrlFieldBlur(){this.setState({urlBarFocused:!1})},onUrlFieldFocus:function onUrlFieldFocus(){this.setState({urlBarFocused:!0})},componentDidUpdate:function componentDidUpdate(e,t){!t.workspaceReady&&this.state.workspaceReady&&this.home()},componentWillUpdate:function componentWillUpdate(e,t){!this.state.urlBarFocused&&t.location&&this.urlBar&&(this.urlBar.value=t.location.displayUrl)},home:function home(){void 0!==this.props.presenter.display_url&&Mt.a.load(this.props.presenter.display_url)},isBlank:function isBlank(){var e=this.state.location;return!(void 0===e?{}:e).internalUrl||!L.a.state.workspaceObject},renderBody:function renderBody(){return this.isBlank()?a.a.createElement(mo,{theme:"dark",componentName:"Web Browser",icon:"explore"}):a.a.createElement(vo,{src:this.state.location.internalUrl.toString(),modifiers:this.props.modifiers,broadcast:this.props.broadcast,nonce:this.state.nonce,ref:this.setBrowser})},render:function render(){var e,t=this.props.presenter.displayErrors,r=y()((WebBrowser_defineProperty(e={},bo.a.urlBar,!0),WebBrowser_defineProperty(e,bo.a.urlError,t),e));return a.a.createElement(I.a,{grow:1,column:!0},a.a.createElement(I.a,{className:bo.a.browserChrome},a.a.createElement(le.a,{name:"arrow-thin-left",onClick:Mt.a.navigateBack}),a.a.createElement(le.a,{name:"refresh",onClick:Mt.a.refresh}),a.a.createElement(I.a,{center:!0,grow:1,className:bo.a.urlBarContainer},a.a.createElement("input",{type:"text",className:r,ref:this.setUrlBar,placeholder:"Type URL here",onKeyDown:this._onURLBarKeyDown,onFocus:this.onUrlFieldFocus,onBlur:this.onUrlFieldBlur,onChange:this._onURLBarChange}),this.state.loading?a.a.createElement("div",{className:"fcn-spinner fcn-spinner--grey"}):null),a.a.createElement(le.a,{name:"fullscreen",onClick:this.props.helpers.toggleFullscreen})),a.a.createElement(I.a,{grow:1,className:bo.a.browserBody,column:!0},this.renderBody()),t&&a.a.createElement(Ne,{pinnedBottom:!0}))}}),Oo=r("MQDS"),Po=r("X3kK"),wo=r.n(Po);function Results_typeof(e){return(Results_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Results_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Results_possibleConstructorReturn(e,t){return!t||"object"!==Results_typeof(t)&&"function"!=typeof t?function Results_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Results_getPrototypeOf(e){return(Results_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Results_setPrototypeOf(e,t){return(Results_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ko=function(e){function SQLResults(){var e,t;!function Results_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SQLResults);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Results_possibleConstructorReturn(this,(e=Results_getPrototypeOf(SQLResults)).call.apply(e,[this].concat(o)))).resultTable=function(){var e,r=Cr()("<div/>");return Cr()("<div/>").html(t.props.result).find("tr").each(function(t,o){Cr()(o).find("th").length>0&&(e=Cr()("<table/>"),r.append(e)),e.append(o)}),r.html()},t.results=function(){return""===t.props.result?a.a.createElement("div",{className:wo.a.schemaUndef},"Run a query to see results."):a.a.createElement("div",{className:wo.a.schemaResultsWrapper,dangerouslySetInnerHTML:{__html:t.resultTable()}})},t}return function Results_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Results_setPrototypeOf(e,t)}(SQLResults,a.a.Component),function Results_createClass(e,t,r){return t&&Results_defineProperties(e.prototype,t),r&&Results_defineProperties(e,r),e}(SQLResults,[{key:"render",value:function render(){return a.a.createElement("div",{className:wo.a.schemaResults},a.a.createElement("h3",null,"Query Results"),this.results())}}]),SQLResults}();ko.propTypes={result:n.a.string.isRequired};var So=ko,Eo=r("3WF5"),To=r.n(Eo);function Schema_typeof(e){return(Schema_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Schema_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Schema_possibleConstructorReturn(e,t){return!t||"object"!==Schema_typeof(t)&&"function"!=typeof t?function Schema_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Schema_getPrototypeOf(e){return(Schema_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Schema_setPrototypeOf(e,t){return(Schema_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var jo=function(e){function SQLSchema(){var e,t;!function Schema_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SQLSchema);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Schema_possibleConstructorReturn(this,(e=Schema_getPrototypeOf(SQLSchema)).call.apply(e,[this].concat(o)))).schemaTable=function(){return null==t.props.schema||0===t.props.schema.length?a.a.createElement("div",{className:wo.a.schemaUndef},"Schema undefined."):To()(t.props.schema,function(e){var t=To()(e.Columns,function(e){return a.a.createElement("tr",null,a.a.createElement("td",{className:wo.a.schemaName},e.Name),a.a.createElement("td",{className:wo.a.schemaType},e.Type))});return a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"2"},e.Name,a.a.createElement("span",{className:wo.a.schemaRows},e.Rows," rows")))),a.a.createElement("tbody",null,t))})},t}return function Schema_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Schema_setPrototypeOf(e,t)}(SQLSchema,a.a.Component),function Schema_createClass(e,t,r){return t&&Schema_defineProperties(e.prototype,t),r&&Schema_defineProperties(e,r),e}(SQLSchema,[{key:"render",value:function render(){return a.a.createElement("div",{className:wo.a.schema},a.a.createElement("h3",null,"Database Schema"),a.a.createElement("div",null,this.schemaTable()))}}]),SQLSchema}();jo.propTypes={schema:n.a.array.isRequired};var xo,Ro=jo,No=r("lrkr"),Io=r.n(No);function SQLPreview_typeof(e){return(SQLPreview_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SQLPreview_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function SQLPreview_possibleConstructorReturn(e,t){return!t||"object"!==SQLPreview_typeof(t)&&"function"!=typeof t?function SQLPreview_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SQLPreview_getPrototypeOf(e){return(SQLPreview_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SQLPreview_setPrototypeOf(e,t){return(SQLPreview_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Mo=Object(E.connect)(Oo.a,["result","schema","error"])(xo=function(e){function SQLPreview(){return function SQLPreview_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SQLPreview),SQLPreview_possibleConstructorReturn(this,SQLPreview_getPrototypeOf(SQLPreview).apply(this,arguments))}return function SQLPreview_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SQLPreview_setPrototypeOf(e,t)}(SQLPreview,i["Component"]),function SQLPreview_createClass(e,t,r){return t&&SQLPreview_defineProperties(e.prototype,t),r&&SQLPreview_defineProperties(e,r),e}(SQLPreview,[{key:"render",value:function render(){return a.a.createElement("div",{className:Io.a.container},a.a.createElement(So,{result:this.props.result}),a.a.createElement(Ro,{schema:this.props.schema}),a.a.createElement(Ne,{pinnedBottom:!0,componentOnly:!0,componentError:this.props.error,timestamp:(new Date).valueOf()}))}}]),SQLPreview}())||xo;Mo.propTypes={result:n.a.string,schema:n.a.array,error:n.a.string};var Fo={ReadOnlyCodeEditor:O,PersistentCodeEditor:Et,Image:Tt,Video:Rt,Narrative:Sr,Terminal:no,OutputTerminal:uo,WebBrowser:Co,Brief:Hr,SQLPreview:Mo};t.a=Fo},h3gr:function(e,t,r){e.exports={helpContainer:"helpContainer__2jsN8gZl_7NDDvSebgXALJ"}},iF0z:function(e,t,r){e.exports={hint:"hint__s8UXcPBvebZWKmIHL1iLP",hintOpen:"hintOpen__RsbfmDvRC3hFZypEL9yov",hintHeader:"hintHeader__37FqgQufkkRJl73jUwOXHm",hintHeaderText:"hintHeaderText__1MR48kqXc3rdYpE7fM4M5D",hintHeaderIcon:"hintHeaderIcon__k_lfRqarRLBa153LHYWc9",toggleArrow:"toggleArrow__2D6AroyBnTfjYy2VEhFome",toggleArrowOpen:"toggleArrowOpen__3jSBRFD3ww6Khp-ePDK9ck",hintBody:"hintBody__Xlfb7YxNNyRdyb2SB9sb1"}},jAtM:function(e,t,r){e.exports={container:"container__mBmY_HGg9nkRdfRRY1mCH",leftPane:"leftPane__QbQRR6XJS70r4Pdh-PeRw",rightPane:"rightPane__1H1a3oPWy_fU_m3bjWCBqZ"}},jOg1:function(e,t,r){e.exports={container:"container__2nBQblEbxtWABsG-PzJCJY",headerMsg:"headerMsg__3plWc8vdIt096bVGraVToV",mainMsg:"mainMsg__2xzTH40Y3NuPjCRDA-zrpa",maintButton:"maintButton__1ioHX4Aq9TLq2vD5RxHz8v",iconContainer:"iconContainer__3Yg7iqG5sp8sfgjsnifN3p",icon:"icon__1fpFg6Yg6qKMUy9gCFo_L0"}},kwB3:function(e,t,r){e.exports={editor:"editor__tkUjOZxm52udSrxaZUvoy"}},"l+xW":function(e,t,r){e.exports={workspaceNaming:"workspaceNaming__2I0Q8d5DxwILB1x1as10cs",saveWorkspaceButton:"saveWorkspaceButton__3AYM6_tV-23zn7ZgRvSBlV",slugRadioButtons:"slugRadioButtons__2WrEtaNE8XBP3aDIuF8w_1",customWorkspaceName:"customWorkspaceName__3n_BDKKkjCPcbxRLJBtD0T"}},lrkr:function(e,t,r){e.exports={container:"container__3wUN5-PZUtu6fwxBb2MHR-",containerWrapper:"containerWrapper__2hYD7baIQK3Y3blM1jnfz9"}},ltiF:function(e,t,r){"use strict";var o=r("17x9"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("s4S1"),c=r("oNLn"),l=r("rIqd"),u=r("r+kX"),p=r("jdWZ"),f=r("zSSe"),h=r("jOg1"),d=r.n(h);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function MaintenancePane(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MaintenancePane);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(MaintenancePane)).call.apply(e,[this].concat(o)))).state={notify:!1},t.notify=function(){Object(p.b)("user","click",{element:"maintenance_notify",slug:t.props.slug}),t.setState({notify:!0})},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(MaintenancePane,i["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(MaintenancePane,[{key:"renderNofiicationButton",value:function renderNofiicationButton(){if(f.a.isAnon())return null;var e=this.state.notify?"nuetral":"secondary";return a.a.createElement(l.a,{block:!0,theme:e,className:d.a.maintButton,onClick:this.notify},this.state.notify?"Ok we'll let you know!":"Notify Me When This Course Is Available")}},{key:"render",value:function render(){return a.a.createElement(s.b,{className:d.a.container},a.a.createElement(s.a,{grow:1,column:!0,className:d.a.itemRow,center:!0},a.a.createElement(s.a,{center:!0,className:d.a.iconContainer},a.a.createElement(c.a,{name:"maintenance",height:60,width:60,className:d.a.icon})),a.a.createElement("h1",{className:d.a.headerMsg},"Under Construction"),a.a.createElement(s.a,{column:!0,className:d.a.mainMsg},a.a.createElement("p",null,"Hey there,"),a.a.createElement("p",null,"We are currently having a service outage, and some of our content is unavailable. We are working hard to get this fixed, and appreciate your patience!"),a.a.createElement("p",null,"Keep up the good work!")),a.a.createElement(s.a,null,a.a.createElement(u.a,{href:"/catalog"},a.a.createElement(l.a,{theme:"secondary",className:d.a.maintButton},"Explore All Courses")),this.renderNofiicationButton())))}}]),MaintenancePane}();y.propTypes={slug:n.a.string.isRequired},t.a=y},lxJN:function(e,t,r){e.exports={alarm:"alarm__27pR2HjQHldQSp6rpF2Qp_",lookHere:"lookHere__-UEqaSwmhj03-lZ_xzFW7",activeAlarm:"activeAlarm__1mHlgDCOA6Z4g57o3MbsIk",dropdown:"dropdown__1r3EtGWrglGpTaEkOHBay7",header:"header__2Wk0UH7OkxrsCUVtGjmS7L",content:"content__1asmzLcVK32E5yI7PAElsR",commitButton:"commitButton__ocM_KQXOKsFBpbN2MoPUP",timeRemaining:"timeRemaining__WrsdWazZ8OuAHR5JUmRWP",focusTimerToolContainer:"focusTimerToolContainer__18LJedk5VDgp5PXSGIo8-W",status:"status__aAUws-_EJbLWx3hWC0c9E",strong:"strong__3JXOQtHTFHx8-nE9Pvh3ul",finishedState:"finishedState__2pSLz6YAwd7BDGxqguzYLp"}},mEin:function(e,t,r){e.exports={fileTree:"fileTree__1hc6DSAQWmgXtZ20mMsLN0"}},nDn8:function(e,t,r){"use strict";t.a={lineWrapping:!0,lineNumbers:!0,theme:"cc",indentUnit:2,tabSize:2,indentWithTabs:!1,dragDrop:!1,matchTags:{bothTags:!0},matchBrackets:!0,styleActiveLine:!0,foldGutter:!0,foldOptions:{widget:"  "},autoCloseBrackets:!0,mode:"text/javascript",autoRefresh:!0,scrollbarStyle:"overlay",gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],lint:!1}},oskw:function(e,t,r){e.exports={disabled:"disabled__3YHxyqc3FBOLKpALSQ8kQA",footer:"footer__2U7JCwWxuXWkT-dpDR3Kyt"}},p02k:function(e,t,r){e.exports={container:"container__2CLpe5UbNqAMNdpk76MVcc",narrativePane:"narrativePane__1UCZ6phlpQHMG0GlErFAzI",dynamicLayout:"dynamicLayout__87LtBY0KqfgEbCibkiydZ"}},rFUm:function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o),i=r("BzM2"),a=r("/HwS"),s=r("a5qF"),c=r("zSSe");t.a=n.a.createStore({mixins:[i.StateMixin.store,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.get("_id"),r="PersistLocalStore-".concat(e,"-").concat(t);return{init:function init(){this.getDefaultState?e||s.a.error({message:"PersistLocal mixin requires a string key to be passed in."}):s.a.error({message:"PersistLocal mixin requires method: getDefaultState"})},getInitialState:function getInitialState(){var e=this.getPersistedState();return e||this.getDefaultState()},getPersistedState:function getPersistedState(){try{var t=localStorage.getItem(r);if(t)return JSON.parse(t)}catch(t){s.a.error({message:"Cannot get persisted state for ".concat(e)})}return null},preEmit:function preEmit(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(t){s.a.error({message:"Cannot set persisted state for ".concat(e)})}}}}("adminStore")],getDefaultState:function getDefaultState(){return{uploadSavepoints:!1,nolock:!1,authoringMode:!1,toggleWorkspaceNaming:!1}},init:function init(){this.listenTo(a.a.adminChange,this.onAdminChange),this.listenTo(a.a.toggleAuthoringMode,this.toggleAuthoringMode),this.listenTo(a.a.toggleNoLock,this.toggleNoLock)},onAdminChange:function onAdminChange(e,t){var r=JSON.parse(JSON.stringify(this.state));r[e]=t,this.setState(r)},toggleAuthoringMode:function toggleAuthoringMode(){var e=!this.state.authoringMode;this.setState({authoringMode:e})},toggleNoLock:function toggleNoLock(){var e=!this.state.nolock;this.setState({nolock:e})}})},"rjx/":function(e,t,r){e.exports={helpButton:"helpButton__2dUOHIwe-xar7iXgrS_5k7",getHelpV2:"getHelpV2__kxSRXIs6NwKGTojCalKCi"}},rsr4:function(e,t,r){"use strict";var o=r("17x9"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("/MKj"),c=r("fhzG"),l=r.n(c),u=r("i8i4"),p=r.n(u),f=r("USFT"),h=r("mwIZ"),d=r.n(h);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function ProblemOption(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProblemOption),_possibleConstructorReturn(this,_getPrototypeOf(ProblemOption).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ProblemOption,a.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(ProblemOption,[{key:"render",value:function render(){return a.a.createElement("li",{className:"problem-option",onClick:this.props.handleClick},this.props.children)}}]),ProblemOption}();y.propTypes={children:n.a.string.isRequired,handleClick:n.a.func.isRequired};var m=y,_=r("rIqd"),b=r("jdWZ");function solution_button_typeof(e){return(solution_button_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function solution_button_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function solution_button_possibleConstructorReturn(e,t){return!t||"object"!==solution_button_typeof(t)&&"function"!=typeof t?function solution_button_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function solution_button_getPrototypeOf(e){return(solution_button_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function solution_button_setPrototypeOf(e,t){return(solution_button_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function SolutionButton(){var e,t;!function solution_button_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SolutionButton);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=solution_button_possibleConstructorReturn(this,(e=solution_button_getPrototypeOf(SolutionButton)).call.apply(e,[this].concat(o)))).handleClick=function(){null!==t.props.onClick&&t.props.onClick()},t.trackForumClickEvent=function(){t.props.href.includes("discourse")&&Object(b.b)("user","click",{target:"forumButtonClicked"})},t}return function solution_button_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&solution_button_setPrototypeOf(e,t)}(SolutionButton,a.a.Component),function solution_button_createClass(e,t,r){return t&&solution_button_defineProperties(e.prototype,t),r&&solution_button_defineProperties(e,r),e}(SolutionButton,[{key:"render",value:function render(){return this.props.href?a.a.createElement(_.a,{theme:"secondary",href:this.props.href,target:"_blank",onClick:this.trackForumClickEvent},this.props.children):a.a.createElement(_.a,{theme:"secondary",onClick:this.handleClick,target:"_blank"},this.props.children)}}]),SolutionButton}();g.propTypes={href:n.a.string,onClick:n.a.func,children:n.a.node},g.defaultProps={onClick:null};var v=g;function problem_solution_typeof(e){return(problem_solution_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function problem_solution_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function problem_solution_possibleConstructorReturn(e,t){return!t||"object"!==problem_solution_typeof(t)&&"function"!=typeof t?function problem_solution_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function problem_solution_getPrototypeOf(e){return(problem_solution_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function problem_solution_setPrototypeOf(e,t){return(problem_solution_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function Solution(){return function problem_solution_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Solution),problem_solution_possibleConstructorReturn(this,problem_solution_getPrototypeOf(Solution).apply(this,arguments))}return function problem_solution_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&problem_solution_setPrototypeOf(e,t)}(Solution,a.a.Component),function problem_solution_createClass(e,t,r){return t&&problem_solution_defineProperties(e.prototype,t),r&&problem_solution_defineProperties(e,r),e}(Solution,[{key:"render",value:function render(){var e=this.props.buttons.map(function(e,t){var r={};return e.link&&(r.href=e.link),e.onClick&&(r.onClick=e.onClick),a.a.createElement(v,_extends({},r,{key:t}),e.icon,e.text)});return a.a.createElement("li",{className:"help-option"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.text}}),a.a.createElement("div",{className:"solution-buttons"},e))}}]),Solution}();C.propTypes={text:n.a.string.isRequired,buttons:n.a.array.isRequired};var O=C;function GlossarySolution_typeof(e){return(GlossarySolution_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GlossarySolution_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function GlossarySolution_possibleConstructorReturn(e,t){return!t||"object"!==GlossarySolution_typeof(t)&&"function"!=typeof t?function GlossarySolution_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GlossarySolution_getPrototypeOf(e){return(GlossarySolution_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GlossarySolution_setPrototypeOf(e,t){return(GlossarySolution_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function GlossarySolution(){return function GlossarySolution_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GlossarySolution),GlossarySolution_possibleConstructorReturn(this,GlossarySolution_getPrototypeOf(GlossarySolution).apply(this,arguments))}return function GlossarySolution_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GlossarySolution_setPrototypeOf(e,t)}(GlossarySolution,a.a.PureComponent),function GlossarySolution_createClass(e,t,r){return t&&GlossarySolution_defineProperties(e.prototype,t),r&&GlossarySolution_defineProperties(e,r),e}(GlossarySolution,[{key:"render",value:function render(){return a.a.createElement(O,{text:"Check out the Codecademy Glossary for definitions of terms!",buttons:[{text:"Glossary",link:this.props.href}]})}}]),GlossarySolution}();P.propTypes={href:n.a.string.isRequired};var w=P;function ResetExerciseSolution_typeof(e){return(ResetExerciseSolution_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ResetExerciseSolution_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ResetExerciseSolution_possibleConstructorReturn(e,t){return!t||"object"!==ResetExerciseSolution_typeof(t)&&"function"!=typeof t?function ResetExerciseSolution_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ResetExerciseSolution_getPrototypeOf(e){return(ResetExerciseSolution_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ResetExerciseSolution_setPrototypeOf(e,t){return(ResetExerciseSolution_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function ResetExerciseSolution(){return function ResetExerciseSolution_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResetExerciseSolution),ResetExerciseSolution_possibleConstructorReturn(this,ResetExerciseSolution_getPrototypeOf(ResetExerciseSolution).apply(this,arguments))}return function ResetExerciseSolution_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ResetExerciseSolution_setPrototypeOf(e,t)}(ResetExerciseSolution,a.a.PureComponent),function ResetExerciseSolution_createClass(e,t,r){return t&&ResetExerciseSolution_defineProperties(e.prototype,t),r&&ResetExerciseSolution_defineProperties(e,r),e}(ResetExerciseSolution,[{key:"render",value:function render(){return a.a.createElement(O,{text:"You can get a clean slate for this ".concat(this.props.noun,". This will overwrite your files and <strong>reset your progress</strong>."),buttons:[{text:"Reset ".concat(this.props.noun),onClick:this.props.onClick}]})}}]),ResetExerciseSolution}();k.propTypes={onClick:n.a.func.isRequired,noun:n.a.string.isRequired};var S=k,E=r("BzM2"),T=r("TSYQ"),j=r.n(T),x=r("vQeR"),R=r("r+kX"),N=r("QMpT"),I=r("U82q"),M=r.n(I),F=l()({displayName:"Tiny",mixins:[E.StateMixin.connect(N.a,"proData")],render:function render(){var e=this.state.proData;if(!e.storeInitialized)return null;var t={"pro-ad-tiny":!0};return t[M.a.tiny]=!0,t=j()(t),a.a.createElement(x.a,{payload:{ad_name:"internal_ad_learning_env_tiny_ad"}},a.a.createElement(R.a,{href:e.paths.join_pro,category:"ad",popup:!0},a.a.createElement("div",{className:t},a.a.createElement("div",{className:"pro-ad-tiny__cta"},a.a.createElement("div",null,"Get live, fast support from Codecademy Advisors when you get stuck."),a.a.createElement("span",null,"Learn More")))))}});function help_body_typeof(e){return(help_body_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function help_body_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function help_body_possibleConstructorReturn(e,t){return!t||"object"!==help_body_typeof(t)&&"function"!=typeof t?function help_body_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function help_body_getPrototypeOf(e){return(help_body_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function help_body_setPrototypeOf(e,t){return(help_body_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function HelpBody(){var e,t;!function help_body_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HelpBody);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=help_body_possibleConstructorReturn(this,(e=help_body_getPrototypeOf(HelpBody)).call.apply(e,[this].concat(o)))).state={selection:-1},t.clear=function(){t.setState({selection:-1})},t._selectProblem=function(e){t.setState({selection:e}),t.props.selectedProblem(e)},t._hasGlossary=function(){return t.props.courseMeta.glossary_url&&""!==t.props.courseMeta.glossary_url},t}return function help_body_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&help_body_setPrototypeOf(e,t)}(HelpBody,a.a.PureComponent),function help_body_createClass(e,t,r){return t&&help_body_defineProperties(e.prototype,t),r&&help_body_defineProperties(e,r),e}(HelpBody,[{key:"render",value:function render(){var e=this,t=[];this._hasGlossary()&&t.push(Object(f.b)("views.learning_environment.components.help_body.dont_understand")),this.props.allowReset&&t.push(Object(f.b)("views.learning_environment.components.help_body.restart",{noun:this.props.noun}));var r=t.map(function(t,r){return a.a.createElement(m,{handleClick:e._selectProblem.bind(e,r),key:t},t)});d()(window,"CCDATA.current_user.pro_ads")&&r.unshift(a.a.createElement(F,null));var o=[];return this._hasGlossary()&&o.push(a.a.createElement(w,{href:this.props.courseMeta.glossary_url})),this.props.allowReset&&o.push(a.a.createElement(S,{onClick:this.props.resetExercise,noun:this.props.noun})),this.state.selection<0?a.a.createElement("div",{className:"problem-options"},r):a.a.createElement("div",{className:"help-solution"},o[this.state.selection])}}]),HelpBody}();B.propTypes={noun:n.a.string.isRequired,resetExercise:n.a.func.isRequired,selectedProblem:n.a.func.isRequired,contentSlug:n.a.string.isRequired,contentTitle:n.a.string.isRequired,courseMeta:n.a.object.isRequired,allowReset:n.a.bool.isRequired};var W=B,L=r("zfST"),D=r("JoHf"),H=r("T2dD"),A=r("sNpe"),q=r("h3gr"),Q=r.n(q),z={trackClick:H.d},G=l()({displayName:"GetHelp",mixins:[L.a],propTypes:{noun:n.a.string.isRequired,contentSlug:n.a.string.isRequired,contentTitle:n.a.string.isRequired,courseMeta:n.a.object.isRequired,allowReset:n.a.bool.isRequired,trackClick:n.a.func.isRequired,inGetHelpV2Feature:n.a.bool},getInitialState:function getInitialState(){return{open:!1,selectedProblem:-1}},onEscapeKey:function onEscapeKey(){this._close()},_hasGlossary:function _hasGlossary(){return this.props.courseMeta.glossary_url&&""!==this.props.courseMeta.glossary_url},_toggle:function _toggle(){this.state.open?this._close():(this.props.trackClick({data:{target:"platformGetHelp"}}),this.setState({open:!0,popoverRect:A.a.getTargetRect(p.a.findDOMNode(this))}))},_close:function _close(){this.setState({open:!1,selectedProblem:-1}),this.refs.helpBody&&this.refs.helpBody.clear()},_back:function _back(){this.refs.helpBody&&this.refs.helpBody.clear(),this.setState({selectedProblem:-1})},resetExercise:function resetExercise(){return"project"===this.props.noun?(this.props.trackClick({data:{target:"platformGetHelpResetProject"}}),D.a.reset().then(this._close,this._close)):(this.props.trackClick({data:{target:"platformGetHelpResetExercise"}}),D.a.restore().then(this._close,this._close))},_selectedProblem:function _selectedProblem(e){this.setState({selectedProblem:e})},_getHeaderText:function _getHeaderText(){if(this.state.selectedProblem<0)return"How can we help?";var e=[];return this._hasGlossary()&&e.push("Help with a term"),(e=e.concat(["Help with this ".concat(this.props.noun),"Reset ".concat(this.props.noun)]))[this.state.selectedProblem]},getMenu:function getMenu(){return a.a.createElement(A.a,{isOpen:this.state.open,align:"right",position:"above",offset:7,onOutsideClick:this._close,targetRect:this.state.popoverRect},a.a.createElement("ul",{className:Q.a.helpContainer},a.a.createElement("div",{className:"help-option help-option__header"},this.state.selectedProblem>=0?a.a.createElement("span",{className:"fcn-icon fcn-icon-arrowPrev",onClick:this._back}):a.a.createElement("span",{className:"fcn-icon"}),a.a.createElement("span",{className:"help-option__header__text"},this._getHeaderText()),a.a.createElement("span",{className:"fcn-icon fcn-icon-close",onClick:this._close})),a.a.createElement(W,{ref:"helpBody",noun:this.props.noun,selectedProblem:this._selectedProblem,resetExercise:this.resetExercise,allowReset:this.props.allowReset,contentSlug:this.props.contentSlug,contentTitle:this.props.contentTitle,courseMeta:this.props.courseMeta})))},render:function render(){return a.a.createElement(_.a,{outline:!0,theme:"grey",onClick:this._toggle,style:{minWidth:"6rem"}},Object(f.b)("views.learning_environment.components.get_help.get_help"),this.getMenu())}});t.a=Object(s.b)(null,z)(G)},"sl/k":function(e,t,r){"use strict";var o=r("q1tI"),n=r.n(o),i=r("17x9"),a=r.n(i),s=r("fhzG"),c=r.n(s),l=r("dBtU"),u=r("TSYQ"),p=r.n(u),f=r("tn6B"),h=r.n(f),d={url:a.a.string.isRequired,courseTitle:a.a.string};function CoursePageButton_CoursePageButton(e){var t=e.courseTitle,r=e.url,o=p()(h.a.leftArrowIcon,"new-cc-icon","icon-heavyleftarrow");return n.a.createElement("div",{className:h.a.courseNavButtonContainer},t&&r?n.a.createElement("a",{href:r,className:h.a.courseNavButton},n.a.createElement("span",{className:o}),t):null)}CoursePageButton_CoursePageButton.propTypes=d;var y=CoursePageButton_CoursePageButton,m=r("8bxK"),_=r.n(m),b={authors:a.a.array};function Authors_Authors(e){var t=e.authors,r=void 0===t?[]:t;return r.length>0?n.a.createElement("div",{className:_.a.lessonAuthors},n.a.createElement("span",null,"By "),r.map(function(e,t){return n.a.createElement("span",{key:e},n.a.createElement("a",{className:_.a.lessonAuthorLink,target:"_blank",href:"/".concat(e),rel:"noopener noreferrer"},e),t<r.length-1?", ":"")})):null}Authors_Authors.propTypes=b;var g=Authors_Authors,v=r("/MKj"),C=r("9Csu"),O=r("woPg"),P=r.n(O);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function isCompleted(e,t){var r=e.progress,o=r.completed,n=r.exercises_completed>=t+1;return o||n}function isInProgressExercise(e,t){return e.progress.exercises_completed===t}var w=function(e){function Exercises(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Exercises),_possibleConstructorReturn(this,_getPrototypeOf(Exercises).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Exercises,o["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Exercises,[{key:"render",value:function render(){var e=this,t=this.props.currentExercise;return n.a.createElement("section",{className:P.a.exerciseSection},n.a.createElement("div",{className:P.a.groupHeading},"Exercises"),this.props.exercises.map(function(r,o){var i,a=isCompleted(e.props,o),s=t.id===r.id,c=isInProgressExercise(e.props,o),l=function isLockedExercise(e,t){return!e.unlockAll&&!isInProgressExercise(e,t)&&!isCompleted(e,t)}(e.props,o),u=p()(P.a.navButton,(_defineProperty(i={},P.a.completedListItem,a||e.props.unlockAll),_defineProperty(i,P.a.activeListItem,s),_defineProperty(i,P.a.lockedListItem,l),i)),f=p()(P.a.navButtonIcon,"fcn-icon",{"fcn-icon-checkmark":a||e.props.unlockAll,"fcn-icon-inProgress":c&&!e.props.unlockAll,"fcn-icon-lock":l});return n.a.createElement("button",{onClick:function onClick(){l||(e.props.navigate({exerciseIndex:o}),e.props.onRequestClose())},className:u,key:"".concat(e.props.currentLesson.id,"-").concat(r.id)},n.a.createElement("div",{className:P.a.listItemTitle},"".concat(o+1,".")," ",r.title),n.a.createElement("i",{className:f}))}))}}]),Exercises}();w.propTypes={dispatch:a.a.func,navigate:a.a.func,progress:a.a.object,currentLesson:a.a.object,exercises:a.a.array,currentExercise:a.a.object,unlockAll:a.a.bool,onRequestClose:a.a.func,locationQuery:a.a.object};var k=Object(v.b)(function mapStateToProps(e){return{locationQuery:Object(C.c)(e)}})(w),S=r("55fy"),E=r.n(S),T={navigate:a.a.func,currentLesson:a.a.object,exercises:a.a.array,authors:a.a.array,progress:a.a.object,currentExercise:a.a.object,onRequestClose:a.a.func,exerciseIndex:a.a.string,unlockAll:a.a.bool};function Lesson(e){var t=e.authors,r=e.currentLesson,o=e.exercises,i=e.progress,a=e.currentExercise,s=e.onRequestClose,c=e.unlockAll,l=e.navigate;return n.a.createElement("div",null,n.a.createElement("h1",{className:E.a.heading},r.title),n.a.createElement("h3",{className:E.a.subheading},"LESSON"),n.a.createElement(g,{authors:t}),r.description?n.a.createElement("p",{className:E.a.description},r.description):null,n.a.createElement(k,{navigate:l,currentLesson:r,exercises:o,progress:i,currentExercise:a,onRequestClose:s,unlockAll:c}))}Lesson.propTypes=T;var j=Lesson,x={project:a.a.object};function Project(e){var t=e.project;return n.a.createElement("div",null,n.a.createElement("h1",{className:E.a.heading},t.title),n.a.createElement("h3",{className:E.a.subheading},"PROJECT"),t.description?n.a.createElement("p",{className:E.a.description},t.description):null)}Project.propTypes=x;var R=Project,N=r("SXFS"),I=r.n(N);function CourseNavigator_typeof(e){return(CourseNavigator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CourseNavigator_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CourseNavigator_possibleConstructorReturn(e,t){return!t||"object"!==CourseNavigator_typeof(t)&&"function"!=typeof t?function CourseNavigator_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CourseNavigator_getPrototypeOf(e){return(CourseNavigator_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CourseNavigator_setPrototypeOf(e,t){return(CourseNavigator_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var M=300,F=function(e){function CourseNavigator(){var e,t;!function CourseNavigator_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CourseNavigator);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=CourseNavigator_possibleConstructorReturn(this,(e=CourseNavigator_getPrototypeOf(CourseNavigator)).call.apply(e,[this].concat(o)))).state={isClosing:!1},t.handleRequestClose=function(){t.setState({isClosing:!0}),setTimeout(function(){t.setState({isClosing:!1}),t.props.onRequestClose()},M)},t}return function CourseNavigator_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CourseNavigator_setPrototypeOf(e,t)}(CourseNavigator,o["Component"]),function CourseNavigator_createClass(e,t,r){return t&&CourseNavigator_defineProperties(e.prototype,t),r&&CourseNavigator_defineProperties(e,r),e}(CourseNavigator,[{key:"renderNavigationContent",value:function renderNavigationContent(){switch(this.props.currentType){case"lesson":return n.a.createElement(j,{navigate:this.props.navigate,currentLesson:this.props.currentLesson,authors:this.props.authors,progress:this.props.contentItemProgresses[this.props.currentLesson.id],exercises:this.props.exercises,currentExercise:this.props.currentExercise,onRequestClose:this.props.onRequestClose,params:this.props.params,unlockAll:this.props.unlockAll});case"project":return n.a.createElement(R,{project:this.props.project});default:return null}}},{key:"render",value:function render(){return n.a.createElement(l.a,{zIndex:13,isOpen:this.props.isOpen,onRequestClose:this.handleRequestClose},n.a.createElement("div",{className:"".concat(I.a.modal," ").concat(this.state.isClosing?I.a.modalIsClosing:"")},n.a.createElement("div",{className:I.a.modalContent},n.a.createElement(y,{url:this.props.titleRoute,courseTitle:this.props.entityTitle}),this.renderNavigationContent())))}}]),CourseNavigator}();F.propTypes={navigate:a.a.func,onOutsideClick:a.a.func,isOpen:a.a.bool,titleRoute:a.a.string,authors:a.a.array,contentItemProgresses:a.a.object,currentLesson:a.a.object,exercises:a.a.array,currentExercise:a.a.object,params:a.a.object,unlockAll:a.a.bool,currentType:a.a.string,projectSlug:a.a.string,onRequestClose:a.a.func.isRequired,modalIsClosing:a.a.func.isRequired,project:a.a.object,entityTitle:a.a.string};var B=F,W=r("YrnY"),L=r("TP7S"),D=r.n(L),H=r("6vz9"),A=r.n(H),q=r("6WOP"),Q=r.n(q);function NavMenuButton_typeof(e){return(NavMenuButton_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function NavMenuButton_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectWithoutProperties(e,t){if(null==e)return{};var r,o,n=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NavMenuButton_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function NavMenuButton_possibleConstructorReturn(e,t){return!t||"object"!==NavMenuButton_typeof(t)&&"function"!=typeof t?function NavMenuButton_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NavMenuButton_getPrototypeOf(e){return(NavMenuButton_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NavMenuButton_setPrototypeOf(e,t){return(NavMenuButton_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function NavMenuButton(){var e,t;!function NavMenuButton_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavMenuButton);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=NavMenuButton_possibleConstructorReturn(this,(e=NavMenuButton_getPrototypeOf(NavMenuButton)).call.apply(e,[this].concat(o)))).state={active:t.props.active,close:t.props.active},t._active=function(e){t.setState({active:D()(e)?t.props.active:e})},t._close=function(e){t.setState({close:D()(e)?t.props.active:e})},t.handleClick=function(e){e.preventDefault(),t.props.onClick&&t.props.onClick(e)},t}return function NavMenuButton_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NavMenuButton_setPrototypeOf(e,t)}(NavMenuButton,n.a.Component),function NavMenuButton_createClass(e,t,r){return t&&NavMenuButton_defineProperties(e.prototype,t),r&&NavMenuButton_defineProperties(e,r),e}(NavMenuButton,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.active&&!this.props.active?(this._active(e.active),A()(this._close,150)):e.active!==this.props.active&&(this._close(e.active),A()(this._active,150))}},{key:"render",value:function render(){var e,t=this.props,r=(t.onClick,_objectWithoutProperties(t,["onClick"])),o=p()((NavMenuButton_defineProperty(e={},Q.a.button,!0),NavMenuButton_defineProperty(e,Q.a.active,this.state.active),NavMenuButton_defineProperty(e,Q.a.close,this.state.close),e));return n.a.createElement("button",_extends({},r,{onClick:this.handleClick,className:o}),n.a.createElement("span",{className:Q.a.burger}),n.a.createElement("span",{"data-cue":"course-navigator",className:Q.a.exerciseTitle},this.props.title))}}]),NavMenuButton}();z.propTypes={active:a.a.bool,title:a.a.string},z.defaultProps={active:!1};var G=z,U=r("oskw"),$=r.n(U);function Footer_extends(){return(Footer_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Footer_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return V}),r.d(t,"b",function(){return W.b});var V=c()({displayName:"Footer",propTypes:{currentType:a.a.oneOf(["lesson","project","quiz"]),currentLesson:a.a.object,currentExercise:a.a.object,exercises:a.a.array,params:a.a.object,isOpen:a.a.bool,titleRoute:a.a.string,onOutsideClick:a.a.func,projectSlug:a.a.string,disabled:a.a.bool,contentItemProgresses:a.a.object,className:a.a.string,children:a.a.node,unlockAll:a.a.bool,authors:a.a.array,title:a.a.string,project:a.a.object,navigate:a.a.func,entityTitle:a.a.string},getDefaultProps:function getDefaultProps(){return{disabled:!1}},getInitialState:function getInitialState(){return{showNavigation:!1}},getCourseNavigatorToggle:function getCourseNavigatorToggle(){return n.a.createElement(W.b,{position:"left"},n.a.createElement(W.c,null,n.a.createElement(G,{title:this.props.title,onClick:this.toggleCourseNavigator,active:this.state.showNavigation})))},getCourseNavigator:function getCourseNavigator(){return n.a.createElement(B,{onRequestClose:this.toggleCourseNavigator,currentType:this.props.currentType,currentLesson:this.props.currentLesson,currentExercise:this.props.currentExercise,exercises:this.props.exercises,params:this.props.params,isOpen:this.state.showNavigation,navigate:this.props.navigate,titleRoute:this.props.titleRoute,contentItemProgresses:this.props.contentItemProgresses,unlockAll:this.props.unlockAll,authors:this.props.authors,project:this.props.project,entityTitle:this.props.entityTitle})},toggleCourseNavigator:function toggleCourseNavigator(){this.setState({showNavigation:!this.state.showNavigation})},render:function render(){var e,t=p()((Footer_defineProperty(e={},$.a.footer,!0),Footer_defineProperty(e,$.a.disabled,this.props.disabled),e),this.props.className);return n.a.createElement(W.d,Footer_extends({},this.props,{className:t}),this.getCourseNavigatorToggle(),this.props.children,this.getCourseNavigator())}});t.c=V},tn6B:function(e,t,r){e.exports={courseNavButtonContainer:"courseNavButtonContainer__1_gUv3bTN8HAQQf58MIDeP",courseNavButton:"courseNavButton__2PvUR3d_4qWLyQfxjVCQN3",leftArrowIcon:"leftArrowIcon___-pCF5NI_CCZZ-qpS3uZ1",slideInLeft:"slideInLeft__2vteoc7tYDwK5bMs8xufXI",slideOutLeft:"slideOutLeft__2vn_503qoGWDvwK_zsg3QC"}},"v/K4":function(e,t,r){"use strict";var o=r("gLAU"),n=r.n(o),i=r("zdiy"),a=r.n(i),s=r("mwIZ"),c=r.n(s),l=r("/MKj"),u=r("q1tI"),p=r.n(u),f=r("17x9"),h=r.n(f),d=r("TSYQ"),y=r.n(d);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function DeferredRender(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DeferredRender);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(DeferredRender)).call.apply(e,[this].concat(o)))).state={mounted:!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(DeferredRender,u["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(DeferredRender,[{key:"componentDidMount",value:function componentDidMount(){this.setState({mounted:!0})}},{key:"render",value:function render(){return this.state.mounted?this.props.children:null}}]),DeferredRender}();m.propTypes={children:h.a.node};var _=m;function Slot_typeof(e){return(Slot_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Slot_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Slot_possibleConstructorReturn(e,t){return!t||"object"!==Slot_typeof(t)&&"function"!=typeof t?function Slot_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Slot_getPrototypeOf(e){return(Slot_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Slot_setPrototypeOf(e,t){return(Slot_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function Slot(){var e,t;!function Slot_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Slot);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Slot_possibleConstructorReturn(this,(e=Slot_getPrototypeOf(Slot)).call.apply(e,[this].concat(o)))).componentRef=p.a.createRef(),t}return function Slot_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Slot_setPrototypeOf(e,t)}(Slot,u["PureComponent"]),function Slot_createClass(e,t,r){return t&&Slot_defineProperties(e.prototype,t),r&&Slot_defineProperties(e,r),e}(Slot,[{key:"componentDidMount",value:function componentDidMount(){this.register()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.register()}},{key:"register",value:function register(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.componentRef.current)}},{key:"render",value:function render(){var e=this,t=this.props,r=t.slot,o=t.deferred,n=void 0===o||o,i=r.geometry,a=this.props.modifiers.disabled||this.props.modifiers.collapsed,s={position:"absolute",top:"".concat(100*i.top(),"%"),right:"".concat(100-100*i.right(),"%"),bottom:"".concat(100-100*i.bottom(),"%"),left:"".concat(100*i.left(),"%")},c=y()({"fcn-component":!0,enabled:!a,disabled:a,collapsed:this.props.modifiers.collapsed}),l=y()({"fcn-slot":!0,"fcn-slot--no-top-neighbor":i.soloEdges().top,"fcn-slot--no-right-neighbor":i.soloEdges().right,"fcn-slot--no-bottom-neighbor":i.soloEdges().bottom,"fcn-slot--no-left-neighbor":i.soloEdges().left,collapsed:this.props.modifiers.collapsed,"fcn-slot--collapsed-x":i.withinCollapseThreshold("x"),"fcn-slot--collapsed-y":i.withinCollapseThreshold("y")}),u=p.a.createElement("div",{id:"discovery-resize-".concat(this.props.locations),className:l,style:s,"data-fcn-arrangement":this.props.slot.arrangement.slots},p.a.createElement("div",{className:c},p.a.createElement("div",{className:"overlay"}),p.a.createElement(this.props.component.constructor,{presenter:this.props.component.presenter,user:this.props.user,broadcast:this.props.adapter.createComponentBroadcastFunction(this.props.component.name),modifiers:this.props.modifiers,helpers:this.props.helpers,geometry:this.props.slot.geometry,ref:this.componentRef})),i.withinCollapseThreshold("x")||i.withinCollapseThreshold("y")?p.a.createElement("div",{className:y()(_defineProperty({"fcn-slot-snapped-button":!0},"fcn-slot-snapped-button--".concat(this.props.component.name),!0)),onClick:function onClick(){e.props.expandSlot(e.props.slot.geometry.id)}},p.a.createElement("div",{className:y()(_defineProperty({"fcn-slot-snapped-button__icon":!0,"fcn-icon":!0},"fcn-icon-".concat(this.props.component.icon||"learn"),!0))})):void 0);return n?p.a.createElement(_,null,u):u}}]),Slot}();b.propTypes={adapter:h.a.object,component:h.a.object,modifiers:h.a.object,deferred:h.a.bool,expandSlot:h.a.func,locations:h.a.string,slot:h.a.object,helpers:h.a.object,user:h.a.object},b.defaultProps={deferred:!0};var g=b;function fullscreen_controls_typeof(e){return(fullscreen_controls_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fullscreen_controls_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fullscreen_controls_possibleConstructorReturn(e,t){return!t||"object"!==fullscreen_controls_typeof(t)&&"function"!=typeof t?function fullscreen_controls_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fullscreen_controls_getPrototypeOf(e){return(fullscreen_controls_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fullscreen_controls_setPrototypeOf(e,t){return(fullscreen_controls_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function FullScreenControls(){return function fullscreen_controls_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FullScreenControls),fullscreen_controls_possibleConstructorReturn(this,fullscreen_controls_getPrototypeOf(FullScreenControls).apply(this,arguments))}return function fullscreen_controls_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fullscreen_controls_setPrototypeOf(e,t)}(FullScreenControls,p.a.Component),function fullscreen_controls_createClass(e,t,r){return t&&fullscreen_controls_defineProperties(e.prototype,t),r&&fullscreen_controls_defineProperties(e,r),e}(FullScreenControls,[{key:"render",value:function render(){var e=this.props.isFullscreen?"minimize":"fullscreen";return p.a.createElement("div",{"data-cue":"discovery-fullscreen",className:"fcn-control fcn-control--right",onClick:this.props.toggleFullscreen},p.a.createElement("span",{className:"fcn-icon fcn-icon-".concat(e)}))}}]),FullScreenControls}(),C=r("esq3");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function geometry_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function geometry_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function geometry_createClass(e,t,r){return t&&geometry_defineProperties(e.prototype,t),r&&geometry_defineProperties(e,r),e}var O=["x","y"],P={right:"x",bottom:"y",left:"x",top:"y"},w={top:"bottom",right:"left",bottom:"top",left:"right"},k=function(){function Range(e,t){geometry_classCallCheck(this,Range),this.min=e,this.max=t,this.length=t-e+1}return geometry_createClass(Range,[{key:"contains",value:function contains(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).buffer||0;return this.min-t<=e&&this.max+t>=e}}]),Range}(),S=function(){function Posn(e,t){geometry_classCallCheck(this,Posn),this.x=e,this.y=t}return geometry_createClass(Posn,[{key:"clone",value:function clone(){return new Posn(this.x,this.y,this.context)}},{key:"gte",value:function gte(e){return this.x>=e.x&&this.y>=e.y}},{key:"lte",value:function lte(e){return this.x<=e.x&&this.y<=e.y}}]),Posn}(),E=function(){function Cell(e,t,r,o){geometry_classCallCheck(this,Cell),this.x=e,this.y=t,this.id=r,this.neighbors={},this.grid=o,this._right={value:e/o.width+1/o.width},this._bottom={value:t/o.height+1/o.height},0===e&&(this._left={value:0}),0===t&&(this._top={value:0})}return geometry_createClass(Cell,[{key:"left",value:function left(){return 0===this.x?0:this.neighbors.left.right()}},{key:"right",value:function right(){return this._right.value}},{key:"top",value:function top(){return 0===this.y?0:this.neighbors.top.bottom()}},{key:"bottom",value:function bottom(){return this._bottom.value}},{key:"soloEdges",value:function soloEdges(){return{top:void 0===this.neighbors.top,right:void 0===this.neighbors.right,bottom:void 0===this.neighbors.bottom,left:void 0===this.neighbors.left}}},{key:"set",value:function set(e,t){switch(e){case"top":if(0===this.y)throw new Error("Cannot set 'top' on top-most cell");this.neighbors.top._bottom.value=t;break;case"right":if(this.x===this.grid.width-1)throw new Error("Cannot set 'right' on right-most cell");this._right.value=t;break;case"bottom":if(this.y===this.grid.height-1)throw new Error("Cannot set 'bottom' on bottom-most cell");this._bottom.value=t;break;case"left":if(0===this.x)throw new Error("Cannot set 'left' on left-most cell");this.neighbors.left._right.value=t}}}]),Cell}(),T=function(){function Slot(e,t){geometry_classCallCheck(this,Slot),this.id=e,this.grid=t,this.cells={},this.lastEdgeSet={x:void 0,y:void 0}}return geometry_createClass(Slot,[{key:"registerCells",value:function registerCells(e){var t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(this.cells[a.id]=a,void 0!==a.slot)throw new Error("Can't register slot ".concat(this.id,"; cell ").concat(a.id," already belongs to slot ").concat(a.slot.id,"!"));a.slot=this}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}this.calculateEdges(),this.mergePointers(),this.cacheNeighbors()}},{key:"calculateEdges",value:function calculateEdges(){this.edgeCells={top:[],right:[],bottom:[],left:[]},this.edges={top:1,right:0,bottom:0,left:1};for(var e=Object.values(this.cells),t=["top","right","bottom","left"],r=0;r<t.length;r++)for(var o=t[r],n=0;n<e.length;n++){var i=e[n],a=i[o]();0===this.edgeCells[o].length||a===this.edges[o]?(this.edgeCells[o].push(i),this.edges[o]=a):("left"===o||"top"===o)&&a<this.edges[o]?(this.edgeCells[o]=[i],this.edges[o]=a):("right"===o||"bottom"===o)&&a>this.edges[o]&&(this.edgeCells[o]=[i],this.edges[o]=a)}this.edgeExtents={};var s=this.sharedEdges();for(var c in s)if(s[c]){var l=this.edgeCells[c];this.edgeExtents[c]={x:new k(Math.min.apply(Math,_toConsumableArray(l.map(function(e){return e.left()}))),Math.max.apply(Math,_toConsumableArray(l.map(function(e){return e.right()})))),y:new k(Math.min.apply(Math,_toConsumableArray(l.map(function(e){return e.top()}))),Math.max.apply(Math,_toConsumableArray(l.map(function(e){return e.bottom()}))))}}}},{key:"mergePointers",value:function mergePointers(){for(var e in w){var t=w[e],r=this.edgeCells[e][0];if(!r["_".concat(e)]){var o=r.neighbors[e];o&&(r["_".concat(e)]=o["_".concat(t)])}var n=!0,i=!1,a=void 0;try{for(var s,c=this.edgeCells[e][Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;l["_".concat(e)]=r["_".concat(e)];var u=l.neighbors[e];u&&l["_".concat(e)]&&(u["_".concat(t)]=l["_".concat(e)])}}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}}}},{key:"cacheNeighbors",value:function cacheNeighbors(){for(var e={top:[],right:[],bottom:[],left:[]},t=Object.values(this.cells),r=0;r<t.length;r++){var o=t[r];o.neighbors.top&&o.top()===this.edges.top&&-1===e.top.indexOf(o.neighbors.top.slot)&&e.top.push(o.neighbors.top.slot),o.neighbors.right&&o.right()===this.edges.right&&-1===e.right.indexOf(o.neighbors.right.slot)&&e.right.push(o.neighbors.right.slot),o.neighbors.bottom&&o.bottom()===this.edges.bottom&&-1===e.bottom.indexOf(o.neighbors.bottom.slot)&&e.bottom.push(o.neighbors.bottom.slot),o.neighbors.left&&o.left()===this.edges.left&&-1===e.left.indexOf(o.neighbors.left.slot)&&e.left.push(o.neighbors.left.slot)}this.neighbors=e}},{key:"soloEdges",value:function soloEdges(){return{top:this.edgeCells.top[0].soloEdges().top,right:this.edgeCells.right[0].soloEdges().right,bottom:this.edgeCells.bottom[0].soloEdges().bottom,left:this.edgeCells.left[0].soloEdges().left}}},{key:"sharedEdges",value:function sharedEdges(){return{top:!this.edgeCells.top[0].soloEdges().top,right:!this.edgeCells.right[0].soloEdges().right,bottom:!this.edgeCells.bottom[0].soloEdges().bottom,left:!this.edgeCells.left[0].soloEdges().left}}},{key:"top",value:function top(){return this.edgeCells.top[0].top()}},{key:"right",value:function right(){return this.edgeCells.right[0].right()}},{key:"bottom",value:function bottom(){return this.edgeCells.bottom[0].bottom()}},{key:"origin",value:function origin(){return new S(this.left(),this.top())}},{key:"left",value:function left(){return this.edgeCells.left[0].left()}},{key:"width",value:function width(){return this.right()-this.left()}},{key:"roundedWidth",value:function roundedWidth(){return Math.round(100*this.width())/100}},{key:"height",value:function height(){return this.bottom()-this.top()}},{key:"roundedHeight",value:function roundedHeight(){return Math.round(100*this.height())/100}},{key:"coordExtent",value:function coordExtent(){return{x:new k(this.edgeCells.left[0].x,this.edgeCells.right[0].x),y:new k(this.edgeCells.top[0].y,this.edgeCells.bottom[0].y)}}},{key:"collapsed",value:function collapsed(e){switch(e){case"x":return this.roundedWidth()<=.04;case"y":return this.roundedHeight()<=.06;default:return this.collapsed("x")||this.collapsed("y")}}},{key:"elgibileToSnap",value:function elgibileToSnap(e){switch(e){case"x":var t=this.roundedWidth();return t>.04&&t<=.1;default:var r=this.roundedHeight();return r>.06&&r<=.17}}},{key:"withinCollapseThreshold",value:function withinCollapseThreshold(e){switch(e){case"x":return this.roundedWidth()<=.1;default:return this.roundedHeight()<=.17}}},{key:"slack",value:function slack(e){switch(e){case"x":return this.roundedWidth()-.04;default:return this.roundedHeight()-.06}}},{key:"firstSlotWithSlackInDirection",value:function firstSlotWithSlackInDirection(e){var t=P[e];return this.slack(t)>0?this:0===this.neighbors[e].length?null:this.neighbors[e][0].firstSlotWithSlackInDirection(e)}},{key:"neighborWithSlackInDirection",value:function neighborWithSlackInDirection(e){switch(e){case"top":case"left":return this.firstSlotWithSlackInDirection(e);case"right":case"bottom":return this.neighbors[e][0].firstSlotWithSlackInDirection(e);default:return null}}},{key:"firstDirectionWithSlack",value:function firstDirectionWithSlack(e){var t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(this.neighborWithSlackInDirection(a))return a}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}return null}},{key:"set",value:function set(e,t){var r=this,o=!0,n=!1,i=void 0;try{for(var a,s=this.edgeCells[e][Symbol.iterator]();!(o=(a=s.next()).done);o=!0){a.value.set(e,t)}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}var c=P[e];this.lastEdgeSet[c]=e;var l=!0,u=!1,p=void 0;try{for(var f,h=this.neighbors[e][Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value;d.lastEdgeSet[c]=w[e],d.redistributeCells();var y=d.neighbors[w[e]].filter(function(e){return e!==r}),m=!0,_=!1,b=void 0;try{for(var g,v=y[Symbol.iterator]();!(m=(g=v.next()).done);m=!0){var C=g.value;C.lastEdgeSet[c]=e,C.redistributeCells()}}catch(e){_=!0,b=e}finally{try{m||null==v.return||v.return()}finally{if(_)throw b}}}}catch(e){u=!0,p=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw p}}this.redistributeCells()}},{key:"push",value:function push(e,t){var r=w[e];if(0===this.neighbors[e].length)return!1;if("top"===e)return this.neighbors.top[0].push(r,-t);if("left"===e)return this.neighbors.left[0].push(r,-t);var o,n=P[e];if(!(o=t>0?this.neighborWithSlackInDirection(e):this.neighborWithSlackInDirection(r)))return!1;var i=t<0;t=Math.min(Math.abs(t),o.slack(n)),i&&(t=-t),this.set(e,this[e]()+t,!0),this.enforceMinimumDimensions(e);var a=this.neighbors[t>0?e:r];if(a){var s=!0,c=!1,l=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){u.value.enforceMinimumDimensions(r)}}catch(e){c=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}return!0}},{key:"redistributeCells",value:function redistributeCells(){for(var e=Object.values(this.cells),t=this.coordExtent(),r=0;r<e.length;r++){var o=e[r];if(t.x.length>1){var n=(o.x+1-t.x.min)/t.x.length;o.neighbors.right&&o.set("right",this.left()+n*this.width())}if(t.y.length>1){var i=(o.y+1-t.y.min)/t.y.length;o.neighbors.bottom&&o.set("bottom",this.top()+i*this.height())}}}},{key:"fullscreen",value:function fullscreen(){var e=!1;for(var t in P)for(;this.push(t,1);)e=!0;return e}},{key:"enforceMinimumDimensions",value:function enforceMinimumDimensions(e){var t=this.width(),r=this.height();switch(e){case"left":t<.04&&(this.neighbors.right.length?this.set("right",this.left()+.04):this.set("left",this.right()-.04));break;case"right":t<.04&&(this.neighbors.left.length?this.set("left",this.right()-.04):this.set("right",this.left()+.04));break;case"top":r<.06&&(this.neighbors.bottom.length?this.set("bottom",this.top()+.06):this.set("top",this.bottom()-.06));break;default:r<.06&&(this.neighbors.top.length?this.set("top",this.bottom()-.06):this.set("bottom",this.top()+.06))}}}]),Slot}(),j=function(){function Grid(e,t){geometry_classCallCheck(this,Grid),this.width=e,this.height=t,this.cells=[],this.slots={};for(var r=0;r<t;r++)for(var o=this.cells[r]=[],n=0;n<e;n++){var i=new E(n,r,r*e+n,this);o[n]=i}for(var a=0;a<t;a++)for(var s=0;s<e;s++){var c=this.getCellByCoords(s,a);a>0&&(c.neighbors.top=this.getCellByCoords(s,a-1)),s<e-1&&(c.neighbors.right=this.getCellByCoords(s+1,a)),a<t-1&&(c.neighbors.bottom=this.getCellByCoords(s,a+1)),s>0&&(c.neighbors.left=this.getCellByCoords(s-1,a))}}return geometry_createClass(Grid,[{key:"registerSlot",value:function registerSlot(e){var t=this,r=new T(e,this);this.slots[e]=r;var o=e.split("").map(function(e){return t.getCellById(parseInt(e,10))});r.registerCells(o),this.slotsList=Object.values(this.slots);var n=!0,i=!1,a=void 0;try{for(var s,c=this.slotsList[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){s.value.cacheNeighbors()}}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}}},{key:"getSlotById",value:function getSlotById(e){return this.slots[e]}},{key:"getCellByCoords",value:function getCellByCoords(e,t){return this.cells[t][e]}},{key:"getCellById",value:function getCellById(e){var t=e%this.width,r=Math.floor(e/this.width);return this.cells[r][t]}},{key:"registerDOMNode",value:function registerDOMNode(e){this.DOMNode=e}},{key:"DOMNodeRect",value:function DOMNodeRect(){return this.DOMNode.getBoundingClientRect()}},{key:"percentageToPx",value:function percentageToPx(e,t){if(0===t)return 0;switch(e){case"x":return this.DOMNodeRect().width*t;default:return this.DOMNodeRect().height*t}}},{key:"pxToPercentage",value:function pxToPercentage(e,t){if(0===t)return 0;switch(e){case"x":return t/this.DOMNodeRect().width;default:return t/this.DOMNodeRect().height}}},{key:"gutterUnderPosn",value:function gutterUnderPosn(e){var t=this.DOMNodeRect(),r=new S(e.x-t.left,e.y-t.top),o=!0,n=!1,i=void 0;try{for(var a,s=this.slotsList[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;for(var l in c.edgeExtents)switch(l){case"right":var u=this.percentageToPx("x",c[l]()),p=this.percentageToPx("y",c.edgeExtents[l].y.min),f=this.percentageToPx("y",c.edgeExtents[l].y.max);if(Math.abs(r.x-u)<7&&r.y>=p&&r.y<=f)return{edge:l,slot:c};break;case"bottom":var h=this.percentageToPx("y",c[l]()),d=this.percentageToPx("x",c.edgeExtents[l].x.min),y=this.percentageToPx("x",c.edgeExtents[l].x.max);if(Math.abs(r.y-h)<7&&r.x>=d&&r.x<=y)return{edge:l,slot:c}}}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}}},{key:"recalculateEdges",value:function recalculateEdges(){var e=!0,t=!1,r=void 0;try{for(var o,n=this.slotsList[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){o.value.calculateEdges()}}catch(e){t=!0,r=e}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}},{key:"getSlotsWaitingToCollapse",value:function getSlotsWaitingToCollapse(e){return this.slotsList.filter(function(t){return t.elgibileToSnap(e)})}},{key:"expandSlot",value:function expandSlot(e){for(var t=this.getSlotById(e),r=t.origin(),o=t.coordExtent(),n=0;n<O.length;n++){var i=O[n],a=t.lastEdgeSet[i],s=t.firstDirectionWithSlack([a,w[a]]);if(s){var c=void 0;if(t.withinCollapseThreshold(i))switch(i){case"x":c=o[i].length/this.width,t.push(s,c-t.width());break;default:c=o[i].length/this.height,t.push(s,c-t.height())}}}this.snapSlots(r)}},{key:"expandSlotInDirection",value:function expandSlotInDirection(e,t){var r,o=this.getSlotById(e),n=o.neighbors[t];n.length>0?(r=n[0].slack(P[t]),o.push(t,r)):console.warn("Cannot expand slot ".concat(e," in direction #{dir}; no neighbors"))}},{key:"toggleFullscreenSlot",value:function toggleFullscreenSlot(e){if(!this.slots[e].fullscreen()){for(var t=1/this.width,r=1/this.height,o=0;o<this.height;o++)for(var n=0;n<this.width;n++){var i=this.cells[o][n];i._right.value=(n+1)*t,i._bottom.value=(o+1)*r}return!1}return!0}},{key:"fullscreenSlot",value:function fullscreenSlot(){var e=this.slotsList.filter(function(e){return!(e.withinCollapseThreshold("x")||e.withinCollapseThreshold("y"))});return 1===e.length?e[0]:null}},{key:"snapSlots",value:function snapSlots(e){this.recalculateEdges();for(var t=[],r={},o=["x","y"],n=0;n<o.length;n++){var i=o[n],a=this.getSlotsWaitingToCollapse(i),s=!0,c=!1,l=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var f=u.value,h=void 0,d=-f.slack(i);if(h=r[i]?r[i]:f.origin().lte(e)?{x:"right",y:"bottom"}[i]:{x:"left",y:"top"}[i],(0===f.neighbors[h].length||t.indexOf(f.neighbors[h][0].id)>-1)&&(h=w[h]),0===f.neighbors[h].length||t.indexOf(f.neighbors[h][0].id)>-1)return void console.warn("Cannot snap; infinite loop");r[i]=h,f.push(h,d),t.push(f.id)}}catch(e){c=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}}]),Grid}(),x={PersistentCodeEditor:"CodeEditor",WebBrowser:"Preview",Terminal:"Terminal",OutputTerminal:"Terminal",Brief:"Narrative",Image:"Visual",Video:"Visual",SQLPreview:"SQLPreview"},R=r("08+1").a.extend({initialize:function initialize(){this.arrangements={},this.registerLayouts([{Narrative:"03"},{Narrative:"03",CodeEditor:"1245"},{Narrative:"03",CodeEditor:"14",ReadOnlyCodeEditor:"25"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Preview:"45"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Terminal:"45"},{Narrative:"03",Preview:"1245"},{Narrative:"03",Terminal:"1245"},{Narrative:"03",Visual:"1245"},{Narrative:"03",SQLPreview:"1245"},{Narrative:"03",CodeEditor:"14",Preview:"25"},{Narrative:"03",CodeEditor:"14",Visual:"25"},{Narrative:"03",CodeEditor:"14",Terminal:"25"},{Narrative:"03",CodeEditor:"14",SQLPreview:"25"},{Narrative:"03",CodeEditor:"1",Preview:"25",Terminal:"4"},{Narrative:"03",CodeEditor:"1",Visual:"25",Terminal:"4"},{Narrative:"03",Preview:"14",Visual:"25"},{Narrative:"03",Preview:"25",Terminal:"14"},{Narrative:"03",Terminal:"45",Visual:"12"}])},registerLayouts:function registerLayouts(e){var t=this;e.forEach(function(e){t.registerLayout(e)})},registerLayout:function registerLayout(e){var t=Object.keys(e).sort().join("_"),r={};for(var o in e)r[o]={slots:"".concat(e[o]),cols:this._determineColForSlots(e[o])};this.arrangements[t]=r},_determineColForSlots:function _determineColForSlots(e){var t="";return/[03]/.test(e+="")&&(t+="1"),/[14]/.test(e)&&(t+="2"),/[25]/.test(e)&&(t+="3"),t},getArrangement:function getArrangement(e){return this.arrangements[this.buildComponentName(e)]},arrangementAmong:function arrangementAmong(e,t){var r=this.getArrangement(t);if(void 0===r)throw new Error("Couldn't find layout for ".concat(this.buildComponentName(t)));return r[x[e.type]]||r[e.type]},buildComponentName:function buildComponentName(e){return Object.keys(e).map(function(e){return x[e]||e}).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).join("_")}}),N=r("fhzG"),I=r.n(N),M=r("i8i4"),F=r.n(M),B=null,W=null,L=function save(){if((B=document.activeElement)&&window.getSelection){var e=window.getSelection();W="Range"===e.type?e.getRangeAt(0):null}},D=function restore(){if(B&&(B.focus(),W&&window.getSelection)){var e=window.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(W)}};window.__debug__={};var H=function(e,t){window.__debug__[e]=t},A=r("iJ35"),q=r("JoHf"),Q=r("jdWZ"),z=r("+IkO"),G=r("zfST"),U={componentDidMount:function componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},componentWillUnmount:function componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},onMouseDown:function onMouseDown(e){0===e.button&&this.handleMouseDown&&this.handleMouseDown(e)},onMouseUp:function onMouseUp(e){if(this.handleMouseUp){if(void 0!==e._dispatchIDs)return;this.handleMouseUp(e)}},onMouseMove:function onMouseMove(e){if(this.handleMouseMove){if(void 0!==e._dispatchIDs)return;this.handleMouseMove(e,this.state.didMouseMove),this.state.didMouseMove=!0}}},$={getInitialState:function getInitialState(){return{showDebugWireframe:!1,showDebugCellWireframe:!1}},debugWireframe:function debugWireframe(){var e=["red","green","blue","orange","purple","pink"];return this.state.grid.slotsList.map(function(t,r){return p.a.createElement("div",{key:"slotWireframe".concat(r),style:{border:"1px solid ".concat(e[r]),color:e[r],position:"absolute",pointerEvents:"none",top:"".concat(100*t.top(),"%"),left:"".concat(100*t.left(),"%"),bottom:"".concat(100-100*t.bottom(),"%"),right:"".concat(100-100*t.right(),"%"),padding:10}},p.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}},t.id))})},debugCellWireframe:function debugCellWireframe(){var e=["red","green","blue","orange","purple","pink"],t=[];return this.state.grid.slotsList.map(function(r,o){t=t.concat(Object.values(r.cells).map(function(t){return p.a.createElement("div",{key:"cellWireframe".concat(t.id),style:{border:"1px solid ".concat(e[o]),color:e[o],position:"absolute",pointerEvents:"none",top:"".concat(100*t.top(),"%"),left:"".concat(100*t.left(),"%"),bottom:"".concat(100-100*t.bottom(),"%"),right:"".concat(100-100*t.right(),"%"),padding:10}},p.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}},t.id))}))}),t},renderDebugLayer:function renderDebugLayer(){return this.state.showDebugWireframe?this.debugWireframe():this.state.showDebugCellWireframe?this.debugCellWireframe():void 0}};function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){ComponentGrid_defineProperty(e,t,r[t])})}return e}function ComponentGrid_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V={Terminal:"terminal",OutputTerminal:"terminal",PersistentCodeEditor:"editor",ReadOnlyCodeEditor:"editor",Image:"image",Narrative:"learn",WebBrowser:"browser"},J=I()({displayName:"ComponentGrid",propTypes:{components:h.a.array.isRequired,gridSetup:h.a.func,user:h.a.object,adapter:h.a.object.isRequired,helpers:h.a.object.isRequired,modifiers:h.a.object.isRequired,presenter:h.a.object.isRequired,contentItemType:h.a.string,checkpointErrors:h.a.array,checkpointsRunning:h.a.bool},mixins:[U,$,G.a],getInitialState:function getInitialState(){for(var e={fullscreenSlot:void 0,config:new R,cursor:"auto",grid:new j(3,2),slotArrangements:{},hasTrackedDragging:!1},t=this.props.components,r=Object.keys(t),o=0;o<r.length;o++){var n=r[o],i=e.config.arrangementAmong(t[n],t);e.grid.registerSlot(i.slots)}return void 0!==this.props.gridSetup&&this.props.gridSetup(e.grid),e},componentDidMount:function componentDidMount(){var e=this;this.state.grid.registerDOMNode(F.a.findDOMNode(this)),H("toggleGridWireframe",function(){e.setState({showDebugWireframe:!e.state.showDebugWireframe})}),H("toggleGridCellWireframe",function(){e.setState({showDebugCellWireframe:!e.state.showDebugCellWireframe})})},componentWillUpdate:function componentWillUpdate(e,t){t.grid&&(t.fullscreenSlot=t.grid.fullscreenSlot())},componentDidUpdate:function componentDidUpdate(){this.state.resizing&&A.a.resized(),this.state.resizing=!1},hasCheckWork:function hasCheckWork(){var e=this.props,t=e.contentItemType,r=e.components;return!("project"===t&&!Object.keys(r).includes("WebBrowser"))&&(!0===c()(r,"Terminal.prevent_checkpoint_run")&&!0===c()(r,"PersistentCodeEditor.no_run_button"))},evaluateExercise:function evaluateExercise(){if(!this.props.checkpointsRunning)return this.hasCheckWork()?q.a.checkWork():q.a.saveFilesAndCheckWork()},selectComponentForError:function selectComponentForError(){for(var e=this.props.components,t=["PersistentCodeEditor","Terminal","WebBrowser"],r=0;r<t.length;r++){var o=t[r];if(e[o])return o}var n=Object.keys(e).filter(function(e){return"Narrative"!==e});return n.length>0?n[0]:null},buildComponents:function buildComponents(){for(var e=[],t=this.props.components,r=Object.keys(t),o=0;o<r.length;o++){var n=r[o],i=C.a[t[n].type],s=this.state.config.arrangementAmong(t[n],t),c=this.props.helpers.componentShouldBeDisabled(n);this.state.slotArrangements[n]=s.slots;var l=this.toggleFullscreenSlot.bind(this,s.slots),u=p.a.createElement(v,{toggleFullscreen:l,isFullscreen:!!this.state.fullscreenSlot}),f=_objectSpread({},this.props.modifiers,{disabled:c,fullscreen:s.slots===this.state.fullscreenSlot,dragging:this.state.dragging}),h={fullscreenButton:u,evaluateExercise:this.evaluateExercise,hasCheckWork:this.hasCheckWork(),contentItemType:this.props.contentItemType};a()(h,this.props.presenter);var d=this.selectComponentForError();h.displayErrors=d===n,h=a()({},t[n],h);var y={arrangement:s,wall:this.props.presenter.wall,geometry:this.state.grid.slots[s.slots]},m={toggleFullscreen:this.toggleFullscreenSlot.bind(this,s.slots)},_={constructor:i,presenter:h,name:n,icon:V[n]};e.push(p.a.createElement(g,{deferred:-1===["Brief","Narrative"].indexOf(n),locations:s.slots,component:_,slot:y,modifiers:f,helpers:m,adapter:this.props.adapter,user:this.props.user,expandSlot:this.expandSlot,fullscreenSlot:this.fullscreenSlot,key:"slot:".concat(n)}))}return e},expandSlot:function expandSlot(e){this.state.grid.expandSlot(e),this.setState({grid:this.state.grid,resizing:!0})},expandSlotByName:function expandSlotByName(e){var t=this.state.slotArrangements[e];if(!t)throw new Error("No arrangement for ".concat(e));this.state.grid.expandSlot(t),this.setState({grid:this.state.grid,resizing:!0})},toggleFullscreenSlot:function toggleFullscreenSlot(e){this.state.grid.toggleFullscreenSlot(e),Object(Q.b)("user","click",{target:"platformFullscreen"}),this.setState({grid:this.state.grid,resizing:!0})},hasDOMNode:function hasDOMNode(){return Boolean(this.state.grid.DOMNode)},handleMouseMove:function handleMouseMove(e,t){if(this.hasDOMNode()){var r=this.getPosns(e).pagePosn;if(this.state.dragging){if(e.preventDefault(),this.props.adapter.trigger("interface:resizing"),this.state.hasTrackedDragging||(Object(Q.b)("user","click",{target:"platformDragHandle"}),this.setState(function(){return{hasTrackedDragging:!0}})),t){var o,n=this.state.focusedGutter.edge;if("right"===n){var i=this.state.grid.DOMNodeRect().left+this.state.grid.percentageToPx("x",this.state.focusedGutter.slot.right());o=r.x-i,this.state.focusedGutter.slot.push("right",this.state.grid.pxToPercentage("x",o)),this.setState({grid:this.state.grid})}else if("bottom"===n){var a=this.state.grid.DOMNodeRect().top+this.state.grid.percentageToPx("y",this.state.focusedGutter.slot.bottom());o=r.y-a,this.state.focusedGutter.slot.push("bottom",this.state.grid.pxToPercentage("y",o)),this.setState({grid:this.state.grid})}}}else{var s,c=this.state.grid.gutterUnderPosn(r);s=void 0!==c?{right:"ew-resize",bottom:"ns-resize"}[c.edge]:"auto",L(),this.state.focusedGutter===c&&this.state.cursor===s||this.setState({focusedGutter:c,cursor:s})}}},handleMouseDown:function handleMouseDown(){this.state.focusedGutter&&this.setState({dragging:!0})},handleMouseUp:function handleMouseUp(e){this.state.dragging&&(this.state.grid.snapSlots(this.state.focusedGutter.slot.origin()),e.stopPropagation(),e.preventDefault(),n()(D)),this.setState({grid:this.state.grid,dragging:!1,resizing:this.state.dragging})},getPosns:function getPosns(e){if(!this.hasDOMNode())return{};var t=this.state.grid.DOMNodeRect();return{offsetPosn:new S(e.pageX-t.left,e.offsetY-t.top),pagePosn:new S(e.pageX,e.pageY)}},render:function render(){var e=y()({"fcn-grid":!0,"fcn-grid--dragging":!!this.state.dragging}),t={cursor:this.state.cursor};return p.a.createElement("div",{className:e,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:t},this.buildComponents(),this.props.presenter.wall,this.renderDebugLayer())}});t.a=Object(l.b)(function mapStateToProps(e){return{checkpointsRunning:Object(z.f)(e)}},null,null,{withRef:!0})(J)},wevG:function(e,t,r){e.exports={ResetWorkspaceControl:"ResetWorkspaceControl__88z6jsIn6PfE5Pau4k-ll",cta:"cta__2mjuuxJjh22qJC_GiTMSh7",ctaArrow:"ctaArrow__h5q8WAhe0BF1Ki1ae5bVq"}},wiwL:function(e,t,r){"use strict";var o=r("mwIZ"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("17x9"),c=r.n(s),l=r("TSYQ"),u=r.n(l),p=r("zSSe"),f=r("RNBt"),h=r("wI9+"),d=r("bKBl"),y=r("fhzG"),m=r.n(y),_=r("BzM2"),b=r("HOuw"),g=m()({displayName:"WorkspaceStatusMessage",propTypes:{type:c.a.string,message:c.a.string,visible:c.a.bool},mixins:[_.StateMixin.connect(b.a,"workspaceStatusType"),_.StateMixin.connect(b.a,"workspaceStatusMessage")],getInitialState:function getInitialState(){return{visible:!1,isHovering:!1}},componentDidUpdate:function componentDidUpdate(e,t){var r=this,o=this.state.workspaceStatusType,n=this.state.workspaceStatusMessage;if((o!==t.workspaceStatusType||n!==t.workspaceStatusMessage)&&this.state.workspaceStatusMessage&&(this.setState({visible:!0}),this.state.hideTimeout&&(clearTimeout(this.state.hideTimeout),this.setState({hideTimeout:null})),"success"===this.state.workspaceStatusType)){var i=setTimeout(function(){r.setState({visible:!1})},3e3);this.setState({hideTimeout:i})}},_onMouseOver:function _onMouseOver(){this.state.isHovering=!0,this.setState({isHovering:this.state.isHovering,visible:!0})},_onMouseLeave:function _onMouseLeave(){this.setState({visible:!1,isHovering:!1})},render:function render(){var e=u()({"fcn-godex-status--hidden":!this.state.visible,"fcn-godex-status":!0,"fcn-godex-status--neutral":"neutral"===this.state.workspaceStatusType,"fcn-godex-status--error":"error"===this.state.workspaceStatusType||"idle"===this.state.workspaceStatusType,"fcn-godex-status--success":"success"===this.state.workspaceStatusType,"fcn-godex-status--stable":this.state.isHovering&&"error"!==this.state.workspaceStatusType});return a.a.createElement("div",{className:"fcn-godex-status-container",onMouseEnter:this._onMouseOver,onMouseLeave:this._onMouseLeave},a.a.createElement("div",{className:e},a.a.createElement("span",{ref:"statusMessage"},this.state.workspaceStatusMessage),a.a.createElement("div",{className:"fcn-godex-status__glow"})))}}),v=r("ieBV"),C=r("NjwN"),O=r("s4S1"),P=r("rIqd"),w=r("jdWZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function AlarmIcon(e){return a.a.createElement("svg",_extends({viewBox:"0 0 6.35 6.35"},e),a.a.createElement("path",{d:"M1.648 5.285l-.508.908.774-.641m2.978-.258l.507.908-.774-.64",strokeWidth:".36"}),a.a.createElement("ellipse",{ry:"2.305",rx:"2.337",cy:"3.525",cx:"3.252",strokeWidth:".405"}),a.a.createElement("path",{d:"M3.208 1.895l-.014 1.694.711.56",strokeWidth:".405"}),a.a.createElement("path",{d:"M.616 2.072A.994 1.04 0 0 1 .276.954.994 1.04 0 0 1 1.15.217.994 1.04 0 0 1 2.123.8l-.894.453zM.335.592A.202.21 0 0 1 .228.388a.202.21 0 0 1 .14-.18.202.21 0 0 1 .214.063M5.746 2.07A.994 1.04 0 0 0 6.089.963a.994 1.04 0 0 0-.85-.747.994 1.04 0 0 0-.983.543l.877.49zM6.027.59a.202.21 0 0 0 .106-.204.202.21 0 0 0-.14-.181.202.21 0 0 0-.214.063",strokeWidth:".36"}))}var k=r("lxJN"),S=r.n(k);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var E="idle",T="running",j="finished",x=function trackClick(e){return function(){Object(w.b)("user","click",{target:e})}},R=function(e){function FocusTimerTool(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FocusTimerTool);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(FocusTimerTool)).call.apply(e,[this].concat(o)))).state={timerState:E,popoverOpenOverride:void 0},t.updateTimer=function(){var e=t.state.minutesRemaining;t.timerId&&(e>1?t.setState({minutesRemaining:e-1}):(window.clearInterval(t.timerId),t.timerId=null,t.setState({timerState:j,popoverOpenOverride:!0})))},t.startTimer=function(){x("focustimer_commit"),t.timerId=window.setInterval(t.updateTimer,6e4),t.setState({timerState:T,minutesRemaining:15})},t.clearPopoverOpenOverride=function(){x("focustimer"),t.setState({popoverOpenOverride:void 0})},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(FocusTimerTool,i["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(FocusTimerTool,[{key:"renderTimerState",value:function renderTimerState(){var e=this.state.timerState;return e===E?a.a.createElement("div",null,a.a.createElement("div",null,"Work smarter by focusing in 15-minute distraction free bursts."),a.a.createElement(P.a,{onClick:this.startTimer,className:S.a.commitButton,outline:!1,theme:"brand-purple"},"Start Timer")):e===T?a.a.createElement("div",{className:S.a.timeRemaining},a.a.createElement("strong",{className:S.a.strong},this.state.minutesRemaining," minute",this.state.minutesRemaining>1&&"s"),a.a.createElement("div",null,"Stay focused!")):e===j?a.a.createElement("div",{className:S.a.finishedState},a.a.createElement("p",null,"Nice, youve made progress. Take a break, then keep up the hard work!"),"Thanks for trying our experimental feature!"," ",a.a.createElement("strong",null,a.a.createElement("a",{href:"https://codecademyready.typeform.com/to/noT2YV",target:"_blank",rel:"noopener noreferrer"},"Tell us what you think!"))):null}},{key:"render",value:function render(){var e,t=this.state,r=t.timerState,o=t.minutesRemaining,n=u()((_defineProperty(e={},S.a.alarm,!0),_defineProperty(e,S.a.activeAlarm,!!this.timerId),e)),i=a.a.createElement(AlarmIcon,{className:n,alt:"focus timer tool"});return a.a.createElement("div",{className:S.a.focusTimerToolContainer},r===T&&a.a.createElement("div",{className:S.a.status},o," minute",this.state.minutesRemaining>1&&"s"," ","left"),a.a.createElement(v.a,{clickTarget:i,className:S.a.dropdownToggle,open:this.state.popoverOpenOverride,onToggle:this.clearPopoverOpenOverride},a.a.createElement(O.a,{column:!0,className:S.a.dropdown},r===j&&a.a.createElement(C.a,{opacity:.6,gravity:.2}),a.a.createElement(O.a,{center:!0,className:S.a.header},a.a.createElement("h3",null,"Focus Timer")),a.a.createElement("div",{className:S.a.content},this.renderTimerState()))))}}]),FocusTimerTool}(),N=r("Zi9o"),I=r.n(N);function Header_typeof(e){return(Header_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Header_extends(){return(Header_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Header_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Header_possibleConstructorReturn(e,t){return!t||"object"!==Header_typeof(t)&&"function"!=typeof t?function Header_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Header_getPrototypeOf(e){return(Header_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Header_setPrototypeOf(e,t){return(Header_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function PlatformHeader(){return function Header_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlatformHeader),Header_possibleConstructorReturn(this,Header_getPrototypeOf(PlatformHeader).apply(this,arguments))}return function Header_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Header_setPrototypeOf(e,t)}(PlatformHeader,i["Component"]),function Header_createClass(e,t,r){return t&&Header_defineProperties(e.prototype,t),r&&Header_defineProperties(e,r),e}(PlatformHeader,[{key:"render",value:function render(){var e=[],t=[];if("variant"===p.a.getExperimentGroup("exp_timebox_tool_2019_01_23")&&t.push(a.a.createElement(R,null)),this.props.authoringMode){var r=u()("new-cc-icon","icon-edit",I.a.authorModeTag);e.push(a.a.createElement("span",{className:r},"Authoring"))}p.a.hasGodMode()&&e.push(a.a.createElement(h.a,null,a.a.createElement(d.a,{setProgressToCurrentExercise:this.props.setProgressToCurrentExercise,prerender:this.props.prerender,currentWorkspace:this.props.workspace,authorURL:this.props.authorURL,nolock:this.props.nolock,authoringMode:this.props.authoringMode})));var o=a.a.createElement(g,null),i=u()(I.a.header,this.props.className);return a.a.createElement(f.a,Header_extends({},this.props,{compact:!0,className:i,showNav:!1,theme:"dark",wide:!0,titleRoute:n()(this.props,"exitPaths.back"),tabsRight:e,tabsLeft:t,statusDisplay:o,flags:{openUpgradeLinkInNewTab:!0},profileImage:p.a.get("profile_image_url"),hideRegisterButton:!0,hideLoginButton:!0,hideSearch:!0}))}}]),PlatformHeader}();M.propTypes={title:c.a.string,exitPaths:c.a.object.isRequired,logoRoute:c.a.string.isRequired,profileImage:c.a.string.isRequired,setProgressToCurrentExercise:c.a.func,workspace:c.a.object.isRequired,prerender:c.a.object,authorURL:c.a.string,nolock:c.a.bool.isRequired,authoringMode:c.a.bool,uploadSavepoints:c.a.bool.isRequired,className:c.a.string},M.defaultProps={logoRoute:"/"};t.a=M},woPg:function(e,t,r){e.exports={groupHeading:"groupHeading__3uTQEYNxl6MJgzXZZ13yw9",navButton:"navButton__ZnqfRpK9Q_YnPIBDOqHmg",activeListItem:"activeListItem__1WDYeFpcYdIS35PyYU08C",completedListItem:"completedListItem__1eHiHnR2W0vFWdZk6zSmIu",navButtonIcon:"navButtonIcon__3CZM0V7800cC4DShLnggjR",lockedListItem:"lockedListItem__3ypfptVCWmhSnn9dgtue5B",listItemTitle:"listItemTitle__3NeTJtrYNQfK-bf7JqWTlG",exerciseSection:"exerciseSection__1HM1WD1vDQSTvLlS5WmosL",slideInLeft:"slideInLeft__Pf9i_QrvfrXCYL316oVAP",slideOutLeft:"slideOutLeft__2x06NnfFujJKT2E3vjEmhd"}},zGzv:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var o=r("o0o1"),n=r.n(o),i=r("FCEL"),a=r("Yr7M"),s=r("JoHf"),c=r("zSSe");function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function asyncGeneratorStep(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}var l=function(){var e=function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,o,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,o,n,_next,_throw,"throw",e)}_next(void 0)})}}(n.a.mark(function _callee(e){var t,r,o;return n.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.content,r=e.userId,!c.a.isAnon()){n.next=3;break}return n.abrupt("return");case 3:if((o=_objectSpread({},t.workspace)).user_id=r,!t.components.PersistentCodeEditor){n.next=8;break}return n.next=8,i.a.publishFilenames(t.components.PersistentCodeEditor.files);case 8:return n.next=10,s.a.setWorkspace(o);case 10:return n.next=12,a.a.clearHistory();case 12:if(!t.components.WebBrowser){n.next=16;break}if(!t.components.WebBrowser.display_url){n.next=16;break}return n.next=16,a.a.load(t.components.WebBrowser.display_url);case 16:case"end":return n.stop()}},_callee,this)}));return function setupWorkspace(t){return e.apply(this,arguments)}}()},zSpj:function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o),i=r("/ar6");n.a.createStore({init:function init(){this._adapter=null,this._broadcast=null,this.listenToMany({onBroadcast:i.a.broadcast,onNewAdapter:i.a.newAdapter})},onBroadcast:function onBroadcast(){!this._adapter||!this._broadcast||arguments.length<1||this._broadcast.apply(this,arguments)},onNewAdapter:function onNewAdapter(e){this._adapter=e,this._broadcast=e.createComponentBroadcastFunction("Reflux"),this.trigger()}})},zj2G:function(e,t,r){e.exports={headerIcon:"headerIcon__3PJznhF504VDDQyiK5lQKy",body:"body__2PR9z5i74C175ogXEKU0k8",bodyParentHeading:"bodyParentHeading__1m1O75h8NDE_hVVsRNZxHs",bodyHeading:"bodyHeading__2BpaNnfKeJ3alTJNTkzJ94",fullWidthBtn:"fullWidthBtn__3oIYFJw17M5wO26fVMrojK"}},zmXR:function(e,t,r){e.exports={copyField:"copyField__3-fQ2A8IrBfyrw9qoh3XgZ",copyInputField:"copyInputField__wooT7hh4kzO6fmjY48ugT",errorMsg:"errorMsg__2gFOQ7b9Wusd6M_Sc2Fz4U",responseMsgContainer:"responseMsgContainer__1uNkcerA1kmOJHQE57B-vl",loadingContainer:"loadingContainer__274Nq8IOXZeKLGyBFp1xwb"}}}]);
//# sourceMappingURL=86.f2e2d752a6c34ef37d5d.chunk.js.map