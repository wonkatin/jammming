(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{ILMH:function(t,o,n){"use strict";var e=n("sEfC"),a=n.n(e),i=n("vN+2"),r=n.n(i),s=n("hhPA"),l=n.n(s),c=n("BzM2"),h=n("Yr7M"),u=n("HOuw"),d=n("Nd0X"),p=n("fw5G"),y=n.n(p);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var o=0,n=new Array(t.length);o<t.length;o++)n[o]=t[o];return n}}(t)||function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperty(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}var f={internalUrl:"",displayUrl:""},b=l.a.createStore({mixins:[c.StateMixin.store],init:function init(){this.listenToMany(h.a),this.debouncedOnLoadCallback=a()(this.onLoadCallback.bind(this),2e3)},getInitialState:function getInitialState(){return{init:!1,nonce:0,history:[],messages:[],historyIndex:-1,loading:!1,onLoadCallback:r.a,location:f}},currentLocation:function currentLocation(){return this.state.history[this.state.historyIndex]},onClearHistory:function onClearHistory(){this.setState({init:!1,history:[],historyIndex:-1,location:f})},onRefresh:function onRefresh(){this.currentLocation()?this.setState({nonce:this.state.nonce+1,loading:!0,onLoadCallback:this.onLoadComplete(h.a.refresh)}):h.a.refresh.completed()},onClearMessageHistory:function onClearMessageHistory(){this.setState({messages:[]})},onReceiveMessage:function onReceiveMessage(t){this.setState(function _objectSpread(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{},e=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.forEach(function(o){_defineProperty(t,o,n[o])})}return t}({},this.state,{messages:_toConsumableArray(this.state.messages).concat([t])}))},onNavigateBack:function onNavigateBack(){var t=this.state.historyIndex-1;this.setState({historyIndex:t,location:this.state.history[t],nonce:this.state.nonce+1,messages:[],loading:!0,onLoadCallback:this.onLoadComplete(h.a.navigateBack)})},onLoad:function onLoad(t){if(void 0!==t){var o,n;if(!/localhost/.test(t)&&!/http/.test(t))"/"!==t[0]&&(t="/".concat(t)),this.state.location?(o=this.state.location.displayUrl.host(),n=this.state.location.displayUrl.port()):(o="localhost",n="8000"),t=n?"".concat(o,":").concat(n).concat(t):o+t;/^http.*/.test(t)||(t="http://".concat(t));var e=this.currentLocation(),a=this.displayUrlToLocation(t);e&&a.displayUrl.toString()===e.displayUrl.toString()||this.push(a),this.setState({location:a,nonce:this.state.nonce+1,messages:[],loading:!0,onLoadCallback:this.debouncedOnLoadCallback})}},onLoadCallback:function onLoadCallback(){this.onLoadComplete(h.a.load)(),this.state.init?d.a.run():this.setState({init:!0})},onPush:function onPush(t){var o=this.internalUrlToLocation(t);o.internalUrl.toString()!==this.state.location.internalUrl.toString()&&(this.push(o),this.setState({location:this.currentLocation()}))},push:function push(t){this.state.history=this.state.history.slice(0,this.state.historyIndex+1),this.state.history.push(t),this.state.historyIndex=this.state.history.length-1},onLoadComplete:function onLoadComplete(t){var o=this;return function(){t.completed(),o.setState({loading:!1})}},displayUrlToLocation:function displayUrlToLocation(t){return{displayUrl:new y.a(t),internalUrl:this._displayToInternalUrl(t)}},internalUrlToLocation:function internalUrlToLocation(t){return{internalUrl:new y.a(t),displayUrl:this._internalToDisplayUrl(t)}},_displayToInternalUrl:function _displayToInternalUrl(t){if(void 0===t)return"";var o=new y.a(t);return"localhost"!==o.host()&&""!==o.host()?t:(o.host("".concat(u.a.interface._sessionID,".").concat(CCDATA.workshop_cloud_domain)),o.port(""),o.protocol(CCDATA.workshop_cloud_protocol),o)},_internalToDisplayUrl:function _internalToDisplayUrl(t){var o=new y.a(t);return CCDATA.workshop_cloud_domain&&new RegExp(CCDATA.workshop_cloud_domain).test(t)&&o.host("localhost"),o}});o.a=b}}]);
//# sourceMappingURL=28.f390a631050f5cf65ca9.chunk.js.map